{"version":3,"sources":["providers/Modal/ModalContext.js","providers/Modal/ModalProvider.js","providers/Notification/NotificationContext.js","providers/Notification/NotificationProvider.js","components/FontAwesome/index.js","providers/Slides/SlidesContext.js","helper/meta.js","helper/contants.js","components/Editor/Drag/Drag.js","components/Editor/Resizable/utils.js","components/Editor/Resizable/Rect/StyledRect.js","components/Editor/Resizable/Rect/index.js","components/Editor/Resizable/ResizableRect.js","components/Editor/Resizable/index.js","components/Icons/Loading.js","components/Editor/InfiniteScroller/index.js","redux/slices/storiesSlice.js","hooks/useOnDrop.js","hooks/useRedux.js","hooks/useStories.js","components/modal/index.js","assets/imgs/remove.svg","providers/Slides/SlidesProvider.js","components/form_control/BasicTooltip.js","components/form_control/BasicButton.js","components/form_control/MenuBar.js","components/Editor/StoryLayers/LayerHeader.js","components/Editor/StoryLayers/LayerFooter.js","components/Editor/StoryLayers/DefaultLayer.js","components/Editor/StoryLayers/AutoAdvance.js","components/Editor/StoryLayers/LayerController.js","components/Editor/StoryLayers/LayerChildMenu.js","components/Editor/StoryLayers/Layer.js","components/Editor/StoryLayers/index.js","components/Editor/StoryLayers/GalleryView.js","components/MainContent.js","redux/slices/actionStackSlice.js","components/Editor/SideBar/Headers/TopNav.js","components/Editor/SideBar/Animation/Animation.js","components/Editor/SideBar/Headers/styles.js","components/Editor/SideBar/Headers/LayerDesignNav.js","components/Navbar.js","assets/imgs/logo.png","components/Editor/SideBar/ColorPicker/ColorPicker.js","components/Editor/SideBar/Emojis/Emojis.js","config/index.js","api/index.js","redux/thunks/fetchEditorMeta.js","components/Editor/SideBar/Giphy/styles.js","components/MasonryItems/index.js","components/Editor/SideBar/Giphy/MansoryGiphys.js","redux/slices/editorMetaSlice.js","components/Editor/SideBar/Giphy/Giphy.js","components/Editor/SideBar/Images/MasonaryImages.js","components/Editor/SideBar/Images/styles.js","components/Editor/SideBar/Images/Images.js","components/Editor/SideBar/Stickers/styles.js","components/Editor/SideBar/Stickers/MansoryStickers.js","components/Editor/SideBar/Stickers/Sticker.js","components/Editor/SideBar/Text/styles.js","components/Editor/SideBar/Text/Text.js","components/Editor/SideBar/Videos/Preview.js","components/Editor/SideBar/Videos/styles.js","components/Editor/SideBar/Videos/Videos.js","components/Editor/SideBar/Shapes/Shapes.js","components/Editor/SideMenuContent.js","components/Editor/SideBar/Upload/Upload.js","components/MainLayout.js","components/Stories/ModalForm.js","components/Stories/AllStories.js","components/Stories/TemplateModal.js","components/Stories/Templates.js","App.js","redux/middlewares/logger.js","redux/slices/modalSlice.js","redux/store/store.js","index.js"],"names":["ModalContext","createContext","ModalProvider","children","useState","modalContent","setModalContent","closeModal","useCallback","Provider","value","NotificationContext","NotificationProvider","openNotification","title","desc","type","placement","duration","icon","className","style","iconProps","args","message","description","notification","library","add","faUndo","faRedo","faPlay","faChevronUp","faLayerGroup","faRuler","faLink","faEnvelope","faPlus","faPlusSquare","faStopwatch","faTrash","faPalette","faFont","faCamera","faSmile","faHome","faHistory","faUserFriends","faDiceD6","faColumns","faWindowRestore","faWindowMaximize","faEllipsisV","faUpload","faCopy","FaUndo","props","FaRedo","FaPlay","FaLayerGroup","FaRuler","Falink","FaEnvelope","FaAdd","FaSquarePlus","FaStopwatch","FaTrash","FaPalette","FaFont","FaCamera","FaSmiley","FaHome","FaEllipsisV","FaCopy","SlidesContext","isUrl","url","Boolean","URL","e","generateId","head","Date","now","toString","tail","Math","random","substr","match","join","isGradientColor","color","validString","includes","getBackgroundStyles","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundColor","validValue","val","undefined","str","validNumber","isValid","nums","i","length","isValidObject","obj","Object","prototype","call","isValidObjectWithKeys","keys","getKeysFromObject","map","key","calculteTimeDiff","start","end","startTime","diff","miliSecs","min","hrs","floor","toLocaleString","minimumIntegerDigits","useGrouping","debounce","fn","timer","time","rest","clearTimeout","setTimeout","getResizableStyles","tag","defaultStyles","DEFAULT_RECT_STYLE","MULTI_MEDIA_TAGS","TEXTS_TAGS","HEADERS_TAGS","height","width","getTagStyle","tagName","TAGS_STYLES","capitalizeString","separator","capitalizedStr","split","forEach","word","charAt","toLocaleUpperCase","slice","trim","removeItemAndInsertAt","array","delIndex","deleteCount","insertAt","element","arr","Array","isArray","tempArr","splice","FONT_FAMILIES","FONT_WEIGHTS","name","ZOOMABLE_MAP","n","s","w","ne","nw","se","sw","ItemTypes","ANIMATIONS","DEFAULT_PICKER_COLOR","DEFAULT_SOLID_COLORS","DEFAULT_GRADIENT_COLORS","EDITOR_META_KEY","STORIES_KEY","MODAL_SLICE_NAME","IMAGES_NOT_FOUND","VIDEOS_NOT_FOUND","STICKERS_NOT_FOUND","GIPHYS_NOT_FOUND","REQUIRED_STORY_MIN_MSG","REQUIRED_STORY_MAX_MSG","VIEW_STORY","ADD_NEW_STORY_LAYER","activeElementIndex","id","backgroundUrl","elements","isActive","DEFAULT_STORY_LAYER","isDefault","CREATE_NEW_STORY","tags","activeLayer","storyLayers","ZOOM_OPTS","img","video","h1","h2","h3","h4","p","span","BORDERS","top","left","rotateAngle","position","HEADING_STYLE","fontFamily","fontSize","fontWeight","letterSpacing","lineHeight","textAlign","textTransform","transform","IMAGE_STYLE","objectFit","VIDEO_STYLE","margin","Drag","dragPreviewSrc","useRedux","dispatch","useDrag","item","collect","monitor","isDragging","drag","preview","DragPreviewImage","connect","src","React","cloneElement","ref","onClick","alt","updateStoryLayer","console","log","defaultProps","getAngle","x1","x","y1","y","x2","y2","dot","det","atan2","PI","degToRadian","deg","cos","sin","setWidthAndDeltaW","deltaW","minWidth","expectedWidth","setHeightAndDeltaH","deltaH","minHeight","expectedHeight","getNewStyle","rect","ratio","centerX","centerY","widthFlag","heightFlag","abs","widthAndDeltaW","heightAndDeltaH","size","cursorStartMap","cursorDirectionArray","cursorMap","0","1","2","3","4","5","6","7","8","9","10","11","centerToTL","OverlayDiv","styled","StyledRect","div","dynamic_styles","isParentLayerActive","Rect","setElementRef","$element","outsidesEl","document","querySelectorAll","handleClickOutside","index","isEdit","preventDefault","isClickInside","contains","target","activeStoryLayerChild","deActiveStoryLayerChild","startDrag","startX","clientX","startY","clientY","onDragStart","_isMouseDown","onMove","stopImmediatePropagation","deltaX","deltaY","onDrag","addEventListener","onUp","removeEventListener","onDragEnd","startRotate","button","startAngle","styles","getBoundingClientRect","center","startVector","onRotateStart","angle","onRotate","onRotateEnd","startResize","cursor","body","getAttribute","onResizeStart","onResizeEnd","this","el","onDoubleClickText","stories","zoomable","rotatable","parentRotateAngle","direction","d","filter","animate","animations","active_storyId","onMouseDown","b","xmlns","fillRule","fill","increment","getCursor","onDoubleClick","PureComponent","state","present","ResizableRect","handleRotate","round","handleResize","alpha","isShiftKey","onResize","aspectRatio","beta","handleDrag","tLToCenter","Component","Resize","rectStyles","child","alignments","setAlignments","text","child_style","content","setEditing","useEffect","changeRectStyles","newAligns","changeRectAlignments","handleTextChange","changeLayerElementChildText","innerText","isMultiMediaTag","contentEditable","onKeyDown","suppressContentEditableWarning","spellCheck","createElement","Loading","LoadingOutlined","spin","InfiniteScroller","pageStart","loadMore","hasMore","useWindow","initialLoad","loading","loader","storiesSlice","createSlice","initialState","reducers","createStory","payload","new_story","data","setAnimations","action","deleteStory","activeStory","layer","changeBackground","changeLayerElementChildStyle","prevStyle","changeStoryLayer","addStoryLayer","story","copyStoryLayer","currStory","push","isAnimating","caseReducers","updatePostStoryLayer","updateIndex1StoryLayer","deleteStoryLayerChild","childIndex","slideId","_","actions","selectCount","useOnDrop","currentSlide","getState","HEADER1","HEADER2","HEADER3","HEADER4","PARAGRAPH","SPAN","IMAGE","useDrop","accept","drop","getItemType","didDrop","isOver","isOverCurrent","shallow","useDispatch","states","useSelector","useStories","storiesStore","object","layerStyles","renderElements","ModalView","subText","imageSrc","onClose","okText","cancelText","centered","onDlete","okButtonProps","cancelButtonProps","open","visible","onOk","onCancel","marginTop","SlidesProvider","useContext","setCurrentSlide","uuidv4","slides","setSlides","tempSlides","changeAlignment","alignment","getSlides","curr","findIndex","a","startFrom","endAt","changeSlide","addNewSlide","updateSlide","slideNo","deleteSlide","imgUrl","deleteIdx","activeIndex","deleteSlideChild","selectedIndex","slide","openDeleteModal","removeSvg","danger","BasicTooltip","tooltipTitle","tooltipPosition","arrowPositionIsCenter","arrowPointAtCenter","BasicButton","disabled","block","transparent","href","withTooltip","tooltipProps","btnSize","sm","lg","def","link","Wrapper","ghost","MenuBar","menuItems","actionTrigger","menu","Item","display","justifyContent","short","overlay","trigger","LayerHeader","number","onAdd","onCopy","slideItems","justify","LayerFooter","paddingTop","marginRight","padding","DefaultLayer","hoverable","borderRadius","background","overflow","flexDirection","offset","shape","marginLeft","AutoAdvance","modalVisible","setModalVisible","delay","setDelay","autoAdvanceModal","useRef","current","onChange","checked","htmlFor","max","trackStyle","handleStyle","border","LayerController","LayerChildMenu","shoaib","withContextMenu","onPaste","onDelete","options","CopyOutlined","FileProtectOutlined","DeleteOutlined","BlockOutlined","SwitcherOutlined","SwitcherFilled","SlideContext","alert","Layer","layerId","layerElements","childClass","topBar","bottomBar","dropRef","nam","getElementById","hideMenu","onclick","oncontextmenu","SwiperCore","use","EffectCoverflow","Pagination","StoryLayers","clipboard","setclipboard","useParams","swiper","slideTo","addStory","chik","copyStory","initialSlide","allowTouchMove","slidesPerView","slideToClickedSlide","spaceBetween","centeredSlides","onSlideChange","backgroundStyle","GalleryView","hi","setHi","list","setList","animation","order","sortable","evt","onEnd","Option","Select","Content","Layout","MainContent","gallery","setGallery","xoom","setXoom","noOfSlides","slidesCount","exampleRef","defaultValue","event","zoom","clickMe","actionStackReducers","pop","Header","TopNav","isModalVisible","setIsModalVisible","cusstore","setCusstore","showModal","htmlToImage","imageUrls","arrayOfPromises","Promise","all","arrayOfData","ActionCreators","undo","redo","footer","defaultInterval","Animation","anim","currentTarget","classList","remove","onMouseOver","onMouseLeave","icons","plusIcon","PlusOutlined","minusIcon","MinusOutlined","colorIcon","FontColorsOutlined","backgroundColorIcon","BgColorsOutlined","fontWeightIcon","BoldOutlined","fontStyleIcon","ItalicOutlined","textAlignLeftIcon","AlignLeftOutlined","textAlignRightIcon","AlignRightOutlined","textAlignCenterIcon","AlignCenterOutlined","textAlignBottomIcon","VerticalAlignBottomOutlined","DropDown","withDiffVals","slected","cssStyle","showSearch","placeholder","optionFilterProp","v","filterOption","input","option","toLowerCase","indexOf","o","IconButton","FontSize","applyStyles","updateFont","Styles","textTags","LayerDesignNav","openAnimationPanel","optionVisiblity","setOptionVisiblity","setIstrue","urlRef","component","DeleteFilled","Navbar","ColorPicker","bgColor","isGradient","TabPane","Tabs","changeColor","defaultActiveKey","tab","colorBoardHeight","defaultColors","gradient","solid","Emojis","columnsCount","gutter","overflowY","overflowX","scrollbarWidth","emojis","GIPHY_API_KEY","UNSPLASH_CLIENT_ID","GIFS_API_KEY","VIDEO_ACCESS_TOKEN","client","endpoint","customConfig","headers","config","method","JSON","stringify","fetch","response","json","ok","status","Error","statusText","reject","get","post","fetchImages","createAsyncThunk","thunkApi","signal","abort","res","searchImages","fetchStickers","searchStickers","fetchGiphys","searchGiphys","fetchVideos","Authorization","searchVideos","root","row","infiniteScrollStyles","marginBottom","inputLogo","mansory","MasonryItems","MansoryStickers","giphys","notFoundMsg","loadingIcon","gif","cover","images","fixed_width","loadingImages","searchingImagesFor","searchingBackgroundImagesFor","searchedImages","searchedBackgroundImages","imagesPage","noImagesFoundMsg","loadingStickers","stickers","searchedStickers","noStickersFoundMsg","searchForStickers","loadingGiphys","searchGiphysFor","searchedGiphys","noGiphysFoundMsg","loadingVideos","videos","searchVideosFor","searchedVideos","noVideosFoundMsg","videosPage","editorMetaSlice","clearSearch","extraReducers","pending","fulfilled","rejected","meta","arg","for","query","unshift","results","Giphy","giphysState","apiEndpoint","prefix","SearchOutlined","page","offsets","MansoryGiphys","MasonaryImages","noFoundMsg","bgImgSrc","backgroundImg","hasBackgroundImg","urls","thumb","data-url","regular","bodyStyle","CheckCircleTwoTone","twoToneColor","Images","searchUrl","clearSearches","replace","downsized_medium","downsized","Sticker","stickersState","col","alignItems","headerOne","headerTwo","paragraph","sText","Text","Preview","videoData","play","setPlay","video_files","loaded","isVideoImgLoaded","onMouseEnter","onMouseOut","loop","autoPlay","poster","image","onLoad","Videos","videosState","searchFor","setSearchFor","handleSearch","renderVideos","Shapes","shapes","Sider","SideMenuContent","sideType","customComponent","uploadFiles","siderBarRef","handleClose","flex","UploadFiles","file","fileList","defaultFileList","uid","UploadOutlined","MainLayout","isOpen","setIsOpen","setSideType","setCustomComponent","setUploadFiles","history","useHistory","openSecondarySider","logo","faCloudUploadAlt","errorStyle","ModalForm","setStoryName","setTags","error","onSubmit","layout","label","autoFocus","onKeyUp","extra","AllStories","goto","storyId","Meta","Card","TemplateModal","storyName","storyTags","setError","setNameOfStory","createNewStory","handleVisibility","Templates","openUserProfileTab","setOpenUserProfileTab","clickOutsideProfileMenu","closest","userProfileTabHandler","fontSizings","faClone","faChartArea","faTachometerAlt","faUsers","faCog","faDatabase","faUserAlt","role","aria-label","viewBox","focusable","data-icon","aria-hidden","CaretLeftOutlined","App","path","logColor","actiontitle","nextState","prevState","black","logger","store","next","startingTime","result","endingTime","group","white","info","groupEnd","modalSlice","configureStore","reducer","undoable","storiesReducers","limit","editorMetaReducers","modalReducers","middleware","getDefaultMiddleware","serializableCheck","concat","ReactDOM","render","DndProvider","backend","HTML5Backend"],"mappings":"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","file":"static/js/main.bb30d8eb.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nconst ModalContext = createContext()\r\n\r\nexport default ModalContext\r\n","import React, { useCallback, useState } from 'react'\r\nimport { ModalContext } from './'\r\n\r\nconst ModalProvider = ({ children }) => {\r\n  const [modalContent, setModalContent] = useState(null)\r\n\r\n  const closeModal = useCallback(() => setModalContent(null))\r\n\r\n  return (\r\n    <ModalContext.Provider\r\n      value={{\r\n        setModalContent,\r\n        closeModal,\r\n      }}\r\n    >\r\n      {children} {modalContent && modalContent}\r\n    </ModalContext.Provider>\r\n  )\r\n}\r\n\r\nexport default ModalProvider\r\n","import { createContext } from 'react'\r\n\r\nconst NotificationContext = createContext()\r\n\r\nexport default NotificationContext\r\n","import React, { useCallback } from 'react'\r\nimport { notification } from 'antd'\r\nimport { NotificationContext } from './'\r\n\r\nconst NotificationProvider = ({ children }) => {\r\n  //type = success | info | warning | error\r\n  //placement = topRight | topLeft | bottomRight | bottomLeft\r\n  //duration = If not specified, default value is 4.5 seconds. If you set the value to 0, the notification box will never close automatically.\r\n  const openNotification = useCallback(\r\n    ({\r\n      title = 'Notifiction',\r\n      desc = '',\r\n      type = 'open',\r\n      placement = 'topRight',\r\n      duration = 3,\r\n      icon = null,\r\n      className,\r\n      style,\r\n    }) => {\r\n      let iconProps = icon ? { icon: icon } : {}\r\n      let args = {\r\n        message: title,\r\n        description: desc,\r\n        placement,\r\n        duration,\r\n        className,\r\n        ...iconProps,\r\n        style,\r\n      }\r\n      notification[type](args)\r\n    }\r\n  )\r\n\r\n  return (\r\n    <NotificationContext.Provider value={{ openNotification }}>\r\n      {children}\r\n    </NotificationContext.Provider>\r\n  )\r\n}\r\n\r\nexport default NotificationProvider\r\n","import { library } from '@fortawesome/fontawesome-svg-core'\r\nimport {\r\n  faUndo,\r\n  faRedo,\r\n  faPlay,\r\n  faChevronUp,\r\n  faLayerGroup,\r\n  faRuler,\r\n  faLink,\r\n  faEnvelope,\r\n  faPlus,\r\n  faPlusSquare,\r\n  faStopwatch,\r\n  faTrash,\r\n  faPalette,\r\n  faFont,\r\n  faCamera,\r\n  faSmile,\r\n  faHome,\r\n  faHistory,\r\n  faUserFriends,\r\n  faDiceD6,\r\n  faColumns,\r\n  faWindowRestore,\r\n  faWindowMaximize,\r\n  faEllipsisV,\r\n  faUpload,\r\n  faCopy\r\n} from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nlibrary.add([\r\n  faUndo,\r\n  faRedo,\r\n  faPlay,\r\n  faChevronUp,\r\n  faLayerGroup,\r\n  faRuler,\r\n  faLink,\r\n  faEnvelope,\r\n  faPlus,\r\n  faPlusSquare,\r\n  faStopwatch,\r\n  faTrash,\r\n  faPalette,\r\n  faFont,\r\n  faCamera,\r\n  faSmile,\r\n  faHome,\r\n  faHistory,\r\n  faUserFriends,\r\n  faDiceD6,\r\n  faColumns,\r\n  faWindowRestore,\r\n  faWindowMaximize,\r\n  faEllipsisV,\r\n  faUpload,\r\n  faCopy\r\n])\r\n\r\nexport const FaUndo = (props) => <FontAwesomeIcon {...props} icon={'undo'} />\r\nexport const FaRedo = (props) => <FontAwesomeIcon {...props} icon={'redo'} />\r\nexport const FaPlay = (props) => <FontAwesomeIcon {...props} icon={'play'} />\r\nexport const FaChevronUp = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'chevron-up'} />\r\n)\r\nexport const FaLayerGroup = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'layer-group'} />\r\n)\r\nexport const FaRuler = (props) => <FontAwesomeIcon {...props} icon={'ruler'} />\r\nexport const Falink = (props) => <FontAwesomeIcon {...props} icon={'link'} />\r\nexport const FaEnvelope = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'envelope'} />\r\n)\r\nexport const FaAdd = (props) => <FontAwesomeIcon {...props} icon={'plus'} />\r\nexport const FaSquarePlus = (props) => <FontAwesomeIcon {...props} icon={'plus-square'} />\r\nexport const FaStopwatch = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'stopwatch'} />\r\n)\r\nexport const FaTrash = (props) => <FontAwesomeIcon {...props} icon={'trash'} />\r\nexport const FaPalette = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'palette'} />\r\n)\r\nexport const FaFont = (props) => <FontAwesomeIcon {...props} icon={'font'} />\r\nexport const FaCamera = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'camera'} />\r\n)\r\nexport const FaSmiley = (props) => <FontAwesomeIcon {...props} icon={'smile'} />\r\nexport const FaHome = (props) => <FontAwesomeIcon {...props} icon={'home'} />\r\nexport const FaHistory = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'history'} />\r\n)\r\nexport const FaUserFriends = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'user-friends'} />\r\n)\r\nexport const FaDiceD6 = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'dice-d6'} />\r\n)\r\nexport const FaColumns = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'columns'} />\r\n)\r\nexport const FaWindowRestore = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'window-restore'} />\r\n)\r\nexport const FaWindowMaximize = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'window-maximize'} />\r\n)\r\nexport const FaEllipsisV = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'ellipsis-v'} />\r\n)\r\n\r\nexport const FaUpload = (props) => (\r\n  <FontAwesomeIcon {...props} icon={'upload'} />\r\n)\r\n\r\nexport const FaCopy = (props) => <FontAwesomeIcon {...props} icon={'copy'} />\r\n","import { createContext } from 'react'\r\n\r\nconst SlidesContext = createContext()\r\n\r\nexport default SlidesContext\r\n","import {\r\n  DEFAULT_RECT_STYLE,\r\n  HEADERS_TAGS,\r\n  MULTI_MEDIA_TAGS,\r\n  TAGS_STYLES,\r\n  TEXTS_TAGS,\r\n} from './contants'\r\n\r\n/**\r\n * Checks if a valid URL;\r\n * @param val: string/url != (undefined or null)\r\n */\r\nexport const isUrl = (url) => {\r\n  try {\r\n    return Boolean(new URL(url))\r\n  } catch (e) {\r\n    return false\r\n  }\r\n}\r\n\r\n/**\r\n * @returns unique id\r\n */\r\nexport const generateId = () => {\r\n  let head = Date.now().toString(36)\r\n  let tail = Math.random().toString(36).substr(2)\r\n  let id = `${head}${tail}`.match(/.{1,6}/g).join('-')\r\n  return id\r\n}\r\n\r\n/**\r\n * Checks color is gradient or not\r\n * @param val: color\r\n * @returns true/false\r\n */\r\nexport const isGradientColor = (color) =>\r\n  validString(color) && color.includes('-gradient')\r\n\r\n/**\r\n * @param val: object contains color || url != (undefined or null)\r\n * @returns if url background --> image with styles,\r\n *          else if color contains '-gradient' --> backgroundImage as gardient color\r\n *          else --> backgroundColor\r\n */\r\n\r\nexport const getBackgroundStyles = ({ color, url }) => {\r\n  // check if background image url is exist\r\n  if (isUrl(url)) {\r\n    return {\r\n      backgroundImage: `url(${url})`,\r\n      backgroundPosition: 'center',\r\n      backgroundSize: 'cover',\r\n      backgroundRepeat: 'no-repeat',\r\n    }\r\n  }\r\n  // any gradient\r\n  else if (isGradientColor(color)) {\r\n    return {\r\n      backgroundImage: color,\r\n    }\r\n  } else return { backgroundColor: color }\r\n}\r\n\r\n/**\r\n * Checks if a valid string;\r\n * @param val: number/string/object/array != (undefined or null)\r\n */\r\nexport const validValue = (val) =>\r\n  typeof val !== 'undefined' && val !== undefined && val !== null\r\n\r\n/**\r\n * Checks if a valid string\r\n * @param str: string\r\n */\r\nexport const validString = (str) => !!str && typeof str === 'string'\r\n\r\n\r\n/**\r\n * Checks if a valid number\r\n * @param num: number\r\n */\r\nexport const validNumber = (...nums) => {\r\n  let isValid = true\r\n  for (let i = 0; i < nums.length; i++) {\r\n    if (!validValue(nums[i]) && typeof nums[i] !== 'number') {\r\n      isValid = false\r\n      break\r\n    }\r\n  }\r\n  return isValid\r\n}\r\n\r\n/**\r\n * Checks if a valid string and validate with min length.\r\n * @param str: string\r\n */\r\nexport const validStringWithMinLength = (str, length = 1) =>\r\n  validString(str) && str.length >= length\r\n\r\n/**\r\n * Checks if a valid string and validate with max length.\r\n * @param str: string\r\n */\r\nexport const validStringWithMaxLength = (str, length = 1) =>\r\n  validString(str) && str.length <= length\r\n\r\n/**\r\n * Checks if a valid object\r\n * @param obj: object\r\n */\r\nexport const isValidObject = (obj) =>\r\n  obj &&\r\n  obj === Object(obj) &&\r\n  Object.prototype.toString.call(obj) !== '[object Array]'\r\n\r\n/**\r\n * Check if valid Array\r\n * @param arr: array \r\n */\r\nexport const isValidArray = (arr) => validValue(arr) && Array.isArray(arr) && arr.length >= 1\r\n\r\n\r\n/**\r\n * Checks if a valid object with keys\r\n * @param obj: object\r\n */\r\nexport const isValidObjectWithKeys = (obj) =>\r\n  isValidObject(obj) && !!Object.keys(obj).length\r\n\r\n/**\r\n * @param obj\r\n * @returns array\r\n */\r\nexport const getKeysFromObject = (obj) => {\r\n  if (isValidObject(obj) && isValidObjectWithKeys(obj)) {\r\n    return Object.keys(obj).map((key) => key)\r\n  }\r\n}\r\n\r\n/**\r\n * @param rgb: string\r\n * @returns hex\r\n */\r\nexport const RGBToHex = (rgb) => {\r\n  // Choose correct separator\r\n  let sep = rgb.indexOf(',') > -1 ? ',' : ' '\r\n  // Turn \"rgb(r,g,b)\" into [r,g,b]\r\n  rgb = rgb.substr(4).split(')')[0].split(sep)\r\n\r\n  let r = (+rgb[0]).toString(16),\r\n    g = (+rgb[1]).toString(16),\r\n    b = (+rgb[2]).toString(16)\r\n\r\n  if (r.length === 1) r = '0' + r\r\n  if (g.length === 1) g = '0' + g\r\n  if (b.length === 1) b = '0' + b\r\n\r\n  return '#' + r + g + b\r\n}\r\n\r\n/**\r\n * empty function\r\n */\r\nexport const emptyFunc = () => { }\r\n\r\n/**\r\n * @param start: milliseconds\r\n * @param end: milliseconds\r\n * @return 00:00:00:0000 difference\r\n */\r\nexport const calculteTimeDiff = (start, end) => {\r\n  const startTime = new Date(start) // your initial time\r\n  const endTime = new Date(end) // your later time\r\n\r\n  const diff = endTime - startTime\r\n  const miliSecs = 1000, //1 second = 1000 milliseconds\r\n    min = 60 * miliSecs,\r\n    hrs = 60 * min\r\n  const humanDiff = `${Math.floor(diff / hrs)}:${Math.floor(\r\n    (diff % hrs) / min\r\n  ).toLocaleString('en-US', { minimumIntegerDigits: 2 })}:${Math.floor(\r\n    (diff % min) / miliSecs\r\n  ).toLocaleString('en-US', { minimumIntegerDigits: 2 })}.${Math.floor(\r\n    diff % miliSecs\r\n  ).toLocaleString('en-US', { minimumIntegerDigits: 4, useGrouping: false })}`\r\n\r\n  // console.log(\"humanDiff:\", humanDiff)\r\n  return humanDiff\r\n}\r\n\r\n/**\r\n * @param fn = function\r\n * @default time = 1000 = 1s\r\n */\r\nexport const debounce = (fn, time = 1000) => {\r\n  let timer\r\n  return (...rest) => {\r\n    clearTimeout(timer)\r\n    timer = setTimeout(() => {\r\n      fn(...rest)\r\n    }, time)\r\n  }\r\n}\r\n\r\n/**\r\n * @param tag: string\r\n */\r\nexport const getResizableStyles = (tag) => {\r\n  let defaultStyles = DEFAULT_RECT_STYLE\r\n  if (MULTI_MEDIA_TAGS.includes(tag)) return defaultStyles\r\n  else if (TEXTS_TAGS.includes(tag) || HEADERS_TAGS.includes(tag)) {\r\n    return { ...defaultStyles, height: 22, width: 160 }\r\n  } else return defaultStyles\r\n}\r\n\r\n/**\r\n * @param tagName: string\r\n * @returns object of css styles based on tagName\r\n */\r\nexport const getTagStyle = (tagName) => {\r\n  if (!validString(tagName)) return {}\r\n  else if (\r\n    HEADERS_TAGS.includes(tagName) ||\r\n    TEXTS_TAGS.includes(tagName) ||\r\n    MULTI_MEDIA_TAGS.includes(tagName)\r\n  ) {\r\n    return TAGS_STYLES[tagName]\r\n  }\r\n  // else if (TEXTS_TAGS.includes(tagName)) return {}\r\n  // else if (MULTI_MEDIA_TAGS.includes(tagName)) return {}\r\n}\r\n\r\n/**\r\n * @param string\r\n * @param separater\r\n * @returns capitalized string and remove separator e.g fade-in => Fade In\r\n */\r\n\r\nexport const capitalizeString = (\r\n  str = '',\r\n  separator = ''\r\n  // withSeparator = false //TODO to make efficient\r\n) => {\r\n  if (validString(str)) {\r\n    let capitalizedStr = ''\r\n    str\r\n      .split(separator)\r\n      .forEach(\r\n        (word, i) =>\r\n          (capitalizedStr +=\r\n            word.charAt(0).toLocaleUpperCase() + word.slice(1) + ' ')\r\n      )\r\n    return capitalizedStr.trim()\r\n  } else return str\r\n}\r\n\r\n/**\r\n * @param array: Array\r\n * @param delIndex: number\r\n * @param deleteCount: number\r\n * @param insertAt: number\r\n * @param element: any type\r\n */\r\nexport const removeItemAndInsertAt = (array, delIndex, deleteCount, insertAt, element) => {\r\n  // console.log(validNumber(delIndex, deleteCount))\r\n  if (isValidArray(array) && validNumber(delIndex, deleteCount)) {\r\n    let tempArr = [...array]\r\n    tempArr.splice(delIndex, deleteCount)\r\n    if (validNumber(insertAt) && validValue(element)) { tempArr[insertAt] = element }\r\n    return tempArr\r\n  } return array\r\n}\r\n","import { faLessThanEqual } from '@fortawesome/free-solid-svg-icons'\r\nimport { generateId } from './meta'\r\n\r\nexport const FONT_FAMILIES = ['Arial', 'Roboto', 'Serif', 'Sans-serif', 'Fantasy']\r\nexport const FONT_WEIGHTS = [{ name: 'Light', value: 'lighter' }, { name: 'Bold', value: 'bold' }, { name: 'Bolder', value: 'bolder' }, { name: 'Regular', value: '300' }]\r\n\r\nexport const HEADERS_TAGS = ['h1', 'h2', 'h3', 'h4']\r\nexport const TEXTS_TAGS = ['p', 'span']\r\nexport const MULTI_MEDIA_TAGS = ['img', 'video']\r\n\r\nexport const ZOOMABLE_MAP = {\r\n  n: 't',\r\n  s: 'b',\r\n  e: 'r',\r\n  w: 'l',\r\n  ne: 'tr',\r\n  nw: 'tl',\r\n  se: 'br',\r\n  sw: 'bl',\r\n}\r\nexport const ItemTypes = {\r\n  HEADER1: 'h1',\r\n  HEADER2: 'h2',\r\n  HEADER3: 'h3',\r\n  HEADER4: 'h4',\r\n  PARAGRAPH: 'p',\r\n  SPAN: 'span',\r\n  IMAGE: 'img',\r\n  VIDEO: 'video',\r\n}\r\n\r\nexport const ANIMATIONS = [\r\n  'none',\r\n  'drop',\r\n  'fade-in',\r\n  'fly-in-bottom',\r\n  'fly-in-left',\r\n  'fly-in-right',\r\n  'fly-in-top',\r\n  'pulse',\r\n  'rotate-in-left',\r\n  'rotate-in-right',\r\n  'twirl-in',\r\n  'whoosh-in-left',\r\n  'whoosh-in-right',\r\n  'zoom-in',\r\n  'zoom-out',\r\n]\r\n\r\nexport const DEFAULT_PICKER_COLOR = '#ffffff'\r\n\r\nexport const DEFAULT_SOLID_COLORS = [\r\n  '#000000',\r\n  '#ffffff',\r\n  '#ff5757',\r\n  '#ff66c4',\r\n  '#cb6ce6',\r\n  '#8c52ff',\r\n  '#5271ff',\r\n  '#38b6ff',\r\n  '#5ce1e6',\r\n  '#7ed957',\r\n  '#c9e265',\r\n  '#ffde59',\r\n  '#ffbd59',\r\n  '#ff914d',\r\n  '#42003c',\r\n  '#000000',\r\n]\r\n\r\nexport const DEFAULT_GRADIENT_COLORS = [\r\n  'linear-gradient(0deg, hsl(14, 100%, 80%) 0.00%,hsl(345, 100%, 52%) 100.00%)',\r\n  'linear-gradient(270deg, hsl(22, 94%, 74%) 8.00%,hsl(43, 90%, 69%) 92.00%)',\r\n  'linear-gradient(315deg, hsl(128, 62%, 75%) 8.00%,hsl(78, 96%, 73%) 92.00%)',\r\n  'linear-gradient(270deg, hsl(57, 94%, 63%) 0.00%,hsl(139, 87%, 45%) 100.00%)',\r\n  'linear-gradient(315deg, hsl(199, 88%, 87%) 8.00%,hsl(217, 96%, 81%) 92.00%)',\r\n  'linear-gradient(0deg, hsl(193, 100%, 49%) 0.00%,hsl(217, 100%, 46%) 100.00%)',\r\n  'linear-gradient(0deg, hsl(242, 26%, 72%) 0.00%,hsl(240, 26%, 63%) 51.00%,hsl(240, 26%, 63%) 100.00%)',\r\n  'linear-gradient(0deg, hsl(238, 25%, 42%) 0.00%,hsl(234, 25%, 46%) 15.00%,hsl(237, 23%, 51%) 28.00%,hsl(240, 28%, 57%) 43.00%,hsl(240, 31%, 61%) 57.00%,hsl(235, 38%, 65%) 71.00%,hsl(242, 42%, 71%) 82.00%,hsl(241, 46%, 75%) 92.00%,hsl(248, 50%, 79%) 100.00%)',\r\n  'linear-gradient(270deg, hsl(335, 100%, 75%) 0.00%,hsl(350, 100%, 73%) 100.00%)',\r\n  'linear-gradient(90deg, hsl(242, 87%, 71%) 0.00%,hsl(333, 75%, 70%) 100.00%)',\r\n  'linear-gradient(45deg, hsl(247, 49%, 29%) 0.00%,hsla(265, 64%, 63%, 0.22) 100.00%)',\r\n  'radial-gradient(circle at center, hsl(60, 100%, 50%) 0.00%,hsl(160, 100%, 30%) 50.00%,hsl(300, 100%, 25%) 100.00%)',\r\n  'linear-gradient(45deg, hsl(47, 49%, 29%) 0.00%,hsla(65, 64%, 63%, 0.22) 100.00%)',\r\n  'linear-gradient(0deg, hsl(138, 25%, 42%) 0.00%,hsl(134, 25%, 46%) 15.00%,hsl(137, 23%, 51%) 28.00%,hsl(140, 28%, 57%) 43.00%,hsl(140, 31%, 61%) 57.00%,hsl(135, 38%, 65%) 71.00%,hsl(142, 42%, 71%) 82.00%,hsl(141, 46%, 75%) 92.00%,hsl(148, 50%, 79%) 100.00%)',\r\n  'linear-gradient(270deg, hsl(235, 100%, 75%) 0.00%,hsl(250, 100%, 73%) 100.00%)',\r\n]\r\n\r\n//for redux slice and state selector\r\nexport const EDITOR_META_KEY = 'editorMeta'\r\nexport const STORIES_KEY = 'stories'\r\nexport const ACTIONS_STACK_KEY = 'actionsStack'\r\nexport const MODAL_SLICE_NAME = 'modal'\r\n\r\nexport const IMAGES_NOT_FOUND = 'No Images Found!'\r\nexport const VIDEOS_NOT_FOUND = 'No Videos Found!'\r\nexport const GIFS_NOT_FOUND = 'No Gifs Found!'\r\nexport const STICKERS_NOT_FOUND = 'No Stickers Found!'\r\nexport const GIPHYS_NOT_FOUND = 'No Giphys Found!'\r\n\r\nexport const IMAGES_PER_PAGE = 20\r\nexport const SEARCH_IMAGES_PER_PAGE = 20\r\nexport const STICKERS_PER_PAGE = 20\r\nexport const VIDEOS_PER_PAGE = 25\r\n\r\nexport const MIN_STORY_NAME_LENGTH = 3\r\nexport const MAX_STORY_NAME_LENGTH = 15\r\nexport const REQUIRED_STORY_MSG = 'Please enter story name!'\r\nexport const REQUIRED_STORY_MIN_MSG = `Story Name must be at least ${MIN_STORY_NAME_LENGTH} characters!`\r\nexport const REQUIRED_STORY_MAX_MSG = `Story Name cannot be longer than ${MAX_STORY_NAME_LENGTH} characters!`\r\nexport const VIEW = 'View'\r\nexport const VIEW_STORY = 'View Story'\r\n\r\nexport let ADD_NEW_STORY_LAYER = {\r\n  activeElementIndex: null,\r\n  id: generateId(),\r\n  backgroundColor: '',\r\n  backgroundUrl: '',\r\n  elements: [],\r\n  isActive: true,\r\n}\r\n\r\n// export let COPY_STORY_LAYER = Object.assign({}, ADD_NEW_STORY_LAYER)\r\n\r\n// export let COPY_STORY_LAYER = {\r\n//   ...ADD_NEW_STORY_LAYER,\r\n//   id: generateId(),\r\n//   isActive: true,\r\n//   isDefault: false\r\n// }\r\n\r\nexport let DEFAULT_STORY_LAYER = {\r\n  // ...ADD_NEW_STORY_LAYER,\r\n  id: generateId(),\r\n  isActive: false,\r\n  isDefault: true\r\n}\r\n\r\n\r\nexport const CREATE_NEW_STORY = {\r\n  name: '', // Name of story\r\n  tags: '', //meta serach for tag(s)\r\n  activeLayer: 0,\r\n  storyLayers: [ADD_NEW_STORY_LAYER, DEFAULT_STORY_LAYER],\r\n}\r\n\r\n\r\nexport const ZOOM_OPTS = {\r\n  img: 'n, w, s, e, nw, ne, se, sw',\r\n  video: 'n, w, s, e, nw, ne, se, sw',\r\n  h1: 'w, e',\r\n  h2: 'w, e',\r\n  h3: 'w, e',\r\n  h4: 'w, e',\r\n  p: 'w, e',\r\n  span: 'w, e',\r\n}\r\n\r\n\r\nexport const BORDERS = ['top', 'left', 'bottom', 'right']\r\n\r\n/**\r\n * CSS STYLES\r\n */\r\nexport const DEFAULT_RECT_STYLE = {\r\n  width: 100,\r\n  height: 100,\r\n  top: 100,\r\n  left: 0,\r\n  rotateAngle: 0,\r\n  position: 'absolute',\r\n}\r\n\r\nexport const HEADING_STYLE = {\r\n  color: 'rgb(51, 51, 51)',\r\n  fontFamily: 'Roboto',\r\n  fontSize: 18,\r\n  fontWeight: 500,\r\n  letterSpacing: '1px',\r\n  lineHeight: '1.3em',\r\n  textAlign: 'left',\r\n  textTransform: 'none',\r\n  transform: 'matrix(1, 0, 0, 1, 0, 0)',\r\n}\r\n\r\nexport const IMAGE_STYLE = {\r\n  width: '100%',\r\n  height: '100%',\r\n  objectFit: 'cover',\r\n}\r\n\r\nexport const VIDEO_STYLE = {\r\n  ...IMAGE_STYLE,\r\n  objectFit: 'scale-down',\r\n}\r\n\r\nexport const TAGS_STYLES = {\r\n  h1: { ...HEADING_STYLE, fontSize: '18px' },\r\n  h2: { ...HEADING_STYLE, fontSize: '16px', lineHeight: '1.4em' },\r\n  h3: { ...HEADING_STYLE, fontSize: '15px', lineHeight: '1.6em' },\r\n  h4: HEADING_STYLE,\r\n  p: { ...HEADING_STYLE, fontSize: '14px', lineHeight: '1.5em', margin: 0 },\r\n  span: { ...HEADING_STYLE, fontSize: '14px', lineHeight: '1.5em' },\r\n  img: IMAGE_STYLE,\r\n  video: VIDEO_STYLE,\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { DragPreviewImage, useDrag } from \"react-dnd\";\r\nimport { useRedux } from \"../../../hooks\";\r\nimport { updateStoryLayer } from \"../../../redux/slices/storiesSlice\";\r\n\r\nconst Drag = ({ children, dragPreviewSrc, type }) => {\r\n  const [dispatch] = useRedux();\r\n  const [{ isDragging }, drag, preview] = useDrag({\r\n    type,\r\n    item: { children },\r\n    collect: (monitor) => ({\r\n      isDragging: !!monitor.isDragging(),\r\n    }),\r\n  });\r\n\r\n  const updateSlideOnClick = () => {\r\n    let val = \"\",\r\n      alt = \"\";\r\n    let { props } = children;\r\n    if (type === \"img\") {\r\n      val = props[\"data-url\"] ?? props.src;\r\n      alt = props.alt;\r\n    } else {\r\n      val = props.children.props.children;\r\n    }\r\n    dispatch(updateStoryLayer({ type, val, alt }));\r\n    console.log(\"Drag.js\", val);\r\n    console.log(\"Drag.js1\", type, alt);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {dragPreviewSrc && (\r\n        <DragPreviewImage connect={preview} src={dragPreviewSrc} />\r\n      )}\r\n      {React.cloneElement(children, {\r\n        ref: drag,\r\n        onClick: updateSlideOnClick,\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nDrag.defaultProps = {\r\n  dragPreviewSrc: null,\r\n};\r\n\r\nexport default Drag;\r\n","export const getLength = (x, y) => Math.sqrt(x * x + y * y)\r\n\r\nexport const getAngle = ({ x: x1, y: y1 }, { x: x2, y: y2 }) => {\r\n  const dot = x1 * x2 + y1 * y2\r\n  const det = x1 * y2 - y1 * x2\r\n  const angle = (Math.atan2(det, dot) / Math.PI) * 180\r\n  return (angle + 360) % 360\r\n}\r\n\r\nexport const degToRadian = (deg) => (deg * Math.PI) / 180\r\n\r\nconst cos = (deg) => Math.cos(degToRadian(deg))\r\nconst sin = (deg) => Math.sin(degToRadian(deg))\r\n\r\nconst setWidthAndDeltaW = (width, deltaW, minWidth) => {\r\n  const expectedWidth = width + deltaW\r\n  if (expectedWidth > minWidth) {\r\n    width = expectedWidth\r\n  } else {\r\n    deltaW = minWidth - width\r\n    width = minWidth\r\n  }\r\n  return { width, deltaW }\r\n}\r\n\r\nconst setHeightAndDeltaH = (height, deltaH, minHeight) => {\r\n  const expectedHeight = height + deltaH\r\n  if (expectedHeight > minHeight) {\r\n    height = expectedHeight\r\n  } else {\r\n    deltaH = minHeight - height\r\n    height = minHeight\r\n  }\r\n  return { height, deltaH }\r\n}\r\n\r\nexport const getNewStyle = (\r\n  type,\r\n  rect,\r\n  deltaW,\r\n  deltaH,\r\n  ratio,\r\n  minWidth,\r\n  minHeight\r\n) => {\r\n  let { width, height, centerX, centerY, rotateAngle } = rect\r\n  const widthFlag = width < 0 ? -1 : 1\r\n  const heightFlag = height < 0 ? -1 : 1\r\n  width = Math.abs(width)\r\n  height = Math.abs(height)\r\n  switch (type) {\r\n    case 'r': {\r\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\r\n      width = widthAndDeltaW.width\r\n      deltaW = widthAndDeltaW.deltaW\r\n      if (ratio) {\r\n        deltaH = deltaW / ratio\r\n        height = width / ratio\r\n        // 左上角固定\r\n        centerX +=\r\n          (deltaW / 2) * cos(rotateAngle) - (deltaH / 2) * sin(rotateAngle)\r\n        centerY +=\r\n          (deltaW / 2) * sin(rotateAngle) + (deltaH / 2) * cos(rotateAngle)\r\n      } else {\r\n        // 左边固定\r\n        centerX += (deltaW / 2) * cos(rotateAngle)\r\n        centerY += (deltaW / 2) * sin(rotateAngle)\r\n      }\r\n      break\r\n    }\r\n    case 'tr': {\r\n      deltaH = -deltaH\r\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\r\n      width = widthAndDeltaW.width\r\n      deltaW = widthAndDeltaW.deltaW\r\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\r\n      height = heightAndDeltaH.height\r\n      deltaH = heightAndDeltaH.deltaH\r\n      if (ratio) {\r\n        deltaW = deltaH * ratio\r\n        width = height * ratio\r\n      }\r\n      centerX +=\r\n        (deltaW / 2) * cos(rotateAngle) + (deltaH / 2) * sin(rotateAngle)\r\n      centerY +=\r\n        (deltaW / 2) * sin(rotateAngle) - (deltaH / 2) * cos(rotateAngle)\r\n      break\r\n    }\r\n    case 'br': {\r\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\r\n      width = widthAndDeltaW.width\r\n      deltaW = widthAndDeltaW.deltaW\r\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\r\n      height = heightAndDeltaH.height\r\n      deltaH = heightAndDeltaH.deltaH\r\n      if (ratio) {\r\n        deltaW = deltaH * ratio\r\n        width = height * ratio\r\n      }\r\n      centerX +=\r\n        (deltaW / 2) * cos(rotateAngle) - (deltaH / 2) * sin(rotateAngle)\r\n      centerY +=\r\n        (deltaW / 2) * sin(rotateAngle) + (deltaH / 2) * cos(rotateAngle)\r\n      break\r\n    }\r\n    case 'b': {\r\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\r\n      height = heightAndDeltaH.height\r\n      deltaH = heightAndDeltaH.deltaH\r\n      if (ratio) {\r\n        deltaW = deltaH * ratio\r\n        width = height * ratio\r\n        // 左上角固定\r\n        centerX +=\r\n          (deltaW / 2) * cos(rotateAngle) - (deltaH / 2) * sin(rotateAngle)\r\n        centerY +=\r\n          (deltaW / 2) * sin(rotateAngle) + (deltaH / 2) * cos(rotateAngle)\r\n      } else {\r\n        // 上边固定\r\n        centerX -= (deltaH / 2) * sin(rotateAngle)\r\n        centerY += (deltaH / 2) * cos(rotateAngle)\r\n      }\r\n      break\r\n    }\r\n    case 'bl': {\r\n      deltaW = -deltaW\r\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\r\n      width = widthAndDeltaW.width\r\n      deltaW = widthAndDeltaW.deltaW\r\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\r\n      height = heightAndDeltaH.height\r\n      deltaH = heightAndDeltaH.deltaH\r\n      if (ratio) {\r\n        height = width / ratio\r\n        deltaH = deltaW / ratio\r\n      }\r\n      centerX -=\r\n        (deltaW / 2) * cos(rotateAngle) + (deltaH / 2) * sin(rotateAngle)\r\n      centerY -=\r\n        (deltaW / 2) * sin(rotateAngle) - (deltaH / 2) * cos(rotateAngle)\r\n      break\r\n    }\r\n    case 'l': {\r\n      deltaW = -deltaW\r\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\r\n      width = widthAndDeltaW.width\r\n      deltaW = widthAndDeltaW.deltaW\r\n      if (ratio) {\r\n        height = width / ratio\r\n        deltaH = deltaW / ratio\r\n        // 右上角固定\r\n        centerX -=\r\n          (deltaW / 2) * cos(rotateAngle) + (deltaH / 2) * sin(rotateAngle)\r\n        centerY -=\r\n          (deltaW / 2) * sin(rotateAngle) - (deltaH / 2) * cos(rotateAngle)\r\n      } else {\r\n        // 右边固定\r\n        centerX -= (deltaW / 2) * cos(rotateAngle)\r\n        centerY -= (deltaW / 2) * sin(rotateAngle)\r\n      }\r\n      break\r\n    }\r\n    case 'tl': {\r\n      deltaW = -deltaW\r\n      deltaH = -deltaH\r\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\r\n      width = widthAndDeltaW.width\r\n      deltaW = widthAndDeltaW.deltaW\r\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\r\n      height = heightAndDeltaH.height\r\n      deltaH = heightAndDeltaH.deltaH\r\n      if (ratio) {\r\n        width = height * ratio\r\n        deltaW = deltaH * ratio\r\n      }\r\n      centerX -=\r\n        (deltaW / 2) * cos(rotateAngle) - (deltaH / 2) * sin(rotateAngle)\r\n      centerY -=\r\n        (deltaW / 2) * sin(rotateAngle) + (deltaH / 2) * cos(rotateAngle)\r\n      break\r\n    }\r\n    case 't': {\r\n      deltaH = -deltaH\r\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\r\n      height = heightAndDeltaH.height\r\n      deltaH = heightAndDeltaH.deltaH\r\n      if (ratio) {\r\n        width = height * ratio\r\n        deltaW = deltaH * ratio\r\n        // 左下角固定\r\n        centerX +=\r\n          (deltaW / 2) * cos(rotateAngle) + (deltaH / 2) * sin(rotateAngle)\r\n        centerY +=\r\n          (deltaW / 2) * sin(rotateAngle) - (deltaH / 2) * cos(rotateAngle)\r\n      } else {\r\n        centerX += (deltaH / 2) * sin(rotateAngle)\r\n        centerY -= (deltaH / 2) * cos(rotateAngle)\r\n      }\r\n      break\r\n    }\r\n  }\r\n\r\n  return {\r\n    position: {\r\n      centerX,\r\n      centerY,\r\n    },\r\n    size: {\r\n      width: width * widthFlag,\r\n      height: height * heightFlag,\r\n    },\r\n  }\r\n}\r\n\r\nconst cursorStartMap = { n: 0, ne: 1, e: 2, se: 3, s: 4, sw: 5, w: 6, nw: 7 }\r\nconst cursorDirectionArray = ['n', 'ne', 'e', 'se', 's', 'sw', 'w', 'nw']\r\nconst cursorMap = {\r\n  0: 0,\r\n  1: 1,\r\n  2: 2,\r\n  3: 2,\r\n  4: 3,\r\n  5: 4,\r\n  6: 4,\r\n  7: 5,\r\n  8: 6,\r\n  9: 6,\r\n  10: 7,\r\n  11: 8,\r\n}\r\nexport const getCursor = (rotateAngle, d) => {\r\n  const increment = cursorMap[Math.floor(rotateAngle / 30)]\r\n  const index = cursorStartMap[d]\r\n  const newIndex = (index + increment) % 8\r\n  return cursorDirectionArray[newIndex]\r\n}\r\n\r\nexport const centerToTL = ({\r\n  centerX,\r\n  centerY,\r\n  width,\r\n  height,\r\n  rotateAngle,\r\n}) => ({\r\n  top: centerY - height / 2,\r\n  left: centerX - width / 2,\r\n  width,\r\n  height,\r\n  rotateAngle,\r\n})\r\n\r\nexport const tLToCenter = ({ top, left, width, height, rotateAngle }) => ({\r\n  position: {\r\n    centerX: left + width / 2,\r\n    centerY: top + height / 2,\r\n  },\r\n  size: {\r\n    width,\r\n    height,\r\n  },\r\n  transform: {\r\n    rotateAngle,\r\n  },\r\n})\r\n","import styled from 'styled-components'\r\nimport { HEADERS_TAGS, TEXTS_TAGS } from '../../../../helper/contants'\r\n\r\nconst OverlayDiv = styled.span`\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  background: transparent;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n`\r\nconst StyledRect = styled.div`\r\n  ${({ dynamic_styles, tag }) => {\r\n    let height =\r\n      TEXTS_TAGS.includes(tag) || HEADERS_TAGS.includes(tag)\r\n        ? { height: 'auto' }\r\n        : {}\r\n    return { ...dynamic_styles, ...height }\r\n  }}\r\n  position: absolute;\r\n  color: rgb(117, 117, 117);\r\n  font-size: 0.875rem;\r\n  font-family: 'Circular Std Book';\r\n  margin-bottom: 0px;\r\n  line-height: 20px;\r\n  ${({ isActive, isParentLayerActive }) => {\r\n    return !isParentLayerActive\r\n      ? ``\r\n      : isActive\r\n        ? `.border,\r\n         .rotate,\r\n         .square {\r\n            opacity: 1 !important;\r\n          }`\r\n        : `&:hover {\r\n        .border,\r\n        .rotate,\r\n        .square {\r\n          opacity: 1 !important;\r\n        }\r\n      }`\r\n  }}\r\n  span[contenteditable] {\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 0 8px 0 6px;\r\n  }\r\n  .border {\r\n    position: absolute;\r\n    cursor: pointer;\r\n    width: 0;\r\n    height: 0;\r\n    z-index: 1;\r\n    opacity: 0;\r\n    &.left {\r\n      border-left: 2px solid;\r\n      border-color: var(--primary-color);\r\n      left: 0;\r\n      height: 100%;\r\n    }\r\n    &.right {\r\n      border-right: 2px solid;\r\n      border-color: var(--primary-color);\r\n      right: 0;\r\n      height: 100%;\r\n    }\r\n    &.top {\r\n      border-top: 2px solid;\r\n      border-color: var(--primary-color);\r\n      top: 0;\r\n      width: 100%;\r\n    }\r\n    &.bottom {\r\n      border-bottom: 2px solid;\r\n      border-color: var(--primary-color);\r\n      bottom: 0;\r\n      width: 100%;\r\n    }\r\n  }\r\n  .square {\r\n    position: absolute;\r\n    width: 6px;\r\n    height: 6px;\r\n    background: white;\r\n    border: 1px solid var(--primary-color);\r\n    border-radius: 1px;\r\n    opacity: 0;\r\n  }\r\n  .resizable-handler {\r\n    position: absolute;\r\n    width: 14px;\r\n    height: 14px;\r\n    cursor: pointer;\r\n    &.tl,\r\n    &.t,\r\n    &.tr {\r\n      top: -7px;\r\n  }\r\n    &.tl,\r\n    &.l,\r\n    &.bl {\r\n      left: -7px;\r\n  }\r\n    &.bl,\r\n    &.b,\r\n    &.br {\r\n      bottom: -7px;\r\n    }\r\n    &.br,\r\n    &.r,\r\n    &.tr {\r\n      right: -7px;\r\n    }\r\n    &.l,\r\n    &.r {\r\n      margin-top: -7px;\r\n    }\r\n    &.t,\r\n    &.b {\r\n      margin-left: -7px;\r\n    }\r\n  }\r\n  .rotate {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: -26px;\r\n    width: 18px;\r\n    height: 18px;\r\n    margin-left: -9px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    opacity: 0;\r\n  }\r\n  .tl,\r\n  .tr,\r\n  .bl,\r\n  .br {\r\n    width: 7px;\r\n    height: 7px;\r\n  }\r\n  .t,\r\n  .tl,\r\n  .tr {\r\n    top: -3px;\r\n  }\r\n  .b,\r\n  .bl,\r\n  .br {\r\n    bottom: -2px;\r\n  }\r\n  .r,\r\n  .tr,\r\n  .br {\r\n    right: -2px;\r\n    z-index: 1;\r\n  }\r\n  .tl,\r\n  .l,\r\n  .bl {\r\n    left: -3px;\r\n    z-index: 1;\r\n  }\r\n  .l,\r\n  .r {\r\n    top: 50%;\r\n    margin-top: -7px;\r\n    height: 14px;\r\n  }\r\n  .t,\r\n  .b {\r\n    left: 50%;\r\n    margin-left: -3px;\r\n    width: 14px;\r\n    z-index: 1;\r\n  }\r\n`\r\nexport { OverlayDiv, StyledRect }\r\n","import { func, number, bool, string, object } from \"prop-types\";\r\nimport React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  BORDERS,\r\n  MULTI_MEDIA_TAGS,\r\n  STORIES_KEY,\r\n  ZOOMABLE_MAP,\r\n} from \"../../../../helper/contants\";\r\n// import { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport {\r\n  activeStory,\r\n  activeStoryLayerChild,\r\n  deActiveStoryLayerChild,\r\n} from \"../../../../redux/slices/storiesSlice\";\r\nimport { getAngle, getCursor, getLength } from \"../utils\";\r\nimport { StyledRect, OverlayDiv } from \"./StyledRect\";\r\nclass Rect extends PureComponent {\r\n  static propTypes = {\r\n    index: number,\r\n    setEdit: func,\r\n    styles: object,\r\n    zoomable: string,\r\n    rotatable: bool,\r\n    onResizeStart: func,\r\n    onResize: func,\r\n    onResizeEnd: func,\r\n    onRotateStart: func,\r\n    onRotate: func,\r\n    onRotateEnd: func,\r\n    onDragStart: func,\r\n    onDrag: func,\r\n    onDragEnd: func,\r\n    parentRotateAngle: number,\r\n  };\r\n\r\n  setElementRef = (ref) => {\r\n    this.$element = ref;\r\n  };\r\n  outsidesEl = document.querySelectorAll(\".active\"); //.content\r\n\r\n  componentDidMount() {\r\n    this.outsidesEl.forEach((el) => {\r\n      el.addEventListener(\"mousedown\", this.handleClickOutside, false);\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // document\r\n    //   .querySelectorAll('.active,.content')\r\n    //   .removeEventListener('mousedown', this.handleClickOutside, false)\r\n    this.outsidesEl.forEach((el) => {\r\n      el.removeEventListener(\"mousedown\", this.handleClickOutside, false);\r\n    });\r\n  }\r\n\r\n  handleClickOutside = (e) => {\r\n    let { dispatch, index, isParentLayerActive, isActive, children, isEdit } =\r\n      this.props;\r\n    // isActive && e.stopPropagation()\r\n    // MULTI_MEDIA_TAGS.includes(children.type) && !\r\n    isActive && !isEdit && e.preventDefault();\r\n    let isClickInside = this.$element?.contains(e.target);\r\n    if (isParentLayerActive) {\r\n      if (isClickInside && !isActive) {\r\n        // console.log('Click Inside', index)\r\n        dispatch(activeStoryLayerChild(index));\r\n        return;\r\n      } else if (!isClickInside && isActive) {\r\n        // console.log('Click Outside', e)\r\n        // console.log(e.currentTarget)\r\n        dispatch(deActiveStoryLayerChild(index));\r\n        return;\r\n      } else return;\r\n    } else return;\r\n  };\r\n\r\n  // Drag\r\n  startDrag = (e) => {\r\n    if (!this.props.isParentLayerActive) return;\r\n    let { clientX: startX, clientY: startY } = e;\r\n    this.props.onDragStart && this.props.onDragStart();\r\n    this._isMouseDown = true;\r\n    const onMove = (e) => {\r\n      if (!this._isMouseDown) return; // patch: fix windows press win key during mouseup issue\r\n      e.stopImmediatePropagation();\r\n      const { clientX, clientY } = e;\r\n      const deltaX = clientX - startX;\r\n      const deltaY = clientY - startY;\r\n      this.props.onDrag(deltaX, deltaY);\r\n      startX = clientX;\r\n      startY = clientY;\r\n    };\r\n    const onUp = () => {\r\n      document.removeEventListener(\"mousemove\", onMove);\r\n      document.removeEventListener(\"mouseup\", onUp);\r\n      if (!this._isMouseDown) return;\r\n      this._isMouseDown = false;\r\n      this.props.onDragEnd && this.props.onDragEnd();\r\n    };\r\n    document.addEventListener(\"mousemove\", onMove);\r\n    document.addEventListener(\"mouseup\", onUp);\r\n  };\r\n\r\n  // Rotate\r\n  startRotate = (e) => {\r\n    if (e.button !== 0) return;\r\n    const { clientX, clientY } = e;\r\n    const {\r\n      styles: {\r\n        transform: { rotateAngle: startAngle },\r\n      },\r\n    } = this.props;\r\n    const rect = this.$element.getBoundingClientRect();\r\n    const center = {\r\n      x: rect.left + rect.width / 2,\r\n      y: rect.top + rect.height / 2,\r\n    };\r\n\r\n    const startVector = {\r\n      x: clientX - center.x,\r\n      y: clientY - center.y,\r\n    };\r\n    this.props.onRotateStart && this.props.onRotateStart();\r\n    this._isMouseDown = true;\r\n    const onMove = (e) => {\r\n      if (!this._isMouseDown) return; // patch: fix windows press win key during mouseup issue\r\n      e.stopImmediatePropagation();\r\n      const { clientX, clientY } = e;\r\n      const rotateVector = {\r\n        x: clientX - center.x,\r\n        y: clientY - center.y,\r\n      };\r\n      const angle = getAngle(startVector, rotateVector);\r\n      this.props.onRotate(angle, startAngle);\r\n    };\r\n    const onUp = () => {\r\n      document.removeEventListener(\"mousemove\", onMove);\r\n      document.removeEventListener(\"mouseup\", onUp);\r\n      if (!this._isMouseDown) return;\r\n      this._isMouseDown = false;\r\n      this.props.onRotateEnd && this.props.onRotateEnd();\r\n    };\r\n    document.addEventListener(\"mousemove\", onMove);\r\n    document.addEventListener(\"mouseup\", onUp);\r\n  };\r\n  // const userd = useSelector((state) => state.auth.user);\r\n\r\n  // function mapStateToProps(state) {\r\n  //   const { todos } = state\r\n  //   return { todoList: todos.allIds }\r\n  // }\r\n  // Resize\r\n  startResize = (e, cursor) => {\r\n    if (e.button !== 0) return;\r\n    document.body.style.cursor = cursor;\r\n    const {\r\n      styles: {\r\n        position: { centerX, centerY },\r\n        size: { width, height },\r\n        transform: { rotateAngle },\r\n      },\r\n    } = this.props;\r\n    const { clientX: startX, clientY: startY } = e;\r\n    const rect = { width, height, centerX, centerY, rotateAngle };\r\n    const type = e.target.getAttribute(\"class\").split(\" \")[0];\r\n    this.props.onResizeStart && this.props.onResizeStart();\r\n    this._isMouseDown = true;\r\n    const onMove = (e) => {\r\n      // if (!this._isMouseDown) return; // patch: fix windows press win key during mouseup issue\r\n      // e.stopImmediatePropagation();\r\n      // const { clientX, clientY } = e;\r\n      // const deltaX = clientX - startX;\r\n      // const deltaY = clientY - startY;\r\n      // const alpha = Math.atan2(deltaY, deltaX);\r\n      // const deltaL = getLength(deltaX, deltaY);\r\n      // const isShiftKey = e.shiftKey;\r\n      // this.props.onResize(deltaL, alpha, rect, type, isShiftKey);\r\n    };\r\n\r\n    const onUp = () => {\r\n      document.body.style.cursor = \"auto\";\r\n      document.removeEventListener(\"mousemove\", onMove);\r\n      document.removeEventListener(\"mouseup\", onUp);\r\n      if (!this._isMouseDown) return;\r\n      this._isMouseDown = false;\r\n      this.props.onResizeEnd && this.props.onResizeEnd();\r\n    };\r\n    document.addEventListener(\"mousemove\", onMove);\r\n    document.addEventListener(\"mouseup\", onUp);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      dispatch,\r\n      index,\r\n      isActive,\r\n      isParentLayerActive,\r\n      onDoubleClickText,\r\n      isEdit,\r\n      stories,\r\n      styles: {\r\n        position: { centerX, centerY },\r\n        size: { width, height },\r\n        transform: { rotateAngle },\r\n      },\r\n      zoomable,\r\n      rotatable,\r\n      parentRotateAngle,\r\n      children,\r\n    } = this.props;\r\n    console.log(\"isEdit\", isEdit);\r\n\r\n    const style = {\r\n      width: Math.abs(width),\r\n      height: MULTI_MEDIA_TAGS.includes(children.type)\r\n        ? Math.abs(height)\r\n        : \"auto\",\r\n      transform: `rotate(${rotateAngle}deg)`,\r\n      left: centerX - Math.abs(width) / 2,\r\n      top: centerY - Math.abs(height) / 2,\r\n      // position: 'absolute',\r\n    };\r\n    const direction = zoomable\r\n      .split(\",\")\r\n      .map((d) => d.trim())\r\n      .filter((d) => d); // TODO: may be speed up\r\n\r\n    // const { animations } = useSelector((state) => state[STORIES_KEY])\r\n    // console.log(\"animations are\", animations);\r\n\r\n    const animate = this.props.stories.animations;\r\n    const activeStory = this.props.stories.active_storyId;\r\n\r\n    return (\r\n      <>\r\n        <StyledRect\r\n          ref={this.setElementRef}\r\n          isActive={isActive}\r\n          isParentLayerActive={isParentLayerActive}\r\n          onMouseDown={this.startDrag}\r\n          // onClick={this.startDrag}\r\n          className={`rect single-resizer ${animate}`}\r\n          // dynamic_styles={style}\r\n          // tag={Tag}\r\n          style={style}\r\n        >\r\n          {BORDERS.map((b) => (\r\n            <div key={b} className={`border ${b}`}></div>\r\n          ))}\r\n          {rotatable && (\r\n            <div className=\"rotate\" onMouseDown={this.startRotate}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\">\r\n                <path\r\n                  d=\"M10.536 3.464A5 5 0 1 0 11 10l1.424 1.425a7 7 0 1 1-.475-9.374L13.659.34A.2.2 0 0 1 14 .483V5.5a.5.5 0 0 1-.5.5H8.483a.2.2 0 0 1-.142-.341l2.195-2.195z\"\r\n                  fillRule=\"nonzero\"\r\n                  fill=\"#1890ff\"\r\n                />\r\n              </svg>\r\n            </div>\r\n          )}\r\n          {direction.map((d) => {\r\n            const cursor = `${getCursor(\r\n              rotateAngle + parentRotateAngle,\r\n              d\r\n            )}-resize`;\r\n            return (\r\n              <div\r\n                key={d}\r\n                style={{ cursor }}\r\n                className={`${ZOOMABLE_MAP[d]} resizable-handler`}\r\n                onMouseDown={(e) => this.startResize(e, cursor)}\r\n              />\r\n            );\r\n          })}\r\n          {direction.map((d, i) => {\r\n            return <div key={i} className={`${ZOOMABLE_MAP[d]} square`} />;\r\n          })}\r\n          {children}\r\n          {!isEdit && <OverlayDiv onDoubleClick={onDoubleClickText} />}\r\n        </StyledRect>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// const { animations } = useSelector((state) => state[STORIES_KEY])\r\n// console.log(\"animations are\", animations);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  stories: state[STORIES_KEY].present,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  dispatch,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Rect);\r\n","import PropTypes from \"prop-types\";\r\nimport React, { Component } from \"react\";\r\nimport Rect from \"./Rect\";\r\nimport { centerToTL, degToRadian, getNewStyle, tLToCenter } from \"./utils\";\r\n\r\nexport default class ResizableRect extends Component {\r\n  static propTypes = {\r\n    index: PropTypes.number.isRequired,\r\n    isActive: PropTypes.bool.isRequired,\r\n    onDoubleClickText: PropTypes.func,\r\n    isEdit: PropTypes.bool,\r\n    left: PropTypes.number.isRequired,\r\n    top: PropTypes.number.isRequired,\r\n    width: PropTypes.number.isRequired,\r\n    height: PropTypes.number.isRequired,\r\n    height: PropTypes.oneOfType([\r\n      PropTypes.string.isRequired,\r\n      PropTypes.number.isRequired,\r\n    ]),\r\n    rotatable: PropTypes.bool,\r\n    rotateAngle: PropTypes.number,\r\n    parentRotateAngle: PropTypes.number,\r\n    zoomable: PropTypes.string,\r\n    minWidth: PropTypes.number,\r\n    minHeight: PropTypes.number,\r\n    aspectRatio: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),\r\n    onRotateStart: PropTypes.func,\r\n    onRotate: PropTypes.func,\r\n    onRotateEnd: PropTypes.func,\r\n    onResizeStart: PropTypes.func,\r\n    onResize: PropTypes.func,\r\n    onResizeEnd: PropTypes.func,\r\n    onDragStart: PropTypes.func,\r\n    onDrag: PropTypes.func,\r\n    onDragEnd: PropTypes.func,\r\n  };\r\n\r\n  static defaultProps = {\r\n    parentRotateAngle: 0,\r\n    rotateAngle: 0,\r\n    rotatable: true,\r\n    zoomable: \"\",\r\n    minWidth: 10,\r\n    minHeight: 10,\r\n  };\r\n\r\n  handleRotate = (angle, startAngle) => {\r\n    if (!this.props.onRotate) return;\r\n    let rotateAngle = Math.round(startAngle + angle);\r\n    if (rotateAngle >= 360) {\r\n      rotateAngle -= 360;\r\n    } else if (rotateAngle < 0) {\r\n      rotateAngle += 360;\r\n    }\r\n    if (rotateAngle > 356 || rotateAngle < 4) {\r\n      rotateAngle = 0;\r\n    } else if (rotateAngle > 86 && rotateAngle < 94) {\r\n      rotateAngle = 90;\r\n    } else if (rotateAngle > 176 && rotateAngle < 184) {\r\n      rotateAngle = 180;\r\n    } else if (rotateAngle > 266 && rotateAngle < 274) {\r\n      rotateAngle = 270;\r\n    }\r\n    this.props.onRotate(rotateAngle);\r\n  };\r\n\r\n  handleResize = (length, alpha, rect, type, isShiftKey) => {\r\n    if (!this.props.onResize) return;\r\n    const { rotateAngle, aspectRatio, minWidth, minHeight, parentRotateAngle } =\r\n      this.props;\r\n    const beta = alpha - degToRadian(rotateAngle + parentRotateAngle);\r\n    const deltaW = length * Math.cos(beta);\r\n    const deltaH = length * Math.sin(beta);\r\n    const ratio =\r\n      isShiftKey && !aspectRatio ? rect.width / rect.height : aspectRatio;\r\n    const {\r\n      position: { centerX, centerY },\r\n      size: { width, height },\r\n    } = getNewStyle(\r\n      type,\r\n      { ...rect, rotateAngle },\r\n      deltaW,\r\n      deltaH,\r\n      ratio,\r\n      minWidth,\r\n      minHeight\r\n    );\r\n\r\n    this.props.onResize(\r\n      centerToTL({ centerX, centerY, width, height, rotateAngle }),\r\n      isShiftKey,\r\n      type\r\n    );\r\n  };\r\n\r\n  handleDrag = (deltaX, deltaY) => {\r\n    this.props.onDrag && this.props.onDrag(deltaX, deltaY);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      index,\r\n      isActive,\r\n      onDoubleClickText,\r\n      isEdit,\r\n      isParentLayerActive,\r\n      top,\r\n      left,\r\n      width,\r\n      height,\r\n      rotateAngle,\r\n      parentRotateAngle,\r\n      zoomable,\r\n      rotatable,\r\n      onRotate,\r\n      onResizeStart,\r\n      onResizeEnd,\r\n      onRotateStart,\r\n      onRotateEnd,\r\n      onDragStart,\r\n      onDragEnd,\r\n    } = this.props;\r\n\r\n    const styles = tLToCenter({ top, left, width, height, rotateAngle });\r\n\r\n    return (\r\n      <Rect\r\n        styles={styles}\r\n        zoomable={zoomable}\r\n        rotatable={Boolean(rotatable && onRotate)}\r\n        parentRotateAngle={parentRotateAngle}\r\n        onResizeStart={onResizeStart}\r\n        onResize={this.handleResize}\r\n        onResizeEnd={onResizeEnd}\r\n        onRotateStart={onRotateStart}\r\n        onRotate={this.handleRotate}\r\n        onRotateEnd={onRotateEnd}\r\n        onDragStart={onDragStart}\r\n        onDrag={this.handleDrag}\r\n        onDragEnd={onDragEnd}\r\n        isActive={isActive}\r\n        onDoubleClickText={onDoubleClickText}\r\n        isEdit={isEdit}\r\n        isParentLayerActive={isParentLayerActive}\r\n        index={index}\r\n      >\r\n        {this.props.children}\r\n      </Rect>\r\n    );\r\n  }\r\n}\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { MULTI_MEDIA_TAGS, ZOOM_OPTS } from \"../../../helper/contants\";\r\nimport { debounce } from \"../../../helper/meta\";\r\nimport { useRedux } from \"../../../hooks\";\r\nimport {\r\n  changeLayerElementChildText,\r\n  changeRectAlignments,\r\n} from \"../../../redux/slices/storiesSlice\";\r\nimport ResizableRect from \"./ResizableRect\";\r\n\r\nconst Resize = ({\r\n  rectStyles,\r\n  index,\r\n  isActive,\r\n  child,\r\n  isParentLayerActive,\r\n}) => {\r\n  const [alignments, setAlignments] = useState(rectStyles);\r\n  // console.log(\"alignment\", alignments);\r\n\r\n  const { width, top, left, height, rotateAngle } = alignments;\r\n  let { tag, src, text, child_style } = child;\r\n  let [content, setContent] = useState(text);\r\n  let [isEdit, setEditing] = useState(false);\r\n  let [dispatch] = useRedux();\r\n\r\n  useEffect(() => {\r\n    console.log(\"object\");\r\n    return () => setEditing(false);\r\n  }, [isActive]);\r\n\r\n  let changeRectStyles = useCallback(\r\n    debounce(\r\n      (newAligns) => dispatch(changeRectAlignments({ newAligns, index })),\r\n      300\r\n    ),\r\n    []\r\n  );\r\n\r\n  let editable = (e) => {\r\n    console.log(\"Text Edit\");\r\n    setEditing(true);\r\n  };\r\n\r\n  let handleTextChange = useCallback(\r\n    debounce(\r\n      (e) =>\r\n        dispatch(\r\n          changeLayerElementChildText({ text: e.target.innerText, index })\r\n        ),\r\n      300\r\n    ),\r\n    []\r\n  );\r\n\r\n  const handleResize = (style, isShiftKey, type) => {\r\n    // type is a string and it shows which resize-handler you clicked\r\n    // e.g. if you clicked top-right handler, then type is 'tr'\r\n    changeRectStyles(alignments);\r\n    let { top, left, width, height } = style;\r\n    top = Math.round(top);\r\n    left = Math.round(left);\r\n    width = Math.round(width);\r\n    height = Math.round(height);\r\n    setAlignments({\r\n      ...alignments,\r\n      top,\r\n      left,\r\n      width,\r\n      height,\r\n    });\r\n  };\r\n\r\n  const handleRotate = (rotateAngle) => {\r\n    changeRectStyles(alignments);\r\n    setAlignments({\r\n      ...alignments,\r\n      rotateAngle,\r\n    });\r\n  };\r\n\r\n  const handleDrag = (deltaX, deltaY) => {\r\n    // changeRectStyles()\r\n    changeRectStyles(alignments);\r\n    setAlignments({\r\n      ...alignments,\r\n      left: alignments.left + deltaX,\r\n      top: alignments.top + deltaY,\r\n    });\r\n    console.log(\"left\", left);\r\n    console.log(\"top\", top);\r\n    console.log(\"alignments\", alignments);\r\n  };\r\n\r\n  // console.log(\"dragging\");\r\n\r\n  let isMultiMediaTag = MULTI_MEDIA_TAGS.includes(tag) ? true : false;\r\n  let editableProps = { contentEditable: true };\r\n  let props = isMultiMediaTag\r\n    ? { src: `${src}`, top, left }\r\n    : {\r\n        ...editableProps,\r\n        // onDoubleClick: editable,\r\n        onKeyDown: handleTextChange,\r\n        suppressContentEditableWarning: true,\r\n        top,\r\n        left,\r\n        spellCheck: false,\r\n      };\r\n\r\n  let children = isMultiMediaTag ? null : content;\r\n\r\n  return (\r\n    <ResizableRect\r\n      left={left}\r\n      top={top}\r\n      width={width}\r\n      height={height}\r\n      rotateAngle={rotateAngle}\r\n      // aspectRatio={false}\r\n      // minWidth={10}\r\n      // minHeight={10}\r\n      zoomable={ZOOM_OPTS[tag]}\r\n      // rotatable={true}\r\n      // onRotateStart={handleRotateStart}\r\n      onRotate={handleRotate}\r\n      // onRotateEnd={handleRotateEnd}\r\n      // onResizeStart={handleResizeStart}\r\n      onResize={handleResize}\r\n      // onResizeEnd={handleUp}\r\n      // onDragStart={handleDragStart}\r\n      onDrag={handleDrag}\r\n      // onDragEnd={handleDragEnd}\r\n      isActive={isActive}\r\n      isEdit={isEdit}\r\n      onDoubleClickText={editable}\r\n      isParentLayerActive={isParentLayerActive}\r\n      index={index}\r\n    >\r\n      {React.createElement(\r\n        `${tag}`,\r\n        {\r\n          ...props,\r\n          style: child_style,\r\n        },\r\n        children\r\n      )}\r\n    </ResizableRect>\r\n  );\r\n};\r\n\r\nResize.defaultProps = {\r\n  rectStyles: {},\r\n  index: 0,\r\n  isActive: true,\r\n  child: {},\r\n};\r\n\r\nexport { Resize };\r\n","import { LoadingOutlined } from '@ant-design/icons'\r\n\r\nconst Loading = ({ style, className }) => {\r\n  return <LoadingOutlined className={className} style={style} spin />\r\n}\r\n\r\nLoading.defaultProps = {\r\n  style: { fontSize: 20, color: 'white' },\r\n  className: '',\r\n}\r\n\r\nexport { Loading }\r\n","import InfiniteScroll from 'react-infinite-scroller'\r\nimport { emptyFunc } from '../../../helper/meta'\r\nimport { Loading } from '../../Icons'\r\n\r\nconst InfiniteScroller = ({\r\n  children,\r\n  pageStart,\r\n  loadMore,\r\n  hasMore,\r\n  useWindow,\r\n  initialLoad,\r\n  loading,\r\n  style,\r\n}) => {\r\n  return (\r\n    <InfiniteScroll\r\n      pageStart={pageStart}\r\n      loadMore={loadMore}\r\n      hasMore={hasMore}\r\n      useWindow={useWindow}\r\n      initialLoad={initialLoad}\r\n      loader={loading}\r\n      style={style}\r\n    >\r\n      {children}\r\n    </InfiniteScroll>\r\n  )\r\n}\r\n\r\nInfiniteScroller.defaultProps = {\r\n  pageStart: 0,\r\n  loadMore: emptyFunc,\r\n  hasMore: false,\r\n  useWindow: false,\r\n  initialLoad: false,\r\n  loading: <Loading />,\r\n  style: {},\r\n}\r\n\r\nexport { InfiniteScroller }\r\n","import { createSlice, current } from \"@reduxjs/toolkit\";\r\n// import { v4 as uuidv4 } from 'uuid'\r\n// import Resize from '../../components/Editor/Resize'\r\nimport { Resize } from \"../../components/Editor\";\r\nimport {\r\n  ADD_NEW_STORY_LAYER,\r\n  COPY_STORY_LAYER,\r\n  CREATE_NEW_STORY,\r\n  HEADERS_TAGS,\r\n  MULTI_MEDIA_TAGS,\r\n  STORIES_KEY,\r\n  TEXTS_TAGS,\r\n} from \"../../helper/contants\";\r\nimport {\r\n  generateId,\r\n  getResizableStyles,\r\n  getTagStyle,\r\n  isUrl,\r\n  validValue,\r\n} from \"../../helper/meta\";\r\n\r\n//Initial states of stories\r\n// STORIES => LAYERS\r\n// const initialState = {\r\n//   currentStoryIndex: 0,\r\n//   stories: [\r\n//     ADD_NEW_STORY_LAYER,\r\n//     {\r\n//       id: generateId(),\r\n//       backgroundColor: '',\r\n//       backgroundUrl: '',\r\n//       child: [],\r\n//       isActive: false,\r\n//     },\r\n//     {\r\n//       id: generateId(),\r\n//       backgroundColor: '',\r\n//       backgroundUrl: '',\r\n//       child: [],\r\n//       isActive: false,\r\n//     },\r\n//   ],\r\n// }\r\n\r\n/**\r\n * @description when createStory is call first time so state is:\r\n *                  {\r\n *                    active_storyId: 123,\r\n *                    data: {\r\n *                      [id_of_story]: {  //like: 12hgt50\r\n *                        name: '', // Name of story\r\n *                        tags: '', //meta serach for tag(s)\r\n *                        activeLayer: 0,\r\n *                        storyLayers: [\r\n *                          {\r\n *                            activeElementIndex: null,\r\n *                            id: generateId(), //like: 12hgt60\r\n *                            backgroundColor: '',\r\n *                            backgroundUrl: '',\r\n *                            isActive: boolean, // default true when newly created\r\n *                            elements: [  //Resizeable Component\r\n *                              {\r\n *                                index: arryIndex,\r\n *                                rectStyles: {}, //css styles\r\n *                                isActive: boolean, // default true when newly created\r\n *                                child: {\r\n *                                  tag: '',\r\n *                                  src: '', // if tag [img, video, gif, sticker] its required\r\n *                                  text: '', // if tag [h(1-4), p, span] its required\r\n *                                  child_style: {},\r\n *                                  isAnimating: false,\r\n *                                },\r\n *                              },\r\n *                            ],\r\n *                          },\r\n *                        ],\r\n *                      },\r\n *                    },\r\n *                  }\r\n */\r\nconst initialState = {\r\n  animations: \" \",\r\n};\r\n\r\nconst storiesSlice = createSlice({\r\n  name: STORIES_KEY,\r\n  initialState,\r\n  reducers: {\r\n    createStory: (state, { payload }) => {\r\n      let { name, tags, id } = payload;\r\n      tags = validValue(tags) ? tags : \"\";\r\n      let new_story = { [id]: { ...CREATE_NEW_STORY, name, tags } };\r\n      return {\r\n        ...state,\r\n        active_storyId: id,\r\n        data: state.data ? { ...state.data, ...new_story } : new_story,\r\n      };\r\n    },\r\n    setAnimations: (state, action) => {\r\n      state.animations = action.payload;\r\n    },\r\n\r\n    deleteStory: (state, { payload }) => {\r\n      let { id } = payload;\r\n      delete state.data[id];\r\n    },\r\n\r\n    activeStory: (state, { payload }) => {\r\n      let { id } = payload;\r\n      state.active_storyId = id;\r\n    },\r\n\r\n    activeStoryLayerChild: (state, action) => {\r\n      let { active_storyId, data } = state;\r\n      let { activeLayer, storyLayers } = data[active_storyId];\r\n      let layer = storyLayers[activeLayer];\r\n      if (validValue(layer.activeElementIndex)) {\r\n        layer.elements[layer.activeElementIndex].isActive = false;\r\n      }\r\n      layer.elements[action.payload].isActive = true;\r\n      layer.activeElementIndex = action.payload;\r\n    },\r\n\r\n    deActiveStoryLayerChild: (state, action) => {\r\n      // console.log(action.payload)\r\n      let { active_storyId, data } = state;\r\n      let { activeLayer, storyLayers } = data[active_storyId];\r\n      storyLayers[activeLayer].elements[action.payload].isActive = false;\r\n      storyLayers[activeLayer].activeElementIndex = null;\r\n    },\r\n\r\n    // changeBackground: ({ active_storyId, data }, { payload }) => {\r\n    //   let { type } = payload\r\n    //   let { activeLayer, storyLayers } = data[active_storyId]\r\n    //   // console.log(type, isUrl(type))\r\n    //   storyLayers[activeLayer].backgroundUrl = ''\r\n    //   storyLayers[activeLayer].backgroundColor = ''\r\n    //   type === 'img' && isUrl(payload.val)\r\n    //     ? (storyLayers[activeLayer].backgroundUrl = payload.val)\r\n    //     : (storyLayers[activeLayer].backgroundColor = type)\r\n\r\n    //     console.log(\"111\", storyLayers[activeLayer].backgroundColor )\r\n    // },\r\n\r\n    changeBackground: (state, action) => {\r\n      // return  state += action.payload,\r\n      // console.log(\"changeBackground\", action.payload)\r\n      let { active_storyId } = state;\r\n      let { type } = action.payload;\r\n      let { activeLayer, storyLayers } = state.data[active_storyId];\r\n      storyLayers[activeLayer].backgroundUrl = \"\";\r\n      storyLayers[activeLayer].backgroundColor = \"\";\r\n      type === \"img\" && isUrl(action.payload.val)\r\n        ? (storyLayers[activeLayer].backgroundUrl = action.payload.val)\r\n        : (storyLayers[activeLayer].backgroundColor = type);\r\n    },\r\n\r\n    changeLayerElementChildText: ({ active_storyId, data }, { payload }) => {\r\n      let { index, text } = payload;\r\n      let { activeLayer, storyLayers } = data[active_storyId];\r\n      storyLayers[activeLayer].elements[index].child.text = text;\r\n    },\r\n\r\n    changeLayerElementChildStyle: ({ active_storyId, data }, { payload }) => {\r\n      console.log(payload);\r\n      let { activeLayer, storyLayers } = data[active_storyId];\r\n      let { activeElementIndex, elements } = storyLayers[activeLayer];\r\n      let prevStyle = elements[activeElementIndex].child.child_style;\r\n      elements[activeElementIndex].child.child_style = {\r\n        ...prevStyle,\r\n        ...payload,\r\n      };\r\n    },\r\n\r\n    changeRectAlignments: ({ active_storyId, data }, action) => {\r\n      let { newAligns, index } = action.payload;\r\n      // let { active_storyId, data } = state;\r\n      let { activeLayer, storyLayers } = data[active_storyId];\r\n      storyLayers[activeLayer].elements[index].rectStyles = newAligns;\r\n      console.log(\"data\", newAligns);\r\n    },\r\n\r\n    // getSlides = (() => {\r\n    //     let tempArr = [...slides]\r\n    //     let curr = tempArr.findIndex((a) => a.id === tempArr[currentSlide].id) + 1\r\n    //     let startFrom = curr - 2 >= 2 ? curr - 3 : 0\r\n    //     let endAt =\r\n    //         slides.length >= 5 && startFrom === 0\r\n    //             ? curr + 2\r\n    //             : slides.length < 5\r\n    //                 ? slides.length\r\n    //                 : 5\r\n    //     // console.log(slides.length, endAt)\r\n    //     let a = tempArr.splice(startFrom, endAt)\r\n    //     return a\r\n    // }),\r\n\r\n    changeStoryLayer: (state, { payload }) => {\r\n      let { active_storyId } = state;\r\n      let { storyLayers, activeLayer } = state.data[active_storyId];\r\n      let { index } = payload;\r\n      // if (index === storyLayers.length && storyLayers[activeLayer]) {\r\n      //   storyLayers[activeLayer].isActive = false\r\n      //   state.data[active_storyId].activeLayer = index\r\n      // } else if (activeLayer === storyLayers.length && storyLayers[index]) {\r\n      //   state.data[active_storyId].activeLayer = index\r\n      //   storyLayers[index].isActive = true\r\n      // } else if (index < storyLayers.length) {\r\n      storyLayers[activeLayer].isActive = false;\r\n      state.data[active_storyId].activeLayer = index;\r\n      storyLayers[index].isActive = true;\r\n      // }\r\n    },\r\n\r\n    addStoryLayer: (state, action) => {\r\n      let { active_storyId } = state;\r\n      let story = state.data[state.active_storyId];\r\n      let { activeLayer, storyLayers } = story;\r\n      storyLayers[activeLayer].isActive = false;\r\n      storyLayers.splice(activeLayer + 1, 0, {\r\n        ...ADD_NEW_STORY_LAYER,\r\n        id: generateId(),\r\n      });\r\n      // console.log(activeLayer)\r\n      state.data[active_storyId].activeLayer = activeLayer + 1;\r\n      storyLayers[activeLayer + 1].isActive = true;\r\n    },\r\n\r\n    copyStoryLayer: (state, action) => {\r\n      let { active_storyId } = state;\r\n      let story = state.data[state.active_storyId];\r\n      let { activeLayer, storyLayers } = story;\r\n      storyLayers[activeLayer].isActive = false;\r\n      storyLayers.splice(activeLayer, 0, {\r\n        ...storyLayers[activeLayer],\r\n        id: generateId(),\r\n      });\r\n      // console.log(activeLayer)\r\n      state.data[active_storyId].activeLayer = activeLayer + 1;\r\n      storyLayers[activeLayer + 1].isActive = true;\r\n    },\r\n\r\n    updateStoryLayer: (state, action) => {\r\n      let { type: tag, val, alt } = action.payload;\r\n      console.log(\"update image\", action.payload);\r\n      let data = state.data;\r\n      console.log(\"sas\", data);\r\n      // let { activeLayer, storyLayers } = data[state.active_storyId]\r\n      let currStory = data[state.active_storyId];\r\n      console.log(\"sase\", val);\r\n      if (tag) {\r\n        if (alt !== \"background-image\") {\r\n          let layer = currStory.storyLayers[currStory.activeLayer];\r\n          let index = layer.elements.length;\r\n          // const prevIndex = layer.activeElementIndex\r\n          if (validValue(layer.activeElementIndex)) {\r\n            layer.elements[layer.activeElementIndex].isActive = false;\r\n            console.log(\r\n              layer.elements[layer.activeElementIndex].child.isActive\r\n            );\r\n          }\r\n          layer.activeElementIndex = index;\r\n          layer.elements.push({\r\n            index,\r\n            rectStyles: getResizableStyles(tag),\r\n            isActive: true,\r\n            child: {\r\n              tag,\r\n              src: MULTI_MEDIA_TAGS.includes(tag) ? val : null,\r\n              text:\r\n                TEXTS_TAGS.includes(tag) || HEADERS_TAGS.includes(tag)\r\n                  ? val\r\n                  : null,\r\n              child_style: getTagStyle(tag),\r\n              isAnimating: false,\r\n            },\r\n          });\r\n          // console.log('prevIndex', prevIndex)\r\n          // layer.elements[prevIndex].isActive =\r\n          //   prevIndex === 0 && index === 0 ? true : false\r\n\r\n          // let index = layer.child.length\r\n          // let childTemp = [...layer.child]\r\n          // layer.child.map((c) => {\r\n          //   return (c.props.isActive = false)\r\n          // })\r\n          // layer.child.push(\r\n          //   <Resize\r\n          //     tag={tag}\r\n          //     value={val}\r\n          //     isActive={true}\r\n          //     index={index}\r\n          //     rectStyles={getTagStyle(tag)}\r\n          //   />\r\n          // )\r\n          // console.log(childTemp)\r\n          // layer.child = childTemp\r\n        } else {\r\n          storiesSlice.caseReducers.changeBackground(state, action);\r\n        }\r\n      }\r\n\r\n      //Old Schema\r\n      // let { type, val, alt } = action.payload\r\n      // let { stories, currentStoryIndex } = state\r\n      // if (type) {\r\n      //   // console.log('Tag Props', val, alt)\r\n      //   if (alt !== 'background-image') {\r\n      //     stories[currentStoryIndex].child.push(\r\n      //       <Resize tag={type} child={val} />\r\n      //     )\r\n      //   } else {\r\n      //     storiesSlice.caseReducers.changeBackground(state, action)\r\n      //   }\r\n      // }\r\n    },\r\n    updatePostStoryLayer: (state, action) => {\r\n      let { type: tag, val, alt } = action.payload;\r\n      console.log(\"update image\", action.payload);\r\n      let data = state.data;\r\n      console.log(\"sas\", data);\r\n      // let { activeLayer, storyLayers } = data[state.active_storyId]\r\n      let currStory = data[state.active_storyId];\r\n      console.log(\"sase\", val);\r\n      if (tag) {\r\n        if (alt !== \"background-image\") {\r\n          let layer = currStory.storyLayers[currStory.activeLayer];\r\n          let index = layer.elements.length;\r\n          // const prevIndex = layer.activeElementIndex\r\n          if (validValue(layer.activeElementIndex)) {\r\n            layer.elements[layer.activeElementIndex].isActive = false;\r\n            console.log(\r\n              layer.elements[layer.activeElementIndex].child.isActive\r\n            );\r\n          }\r\n          layer.activeElementIndex = index;\r\n          layer.elements.push({\r\n            index,\r\n            rectStyles: getResizableStyles(tag),\r\n            isActive: true,\r\n            child: {\r\n              tag,\r\n              src: MULTI_MEDIA_TAGS.includes(tag) ? val : null,\r\n              text:\r\n                TEXTS_TAGS.includes(tag) || HEADERS_TAGS.includes(tag)\r\n                  ? val\r\n                  : null,\r\n              child_style: getTagStyle(tag),\r\n              isAnimating: false,\r\n            },\r\n          });\r\n          // console.log('prevIndex', prevIndex)\r\n          // layer.elements[prevIndex].isActive =\r\n          //   prevIndex === 0 && index === 0 ? true : false\r\n\r\n          // let index = layer.child.length\r\n          // let childTemp = [...layer.child]\r\n          // layer.child.map((c) => {\r\n          //   return (c.props.isActive = false)\r\n          // })\r\n          // layer.child.push(\r\n          //   <Resize\r\n          //     tag={tag}\r\n          //     value={val}\r\n          //     isActive={true}\r\n          //     index={index}\r\n          //     rectStyles={getTagStyle(tag)}\r\n          //   />\r\n          // )\r\n          // console.log(childTemp)\r\n          // layer.child = childTemp\r\n        } else {\r\n          storiesSlice.caseReducers.changeBackground(state, action);\r\n        }\r\n      }\r\n\r\n      //Old Schema\r\n      // let { type, val, alt } = action.payload\r\n      // let { stories, currentStoryIndex } = state\r\n      // if (type) {\r\n      //   // console.log('Tag Props', val, alt)\r\n      //   if (alt !== 'background-image') {\r\n      //     stories[currentStoryIndex].child.push(\r\n      //       <Resize tag={type} child={val} />\r\n      //     )\r\n      //   } else {\r\n      //     storiesSlice.caseReducers.changeBackground(state, action)\r\n      //   }\r\n      // }\r\n    },\r\n    updateIndex1StoryLayer: (state, action) => {\r\n      let { type: tag, val, alt } = action.payload;\r\n      console.log(\"update image\", action.payload);\r\n      let data = state.data;\r\n      console.log(\"sas\", data);\r\n      // let { activeLayer, storyLayers } = data[state.active_storyId]\r\n      let currStory = data[state.active_storyId];\r\n      console.log(\"sase\", val);\r\n      if (tag) {\r\n        if (alt !== \"background-image\") {\r\n          let layer = currStory.storyLayers[currStory.activeLayer];\r\n          let index = layer.elements.length;\r\n          // const prevIndex = layer.activeElementIndex\r\n          if (validValue(layer.activeElementIndex)) {\r\n            layer.elements[layer.activeElementIndex].isActive = false;\r\n            console.log(\r\n              layer.elements[layer.activeElementIndex].child.isActive\r\n            );\r\n          }\r\n          layer.activeElementIndex = index;\r\n          layer.elements.push({\r\n            index,\r\n            rectStyles: getResizableStyles(tag),\r\n            isActive: true,\r\n            child: {\r\n              tag,\r\n              src: MULTI_MEDIA_TAGS.includes(tag) ? val : null,\r\n              text:\r\n                TEXTS_TAGS.includes(tag) || HEADERS_TAGS.includes(tag)\r\n                  ? val\r\n                  : null,\r\n              child_style: getTagStyle(tag),\r\n              isAnimating: false,\r\n            },\r\n          });\r\n          // console.log('prevIndex', prevIndex)\r\n          // layer.elements[prevIndex].isActive =\r\n          //   prevIndex === 0 && index === 0 ? true : false\r\n\r\n          // let index = layer.child.length\r\n          // let childTemp = [...layer.child]\r\n          // layer.child.map((c) => {\r\n          //   return (c.props.isActive = false)\r\n          // })\r\n          // layer.child.push(\r\n          //   <Resize\r\n          //     tag={tag}\r\n          //     value={val}\r\n          //     isActive={true}\r\n          //     index={index}\r\n          //     rectStyles={getTagStyle(tag)}\r\n          //   />\r\n          // )\r\n          // console.log(childTemp)\r\n          // layer.child = childTemp\r\n        } else {\r\n          storiesSlice.caseReducers.changeBackground(state, action);\r\n        }\r\n      }\r\n\r\n      //Old Schema\r\n      // let { type, val, alt } = action.payload\r\n      // let { stories, currentStoryIndex } = state\r\n      // if (type) {\r\n      //   // console.log('Tag Props', val, alt)\r\n      //   if (alt !== 'background-image') {\r\n      //     stories[currentStoryIndex].child.push(\r\n      //       <Resize tag={type} child={val} />\r\n      //     )\r\n      //   } else {\r\n      //     storiesSlice.caseReducers.changeBackground(state, action)\r\n      //   }\r\n      // }\r\n    },\r\n\r\n    //TODO\r\n    deleteStoryLayerChild: (state, { payload }) => {\r\n      let { childIndex, slideId } = payload;\r\n      let { active_storyId } = state;\r\n      let { storyLayers, activeLayer } = state.data[active_storyId];\r\n      storyLayers[activeLayer].child.filter((_, i) => i !== childIndex);\r\n      // const selectedIndex = storyLayers.findIndex((slide) => slide.id === slideId)\r\n      // storyLayers[selectedIndex].child = storyLayers[selectedIndex].child.filter(\r\n      //   (_, i) => i !== childIndex\r\n      // )\r\n    },\r\n\r\n    // const deleteSlide = useCallback((deleteIdx) => {\r\n    //   const tempArr = [...slides]\r\n    //   tempArr.splice(deleteIdx, 1)\r\n    //   // let activeIndex = deleteIdx === tempArr.length ? deleteIdx - 1 : deleteIdx\r\n    //   let activeIndex =\r\n    //     deleteIdx === tempArr.length || deleteIdx > 0 ? deleteIdx - 1 : deleteIdx\r\n    //   // console.log(deleteIdx, activeIndex)\r\n    //   tempArr[activeIndex].isActive = true\r\n    //   setCurrentSlide(activeIndex)\r\n    //   setSlides(tempArr)\r\n    //   closeModal()\r\n    //   openNotification({\r\n    //     type: 'success',\r\n    //     desc: `Slide ${deleteIdx + 1} Deleted Successfully!`,\r\n    //   })\r\n    // })\r\n\r\n    // const deleteSlideChild = useCallback((childIndex, slideId) => {\r\n    //   let tempSlides = [...slides]\r\n    //   const selectedIndex = tempSlides.findIndex((slide) => slide.id === slideId)\r\n    //   tempSlides[selectedIndex].child = tempSlides[selectedIndex].child.filter(\r\n    //     (obj, i) => i !== childIndex\r\n    //   )\r\n    //   setSlides(tempSlides)\r\n    // })\r\n  },\r\n});\r\n\r\nexport const {\r\n  copyStoryLayer,\r\n  createStory,\r\n  deleteStory,\r\n  activeStory,\r\n  activeStoryLayerChild,\r\n  deActiveStoryLayerChild,\r\n  addStoryLayer,\r\n  updateStoryLayer,\r\n  updatePostStoryLayer,\r\n  updateIndex1StoryLayer,\r\n  changeStoryLayer,\r\n  changeBackground,\r\n  changeRectAlignments,\r\n  changeLayerElementChildText,\r\n  changeLayerElementChildStyle,\r\n  setAnimations,\r\n} = storiesSlice.actions;\r\n\r\nexport const selectCount = (state) => state[STORIES_KEY];\r\n\r\nexport default storiesSlice.reducer;\r\n","import { useDrop } from \"react-dnd\";\r\nimport { ItemTypes } from \"../helper/contants\";\r\nimport { updateStoryLayer } from \"../redux/slices/storiesSlice\";\r\nimport { useRedux } from \"./\";\r\n\r\nconst useOnDrop = () => {\r\n  const [dispatch, , getState] = useRedux();\r\n  const { currentSlide } = getState(\"story\");\r\n  const { HEADER1, HEADER2, HEADER3, HEADER4, PARAGRAPH, SPAN, IMAGE } =\r\n    ItemTypes;\r\n  const [{ isOver, isOverCurrent }, drop] = useDrop(\r\n    () => ({\r\n      accept: [HEADER1, HEADER2, HEADER3, HEADER4, PARAGRAPH, SPAN, IMAGE],\r\n\r\n      drop(item, monitor) {\r\n        let val = \"\";\r\n        let alt = \"\";\r\n        let { props } = item.children;\r\n        if (monitor.getItemType() === \"img\") {\r\n          // console.log('iamge', item.children.props['data-url'])\r\n          val = props[\"data-url\"] ?? props.src;\r\n          alt = props.alt;\r\n        } else {\r\n          val = props.children.props.children;\r\n        }\r\n        const didDrop = monitor.didDrop();\r\n        dispatch(updateStoryLayer({ type: monitor.getItemType(), val, alt }));\r\n      },\r\n      collect: (monitor) => ({\r\n        isOver: monitor.isOver(),\r\n        isOverCurrent: monitor.isOver({ shallow: true }),\r\n      }),\r\n    }),\r\n    [currentSlide]\r\n  );\r\n\r\n  return [drop];\r\n};\r\n\r\nexport default useOnDrop;\r\n","import { useDispatch, useSelector } from 'react-redux'\r\nimport { validString, validValue } from '../helper/meta'\r\n\r\nconst useRedux = () => {\r\n  const dispatch = useDispatch()\r\n  const states = useSelector((states) => states)\r\n\r\n  const getState = (name) => {\r\n    if (validString(name) && validValue(states[name])) return (states[name] && states[name].present) ? states[name].present : states[name]\r\n    else return states\r\n  }\r\n\r\n  return [dispatch, states, getState]\r\n}\r\n\r\nexport default useRedux\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport { useRedux } from \".\";\r\nimport { STORIES_KEY } from \"../helper/contants\";\r\nimport {\r\n  getBackgroundStyles,\r\n  removeItemAndInsertAt,\r\n  validValue,\r\n} from \"../helper/meta\";\r\n\r\nconst useStories = () => {\r\n  const [, , getState] = useRedux();\r\n  const storiesStore = getState(STORIES_KEY);\r\n  const [object, setObject] = useState(storiesStore);\r\n  console.log(\"hi\", object);\r\n\r\n  useEffect(() => {\r\n    console.log(\"object\");\r\n    stories();\r\n  }, [storiesStore]);\r\n\r\n  const stories = useCallback(() => {\r\n    // let allStories, activeStory, storyLayers, layerStyles, activeStoryLayer, getLayerElements, getActiveLayerElement\r\n    let { active_storyId, data } = storiesStore;\r\n    let activeStory = data[active_storyId];\r\n    let { activeLayer, storyLayers } = activeStory;\r\n    if (validValue(storyLayers[activeLayer])) {\r\n      let { elements, activeElementIndex, id, backgroundColor, backgroundUrl } =\r\n        storyLayers[activeLayer];\r\n      let layerStyles = getBackgroundStyles({\r\n        color: backgroundColor,\r\n        url: backgroundUrl,\r\n      });\r\n      let el = removeItemAndInsertAt(\r\n        elements,\r\n        activeElementIndex,\r\n        1,\r\n        elements.length - 1,\r\n        elements[activeElementIndex]\r\n      );\r\n      return {\r\n        active_storyId,\r\n        activeStory,\r\n        activeLayer,\r\n        storyLayers,\r\n        layerStyles,\r\n        elements,\r\n        renderElements: el,\r\n        activeElementIndex,\r\n      };\r\n    }\r\n  }, [storiesStore]);\r\n\r\n  // const activeStory = () => { }\r\n  // const storyLayers = () => { }\r\n  // const activeStoryLayer = () => { }\r\n  // const getLayerElements = () => { }\r\n  // const getActiveLayerElement = () => { }\r\n\r\n  return stories();\r\n};\r\n\r\nexport default useStories;\r\n","import React from 'react'\r\nimport { Modal } from 'antd'\r\nimport { useRedux } from '../../hooks'\r\nimport { MODAL_SLICE_NAME } from '../../helper/contants'\r\n\r\nconst ModalView = ({\r\n  title,\r\n  subText,\r\n  imageSrc,\r\n  onClose,\r\n  okText,\r\n  cancelText,\r\n  centered,\r\n  onDlete,\r\n  okButtonProps,\r\n  cancelButtonProps,\r\n}) => {\r\n  const [dispatch, , getState] = useRedux()\r\n  const { open, body } = getState(MODAL_SLICE_NAME)\r\n\r\n  const handleOk = () => {\r\n    onDlete()\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    onClose()\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title={title}\r\n      visible={open}\r\n      onOk={handleOk}\r\n      onCancel={handleCancel}\r\n      okText={okText}\r\n      cancelText={cancelText}\r\n      centered={centered}\r\n      cancelButtonProps={cancelButtonProps}\r\n      okButtonProps={okButtonProps}\r\n    >\r\n      {imageSrc && <img src={imageSrc} />}\r\n      {subText && <p style={{ marginTop: '1.5rem' }}>{subText}</p>}\r\n      {body}\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalView.defaultProps = {\r\n  title: 'Confirmation',\r\n  subText: '',\r\n  imageSrc: null,\r\n  open: true,\r\n  onClose: () => { },\r\n  okText: 'Close',\r\n  cancelText: 'Back',\r\n  centered: true,\r\n  onDlete: () => { },\r\n  okButtonProps: {},\r\n  cancelButtonProps: {},\r\n}\r\n\r\nexport default ModalView\r\n","export default __webpack_public_path__ + \"static/media/remove.89a3e42e.svg\";","import React, { useState, useCallback, useContext } from 'react'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { SlidesContext } from './'\r\nimport { ModalContext } from '../Modal'\r\nimport { NotificationContext } from '../Notification'\r\nimport ModalView from '../../components/modal'\r\nimport removeSvg from '../../assets/imgs/remove.svg'\r\nimport { Resize } from '../../components/Editor'\r\nimport { isUrl } from '../../helper/meta'\r\n\r\nconst SlidesProvider = ({ children }) => {\r\n  const { setModalContent, closeModal } = useContext(ModalContext)\r\n  const { openNotification } = useContext(NotificationContext)\r\n\r\n  const [currentSlide, setCurrentSlide] = useState(0)\r\n  const [slides, setSlides] = useState([\r\n    {\r\n      id: uuidv4(),\r\n      backgroundColor: '',\r\n      backgroundUrl: '',\r\n      child: [],\r\n      isActive: true,\r\n    },\r\n    {\r\n      id: uuidv4(),\r\n      backgroundColor: '',\r\n      backgroundUrl: '',\r\n      child: [],\r\n      isActive: false,\r\n    },\r\n    {\r\n      id: uuidv4(),\r\n      backgroundColor: '',\r\n      backgroundUrl: '',\r\n      child: [],\r\n      isActive: false,\r\n    },\r\n  ])\r\n\r\n  const changeBackground = useCallback((type) => {\r\n    console.log(type, isUrl(type))\r\n    let tempSlides = [...slides]\r\n    tempSlides[currentSlide].backgroundUrl = ''\r\n    tempSlides[currentSlide].backgroundColor = ''\r\n    isUrl(type)\r\n      ? (tempSlides[currentSlide].backgroundUrl = type)\r\n      : (tempSlides[currentSlide].backgroundColor = type)\r\n    setSlides(tempSlides)\r\n  })\r\n\r\n  const changeAlignment = useCallback((alignment) => {\r\n    let tempArr = [...slides]\r\n    console.log('Temp', tempArr)\r\n  })\r\n\r\n  const getSlides = useCallback(() => {\r\n    let tempArr = [...slides]\r\n    let curr = tempArr.findIndex((a) => a.id === tempArr[currentSlide].id) + 1\r\n    let startFrom = curr - 2 >= 2 ? curr - 3 : 0\r\n    let endAt =\r\n      slides.length >= 5 && startFrom === 0\r\n        ? curr + 2\r\n        : slides.length < 5\r\n          ? slides.length\r\n          : 5\r\n    // console.log(slides.length, endAt)\r\n    let a = tempArr.splice(startFrom, endAt)\r\n    return a\r\n  })\r\n\r\n  const changeSlide = useCallback((index) => {\r\n    // let index = slides.findIndex((a) => a.id === id)\r\n    let tempArr = [...slides]\r\n    tempArr[currentSlide].isActive = false\r\n    tempArr[index].isActive = true\r\n    setSlides(tempArr)\r\n    setCurrentSlide(index)\r\n  })\r\n\r\n  const addNewSlide = useCallback(() => {\r\n    const tempArr = [...slides]\r\n    tempArr[currentSlide].isActive = false\r\n    tempArr.splice(currentSlide + 1, 0, {\r\n      id: uuidv4(),\r\n      backgroundColor: '',\r\n      child: [],\r\n      isActive: true,\r\n    })\r\n    // console.log(tempArr)\r\n    setCurrentSlide(currentSlide + 1)\r\n    setSlides(tempArr)\r\n  })\r\n\r\n  const updateSlide = useCallback((type, slideNo, val, alt) => {\r\n    console.log(\r\n      'test provider',\r\n      type,\r\n      currentSlide,\r\n      slideNo,\r\n      slides[currentSlide]\r\n    )\r\n    if (type) {\r\n      console.log('Tag Props', val, alt)\r\n      if (alt !== 'background-image') {\r\n        let tempArr = [...slides]\r\n        tempArr[currentSlide].child.push(<Resize tag={type} child={val} />)\r\n        // console.log(currentSlide, slides[currentSlide])\r\n        setSlides(tempArr)\r\n      } else {\r\n        changeBackground(val)\r\n      }\r\n    }\r\n  })\r\n\r\n  const setBackgroundImageOfSlide = useCallback((imgUrl) => {\r\n    let tempSlides = [...slides]\r\n    console.log(isUrl(imgUrl))\r\n    tempSlides[currentSlide].backgroundUrl = imgUrl\r\n    setSlides(tempSlides)\r\n  })\r\n\r\n  const deleteSlide = useCallback((deleteIdx) => {\r\n    const tempArr = [...slides]\r\n    tempArr.splice(deleteIdx, 1)\r\n    // let activeIndex = deleteIdx === tempArr.length ? deleteIdx - 1 : deleteIdx\r\n    let activeIndex =\r\n      deleteIdx === tempArr.length || deleteIdx > 0 ? deleteIdx - 1 : deleteIdx\r\n    // console.log(deleteIdx, activeIndex)\r\n    tempArr[activeIndex].isActive = true\r\n    setCurrentSlide(activeIndex)\r\n    setSlides(tempArr)\r\n    closeModal()\r\n    openNotification({\r\n      type: 'success',\r\n      desc: `Slide ${deleteIdx + 1} Deleted Successfully!`,\r\n    })\r\n  })\r\n\r\n  const deleteSlideChild = useCallback((childIndex, slideId) => {\r\n    let tempSlides = [...slides]\r\n    const selectedIndex = tempSlides.findIndex((slide) => slide.id === slideId)\r\n    tempSlides[selectedIndex].child = tempSlides[selectedIndex].child.filter(\r\n      (obj, i) => i !== childIndex\r\n    )\r\n    setSlides(tempSlides)\r\n  })\r\n\r\n  const openDeleteModal = useCallback(() => {\r\n    let slide = slides.findIndex((a) => a.id === slides[currentSlide].id)\r\n    setModalContent(\r\n      <ModalView\r\n        okText='Yes, remove this slide'\r\n        cancelText='No, keep this slide'\r\n        onDlete={() => deleteSlide(slide)}\r\n        onClose={closeModal}\r\n        title={`Are You Sure ?`}\r\n        imageSrc={removeSvg}\r\n        subText={`This action will permanently remove slide ${slide + 1\r\n          } from your story.`}\r\n        okButtonProps={{ danger: true, className: 'btn' }}\r\n        cancelButtonProps={{ className: 'btn' }}\r\n      />\r\n    )\r\n  })\r\n\r\n  return (\r\n    <SlidesContext.Provider\r\n      value={{\r\n        currentSlide,\r\n        slides,\r\n        changeBackground,\r\n        getSlides,\r\n        changeSlide,\r\n        addNewSlide,\r\n        updateSlide,\r\n        openDeleteModal,\r\n        changeAlignment,\r\n        deleteSlideChild,\r\n      }}\r\n    >\r\n      {children}\r\n    </SlidesContext.Provider>\r\n  )\r\n}\r\n\r\nexport default SlidesProvider\r\n","import { Tooltip } from 'antd'\r\n\r\nconst BasicTooltip = ({\r\n  children,\r\n  tooltipTitle,\r\n  tooltipPosition,\r\n  arrowPositionIsCenter,\r\n  style,\r\n  className,\r\n}) => {\r\n  return (\r\n    <Tooltip\r\n      title={tooltipTitle}\r\n      placement={tooltipPosition}\r\n      arrowPointAtCenter={arrowPositionIsCenter}\r\n      className={className}\r\n      style={style}\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  )\r\n}\r\n\r\nBasicTooltip.defaultProps = {\r\n  tooltipTitle: '',\r\n  tooltipPosition: 'bottom',\r\n  arrowPositionIsCenter: false,\r\n  className: '',\r\n  style: {},\r\n}\r\n\r\nexport default BasicTooltip\r\n","import { Button, Tooltip } from 'antd'\r\nimport BasicTooltip from './BasicTooltip'\r\n\r\nconst BasicButton = ({\r\n  children,\r\n  type,\r\n  icon,\r\n  loading,\r\n  onClick,\r\n  size,\r\n  disabled,\r\n  block,\r\n  transparent,\r\n  href,\r\n  withTooltip,\r\n  tooltipProps,\r\n  className,\r\n  style,\r\n}) => {\r\n  const sz = {\r\n    sm: 'small',\r\n    lg: 'large',\r\n    def: 'default',\r\n  }\r\n  const btnSize = sz[size]\r\n\r\n  const link = type === 'link' ? { href } : {}\r\n\r\n  const Wrapper = ({ children }) =>\r\n    withTooltip ? (\r\n      <BasicTooltip {...tooltipProps}>{children}</BasicTooltip>\r\n    ) : (\r\n      <>{children}</>\r\n    )\r\n  return (\r\n    <Wrapper>\r\n      <Button\r\n        type={type}\r\n        icon={icon}\r\n        loading={loading}\r\n        onClick={onClick}\r\n        size={btnSize}\r\n        disabled={disabled}\r\n        block={block}\r\n        ghost={transparent}\r\n        {...link}\r\n        className={className}\r\n        style={style}\r\n      >\r\n        {children}\r\n      </Button>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nBasicButton.defaultProps = {\r\n  type: 'primary',\r\n  icon: null,\r\n  loading: false,\r\n  onClick: () => {},\r\n  size: 'def',\r\n  disabled: false,\r\n  block: false,\r\n  transparent: false,\r\n  href: '',\r\n  withTooltip: false,\r\n  className: '',\r\n  style: {},\r\n}\r\n\r\nexport default BasicButton\r\n","import { Menu, Dropdown } from \"antd\";\r\nimport { FaAdd } from \"../FontAwesome\";\r\n\r\nconst MenuBar = ({ children, menuItems, actionTrigger, disabled }) => {\r\n  console.log(\"far\", children);\r\n  const menu = (\r\n    <Menu>\r\n      {menuItems &&\r\n        menuItems.map((menu, i) => (\r\n          <Menu.Item\r\n            key={i}\r\n            onClick={menu.action}\r\n            style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n            icon={menu.icon}\r\n          >\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n              <div className=\"context-menu-div\">{menu.text}</div>\r\n              <small style={{ color: \"lightgray\" }}> {menu.short}</small>\r\n            </div>\r\n          </Menu.Item>\r\n        ))}\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <Dropdown overlay={menu} trigger={[actionTrigger]} disabled={disabled}>\r\n      <div className=\"site-dropdown-context-menu\">{children}</div>\r\n    </Dropdown>\r\n  );\r\n};\r\n\r\nMenuBar.defaultProps = {\r\n  menuItems: null,\r\n  actionTrigger: \"click\", //< click|hover|contextMenu(open when right clicked) >\r\n  disabled: false,\r\n};\r\n\r\nexport default MenuBar;\r\n","import React from \"react\";\r\nimport { Row, Col } from \"antd\";\r\nimport { FaCopy, FaEllipsisV, FaSquarePlus, FaTrash } from \"../../FontAwesome\";\r\nimport BasicButton from \"../../form_control/BasicButton\";\r\nimport MenuBar from \"../../form_control/MenuBar\";\r\n\r\nconst LayerHeader = ({ number, onAdd, onCopy }) => {\r\n  let slideItems = [\r\n    { text: \"Add Slide\", action: onAdd, icon: <FaSquarePlus /> },\r\n    { text: \"Copy Slide\", action: onCopy, icon: <FaCopy /> },\r\n    { text: \"Delete Slide\", icon: <FaTrash /> },\r\n  ];\r\n  return (\r\n    <Row justify=\"space-between\">\r\n      <Col span={8}>Slide {number}</Col>\r\n      {/* <Col\r\n        span={6}\r\n        style={{\r\n          display: 'flex',\r\n          // justifyContent: 'space-between',\r\n          justifyContent: 'flex-end',\r\n        }}\r\n      > */}\r\n      <MenuBar menuItems={slideItems}>\r\n        <BasicButton\r\n          icon={<FaEllipsisV />}\r\n          size=\"sm\"\r\n          type=\"text\"\r\n          withTooltip\r\n          tooltipProps={{\r\n            tooltipTitle: \"More Actions\",\r\n            tooltipPosition: \"top\",\r\n          }}\r\n        />\r\n      </MenuBar>\r\n      {/* <BasicButton\r\n          icon={<FaAdd />}\r\n          size='sm'\r\n          withTooltip\r\n          tooltipProps={{ tooltipTitle: 'Add New Slide' }}\r\n          onClick={onAdd}\r\n          className='add-new-slide'\r\n        /> */}\r\n      {/* </Col> */}\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default LayerHeader;\r\n","import React from 'react'\r\nimport { Row, Col, Tooltip } from 'antd'\r\nimport { FaTrash } from '../../FontAwesome'\r\nimport BasicButton from '../../form_control/BasicButton'\r\n\r\nconst LayerFooter = ({ onClick }) => {\r\n  return (\r\n    <Row justify='space-between' style={{ paddingTop: '12px' }}>\r\n      <Col span={8}>\r\n        <Tooltip placement='top' title={'Delete Slide'}>\r\n          <BasicButton\r\n            icon={<FaTrash style={{ marginRight: '10px' }} />}\r\n            size='sm'\r\n            type='text'\r\n            withTooltip\r\n            tooltipProps={{ tooltipTitle: 'Delete' }}\r\n            style={{ padding: '0' }}\r\n            onClick={onClick}\r\n          >\r\n            Delete\r\n          </BasicButton>\r\n        </Tooltip>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default LayerFooter\r\n","import React from 'react'\r\nimport { Card, Row, Col, Avatar } from 'antd'\r\nimport { FaRedo, Falink, FaEnvelope } from '../../FontAwesome'\r\n\r\nconst DefaultLayer = () => {\r\n  return (\r\n    <Card\r\n      hoverable\r\n      style={{\r\n        width: '265px',\r\n        height: '465px',\r\n        borderRadius: '2px',\r\n        background: '#000000',\r\n        overflow: 'hidden',\r\n        position: 'relative',\r\n      }}\r\n      className='in-active'\r\n    >\r\n      <div\r\n        style={{\r\n          color: 'white',\r\n          background: '#202125',\r\n          // marginTop: '50px',\r\n          // paddingLeft: '25px',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          padding: '30px',\r\n          width: '100%',\r\n          height: '100%',\r\n          position: 'absolute',\r\n          left: 0,\r\n          top: 0,\r\n        }}\r\n      >\r\n        <Row style={{ marginTop: '10px' }}>\r\n          <Col span={6}>ABC</Col>\r\n          <Col offset={12} span={6}>\r\n            <Avatar\r\n              shape='square'\r\n              size='small'\r\n              style={{ background: '#2E2E30' }}\r\n              icon={<FaRedo />}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <div style={{ color: 'white', fontSize: '9px' }}>storifyme.com</div>\r\n        <Row style={{ marginTop: '30px', fontSize: '13px' }}>\r\n          <Col span={6}>\r\n            <Avatar\r\n              shape='square'\r\n              size='medium'\r\n              style={{ marginLeft: 9, background: '#2E2E30' }}\r\n              icon={<Falink />}\r\n            />\r\n            Get Link\r\n          </Col>\r\n          <Col offset={3} span={6}>\r\n            <Col span={6}>\r\n              <Avatar\r\n                shape='square'\r\n                size='medium'\r\n                style={{ background: '#2E2E30' }}\r\n                icon={<FaEnvelope />}\r\n              />\r\n              Email\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default DefaultLayer\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Col, InputNumber, Row, Slider } from \"antd\";\r\nimport { FaStopwatch } from \"../../FontAwesome\";\r\n\r\nconst AutoAdvance = () => {\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [delay, setDelay] = useState(5);\r\n  const autoAdvanceModal = useRef();\r\n  useEffect(() => {\r\n    document.addEventListener(\"mousedown\", (e) => {\r\n      if (!autoAdvanceModal.current?.contains(e.target)) {\r\n        setModalVisible(false);\r\n      }\r\n    });\r\n  }, []);\r\n  const onChange = (value) => setDelay(value);\r\n  console.log(\"first\", delay);\r\n  return (\r\n    <>\r\n      <Row style={{ marginTop: 25 }}>\r\n        <Col\r\n          id=\"auto-features\"\r\n          style={{\r\n            textAlign: \"center\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          onClick={(e) => {\r\n            setModalVisible(!modalVisible);\r\n          }}\r\n        >\r\n          <FaStopwatch />\r\n          <Row style={{ marginTop: 10 }}>\r\n            <Col>Auto advance</Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n\r\n      {!modalVisible ? null : (\r\n        <div\r\n          ref={autoAdvanceModal}\r\n          id=\"auto-features-modal\"\r\n          className=\"customModal\"\r\n        >\r\n          <div className=\"topContent\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"auto-adv\"\r\n              onChange={(e) => console.log(e.target.checked)}\r\n            />\r\n            <label htmlFor=\"auto-adv\">Enable auto advance</label>\r\n          </div>\r\n          <h6>Delay</h6>\r\n          <div className=\"slider\">\r\n            <Row>\r\n              <Col span={8}>\r\n                <Slider\r\n                  style={{ width: \"80px\" }}\r\n                  min={1}\r\n                  max={15}\r\n                  onChange={onChange}\r\n                  trackStyle={{ backgroundColor: \"black\" }}\r\n                  handleStyle={{ backgroundColor: \"black\", border: \"black\" }}\r\n                  value={delay}\r\n                />\r\n              </Col>\r\n              <Col span={4}>\r\n                <InputNumber\r\n                  min={delay}\r\n                  max={15}\r\n                  style={{\r\n                    backgroundColor: \"transparent\",\r\n                    border: \"none\",\r\n                    marginLeft: \"60px\",\r\n                    color: \"black\",\r\n                  }}\r\n                  value={`${delay}s`}\r\n                  onChange={onChange}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AutoAdvance;\r\n","import React from 'react'\r\nimport { Row, Col } from 'antd'\r\nimport { FaAdd, FaStopwatch } from '../../FontAwesome'\r\nimport BasicButton from '../../form_control/BasicButton'\r\nimport AutoAdvance from './AutoAdvance'\r\n\r\nconst LayerController = ({ onAdd }) => {\r\n  return (\r\n    <div className='middle-elements'>\r\n      <Row>\r\n        <Col>\r\n          <BasicButton\r\n            withTooltip\r\n            icon={<FaAdd />}\r\n            className='btn-save-m-e'\r\n            tooltipProps={{ tooltipTitle: 'Add New Slide' }}\r\n            onClick={onAdd}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <AutoAdvance />\r\n      <Row style={{ marginTop: 10, fontSize: '10px' }}>\r\n        <Col>Disable</Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LayerController\r\n","import React, { useContext, useState, useRef } from \"react\";\r\nimport Menu from \"../../form_control/MenuBar\";\r\nimport SlideContext from \"../../../providers/Slides/SlidesContext\";\r\nimport CopyToClipboard from \"react-copy-to-clipboard\";\r\n\r\nimport {\r\n  CopyOutlined,\r\n  FileProtectOutlined,\r\n  DeleteOutlined,\r\n  CopyFilled,\r\n  SwitcherFilled,\r\n  SwitcherOutlined,\r\n  BlockOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nconst LayerChildMenu = ({\r\n  children,\r\n  shoaib,\r\n  withContextMenu,\r\n  slideId,\r\n  childIndex,\r\n  onCopy,\r\n  onPaste,\r\n  onDelete,\r\n  child,\r\n}) => {\r\n  // const [value, setValue] = useState({});\r\n  // const [copied, setCopied] = useState(false);\r\n  console.log(\"hello\", shoaib);\r\n\r\n  let options = [\r\n    {\r\n      action: (e) => onCopy(child),\r\n      text: \"Copy\",\r\n      icon: <CopyOutlined />,\r\n      short: \" Ctrl + C\",\r\n    },\r\n    {\r\n      action: (e) => onPaste(e, child),\r\n      text: \"Paste\",\r\n      icon: <FileProtectOutlined />,\r\n      short: \" Ctrl + V\",\r\n    },\r\n    {\r\n      action: (e) => onDelete(child),\r\n      text: \"Delete\",\r\n      icon: <DeleteOutlined />,\r\n      short: \" Del\",\r\n    },\r\n    {\r\n      action: () => console.log(\"Send to Back\"),\r\n      text: \"Send to Back\",\r\n      icon: <BlockOutlined />,\r\n      short: \" Ctrl + Alt + I\",\r\n    },\r\n    {\r\n      action: () => console.log(\"send Backward\"),\r\n      text: \"send Backward\",\r\n      icon: <SwitcherOutlined />,\r\n      short: \" ctrl + I\",\r\n    },\r\n    {\r\n      action: () => console.log(\"Bring Forward\"),\r\n      text: \"Bring Forward\",\r\n      icon: <SwitcherFilled />,\r\n      short: \" ctrl + L\",\r\n    },\r\n    {\r\n      action: () => console.log(\"Bring to Front\"),\r\n      text: \"Bring to Front\",\r\n      icon: <CopyOutlined />,\r\n      short: \" Ctrl + Alt + L\",\r\n    },\r\n    // ...hasBackgroundOption,\r\n  ];\r\n  const { deleteSlideChild /*,changeBackground*/ } = useContext(SlideContext);\r\n\r\n  // console.log(\"111\", options.text);\r\n  console.log(\"112\", children);\r\n  // console.log(\"your code is copied\", copied);\r\n  return (\r\n    <Menu\r\n      onClick={() => alert(\"hello word\")}\r\n      menuItems={options}\r\n      actionTrigger=\"contextMenu\"\r\n      disabled={withContextMenu}\r\n    >\r\n      {children}\r\n    </Menu>\r\n  );\r\n};\r\nexport default LayerChildMenu;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Card, Col } from \"antd\";\r\nimport {\r\n  CopyOutlined,\r\n  FileProtectOutlined,\r\n  DeleteOutlined,\r\n  CopyFilled,\r\n  SwitcherFilled,\r\n  SwitcherOutlined,\r\n  BlockOutlined,\r\n} from \"@ant-design/icons\";\r\nimport LayerChildMenu from \"./LayerChildMenu\";\r\nimport { Resize } from \"../Resizable\";\r\nimport { validValue } from \"../../../helper/meta\";\r\nimport { useStories } from \"../../../hooks\";\r\n\r\nconst Layer = ({\r\n  activeElementIndex,\r\n  isParentLayerActive,\r\n  layerId,\r\n  layerElements,\r\n  className,\r\n  childClass,\r\n  style,\r\n  withContextMenu,\r\n  topBar,\r\n  bottomBar,\r\n  onClick,\r\n  dropRef,\r\n  onCopy,\r\n  onDelete,\r\n  onPaste,\r\n}) => {\r\n  let { renderElements } = useStories();\r\n  let element = isParentLayerActive ? renderElements : layerElements;\r\n  let els = isParentLayerActive ? renderElements : layerElements;\r\n  // let [el, setEl] = useState([])\r\n  // useEffect(() => {\r\n  //   setEl(elements)\r\n  // }, [activeElementIndex])\r\n  useEffect(() => {\r\n    let nam = document.getElementById(\"abcd\");\r\n    nam.onclick = hideMenu;\r\n    // document.onclick = hideMenu;\r\n    nam.oncontextmenu = rightClick;\r\n    function hideMenu() {\r\n      let element = document.getElementById(\"contextMenu\");\r\n      if (element) {\r\n        element.style.display = \"none\";\r\n      }\r\n    }\r\n\r\n    function rightClick(e) {\r\n      e.preventDefault();\r\n      let element = document.getElementById(\"contextMenu\");\r\n      if (element) {\r\n        if (element.style.display == \"block\") hideMenu();\r\n        else {\r\n          var menu = element;\r\n\r\n          menu.style.display = \"block\";\r\n          // menu.style.left = e.pageX + \"px\";\r\n          // menu.style.top = e.pageY + \"px\";\r\n        }\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Col\r\n      ref={dropRef}\r\n      className={className}\r\n      onClick={() => onClick()}\r\n      style={{ top: childClass !== \"active\" }}\r\n    >\r\n      {topBar}\r\n      {/* <div id=\"abcd\" onClick={(e) => console.log(e.type == \"click\")}> */}\r\n      <div id=\"abcd\">\r\n        <Card\r\n          className={childClass}\r\n          style={{\r\n            width: \"265px\",\r\n            height: \"400px\",\r\n            borderRadius: \"2px\",\r\n            position: \"relative\",\r\n            ...style,\r\n          }}\r\n        >\r\n          {element.map((el, i) => {\r\n            //children = child array in story layer\r\n            let { index, rectStyles, isActive, child } = el;\r\n            // isActive && setActiveIndex(index)\r\n            return (\r\n              // <></>\r\n              <div onclick={() => alert(\"hello world\")}>\r\n                <LayerChildMenu\r\n                  shoaib={\"shoaib\"}\r\n                  child={child}\r\n                  onCopy={onCopy}\r\n                  onPaste={onPaste}\r\n                  onDelete={onDelete}\r\n                  childIndex={i}\r\n                  layerId={layerId}\r\n                  withContextMenu={!withContextMenu}\r\n                  key={index}\r\n                >\r\n                  <Resize\r\n                    index={index}\r\n                    isActive={isActive}\r\n                    isParentLayerActive={isParentLayerActive}\r\n                    rectStyles={rectStyles}\r\n                    child={child}\r\n                  />\r\n                </LayerChildMenu>\r\n              </div>\r\n            );\r\n          })}\r\n        </Card>\r\n      </div>\r\n      {bottomBar}\r\n    </Col>\r\n  );\r\n};\r\n\r\nLayer.defaultProps = {\r\n  className: \"\",\r\n  childClass: \"in-active\",\r\n  style: {},\r\n  children: null,\r\n  withContextMenu: false,\r\n  topBar: null,\r\n  bottomBar: null,\r\n  onClick: () => {},\r\n};\r\n\r\nexport default Layer;\r\n","import React, { useRef, useContext, useEffect, useState } from \"react\";\r\nimport { Col } from \"antd\";\r\n// Import Swiper React components\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport LayerHeader from \"./LayerHeader\";\r\nimport LayerFooter from \"./LayerFooter\";\r\nimport DefaultLayer from \"./DefaultLayer\";\r\nimport LayerController from \"./LayerController\";\r\nimport { SlidesContext } from \"../../../providers/Slides\";\r\nimport {\r\n  changeStoryLayer,\r\n  addStoryLayer,\r\n  copyStoryLayer,\r\n  updatePostStoryLayer,\r\n  updateIndex1StoryLayer,\r\n} from \"../../../redux/slices/storiesSlice\";\r\n\r\n// Import Swiper styles\r\nimport \"swiper/swiper.min.css\";\r\nimport \"swiper/components/effect-coverflow/effect-coverflow.min.css\";\r\n// import 'swiper/components/pagination/pagination.min.css' //Pagination not required\r\n\r\n// import Swiper core and required modules\r\nimport SwiperCore, { EffectCoverflow, Pagination } from \"swiper/core\";\r\nimport Layer from \"./Layer\";\r\nimport { getBackgroundStyles, validValue } from \"../../../helper/meta\";\r\nimport { useOnDrop, useRedux, useStories } from \"../../../hooks\";\r\nimport { STORIES_KEY } from \"../../../helper/contants\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n// install Swiper modules\r\nSwiperCore.use([EffectCoverflow, Pagination]);\r\n\r\nconst StoryLayers = () => {\r\n  const { openDeleteModal } = useContext(SlidesContext);\r\n  const [clipboard, setclipboard] = useState({});\r\n  const param = useParams();\r\n  const [dispatch, , getState] = useRedux();\r\n  const [drop] = useOnDrop();\r\n  const story = useStories();\r\n  // const story = stories.data[param.storyId]\r\n  console.log(\"story\", story);\r\n\r\n  // let st = useStories()\r\n  // console.log(st)\r\n\r\n  let swiper = useRef();\r\n\r\n  useEffect(() => {\r\n    if (swiper.current && validValue(story?.activeLayer)) {\r\n      swiper.current.swiper.slideTo(story.activeLayer);\r\n    } else swiper.current.swiper.slideTo(swiper.current.swiper.activeIndex);\r\n  }, [story?.activeLayer]);\r\n\r\n  const addStory = () => {\r\n    // e.stopPropagation()\r\n    dispatch(addStoryLayer());\r\n  };\r\n\r\n  const onCopy = (el) => {\r\n    console.log(\"onCopy\", el);\r\n    setclipboard(el);\r\n  };\r\n\r\n  const onPaste = (index, chik) => {\r\n    dispatch(\r\n      updatePostStoryLayer({\r\n        type: clipboard.tag,\r\n        val: clipboard.tag == \"img\" ? clipboard.src : clipboard.text,\r\n        alt: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const onDelete = (el) => {\r\n    console.log(\"onDelete\", el);\r\n  };\r\n\r\n  const copyStory = () => {\r\n    if (swiper.current && swiper.current.swiper) {\r\n      let sw = swiper.current.swiper;\r\n      dispatch(copyStoryLayer({ index: sw.activeIndex }));\r\n    }\r\n  };\r\n\r\n  let changeLayer = (e) => {\r\n    if (swiper.current && swiper.current.swiper) {\r\n      let sw = swiper.current.swiper;\r\n      dispatch(changeStoryLayer({ index: sw.activeIndex }));\r\n    }\r\n  };\r\n\r\n  // console.log(\"number\", number);\r\n\r\n  return (\r\n    <Swiper\r\n      // effect={'coverflow'}\r\n      // grabCursor={true}\r\n      // centeredSlides={true}\r\n      initialSlide={story?.activeLayer ?? swiper.current.swiper.activeIndex}\r\n      allowTouchMove={false}\r\n      slidesPerView={\"auto\"} //'auto' or Number of slide diplay 1,2,etc\r\n      slideToClickedSlide\r\n      spaceBetween={30}\r\n      centeredSlides\r\n      // pagination={{\r\n      //   clickable: true,\r\n      // }}\r\n      // coverflowEffect={{\r\n      //   rotate: 50,\r\n      //   stretch: 0,\r\n      //   depth: 100,\r\n      //   modifier: 1,\r\n      //   slideShadows: true,\r\n      // }}\r\n      // pagination={true}\r\n      ref={swiper}\r\n      // speed={500}\r\n      onSlideChange={changeLayer}\r\n    >\r\n      {story?.storyLayers.map((layer, i) => {\r\n        let {\r\n          activeElementIndex,\r\n          isActive,\r\n          backgroundColor,\r\n          id,\r\n          backgroundUrl,\r\n          elements,\r\n          isDefault = false,\r\n        } = layer;\r\n        let backgroundStyle = getBackgroundStyles({\r\n          color: backgroundColor,\r\n          url: backgroundUrl,\r\n        });\r\n        return (\r\n          <SwiperSlide\r\n            key={id}\r\n            id={id}\r\n            className={isActive && \"\"}\r\n            style={{\r\n              width: \"265px\",\r\n              height: \"400px\",\r\n            }}\r\n          >\r\n            {isDefault ? (\r\n              <Col style={{ top: \"18px\" }}>\r\n                <DefaultLayer />\r\n              </Col>\r\n            ) : (\r\n              <div>\r\n                <Layer\r\n                  key={i}\r\n                  onCopy={onCopy}\r\n                  onPaste={onPaste}\r\n                  onDelete={onDelete}\r\n                  activeElementIndex={activeElementIndex}\r\n                  isParentLayerActive={isActive}\r\n                  layerId={id}\r\n                  layerElements={elements}\r\n                  dropRef={isActive ? drop : null}\r\n                  childClass={isActive ? \"active\" : \"in-active \"}\r\n                  style={{ ...backgroundStyle }}\r\n                  withContextMenu={isActive}\r\n                  topBar={\r\n                    isActive && (\r\n                      <LayerHeader\r\n                        number={i + 1}\r\n                        onAdd={addStory}\r\n                        onCopy={copyStory}\r\n                      />\r\n                    )\r\n                  }\r\n                  bottomBar={\r\n                    isActive &&\r\n                    story.storyLayers.length > 1 && (\r\n                      <LayerFooter onClick={openDeleteModal} />\r\n                    )\r\n                  }\r\n                />\r\n                {isActive && (\r\n                  <Col>\r\n                    <LayerController onAdd={addStory} />\r\n                  </Col>\r\n                )}\r\n              </div>\r\n            )}\r\n          </SwiperSlide>\r\n        );\r\n      })}\r\n    </Swiper>\r\n  );\r\n};\r\n\r\nexport default StoryLayers;\r\n","import React, { useRef, useContext, useState } from \"react\";\r\nimport { Col } from \"antd\";\r\n// Import Swiper React components\r\nimport { SwiperSlide } from \"swiper/react\";\r\nimport LayerFooter from \"./LayerFooter\";\r\nimport LayerHeader from \"./LayerHeader\";\r\nimport { SlidesContext } from \"../../../providers/Slides\";\r\nimport { ReactSortable } from \"react-sortablejs\";\r\n\r\nimport SwiperCore, { EffectCoverflow, Pagination } from \"swiper/core\";\r\nimport Layer from \"./Layer\";\r\nimport { getBackgroundStyles, validValue } from \"../../../helper/meta\";\r\nimport { useOnDrop, useRedux, useStories } from \"../../../hooks\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n// install Swiper modules\r\nSwiperCore.use([EffectCoverflow, Pagination]);\r\n\r\nconst GalleryView = () => {\r\n  const { openDeleteModal } = useContext(SlidesContext);\r\n  const param = useParams();\r\n  const [dispatch, getState] = useRedux();\r\n  const [drop] = useOnDrop();\r\n  const story = useStories();\r\n  const data = story.storyLayers;\r\n  // let swiper = useRef()\r\n  const [hi, setHi] = useState(data);\r\n\r\n  // console.log(\"111\", story.storyLayers);\r\n  // console.log(\"112\", hi)\r\n\r\n  return (\r\n    <>\r\n      <ReactSortable\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"flex-start\",\r\n          backgroundColor: \"grey\",\r\n          padding: \"25px\",\r\n        }}\r\n        className=\"custom-slide\"\r\n        list={hi}\r\n        setList={setHi}\r\n        animation={10}\r\n        onChange={(order, sortable, evt) => {}}\r\n        onEnd={(evt) => {}}\r\n      >\r\n        {hi.map((layer, i) => {\r\n          let {\r\n            activeElementIndex,\r\n            isActive,\r\n            backgroundColor,\r\n            id,\r\n            backgroundUrl,\r\n            elements,\r\n            isDefault = false,\r\n          } = layer;\r\n          let backgroundStyle = getBackgroundStyles({\r\n            color: backgroundColor,\r\n            url: backgroundUrl,\r\n          });\r\n          return (\r\n            <SwiperSlide key={id}>\r\n              {isDefault ? (\r\n                <Col style={{ top: \"1px\" }}> </Col>\r\n              ) : (\r\n                <>\r\n                  <Layer\r\n                    key={i}\r\n                    activeElementIndex={activeElementIndex}\r\n                    //   isParentLayerActive={isActive}\r\n                    layerId={id}\r\n                    layerElements={elements}\r\n                    style={{\r\n                      ...backgroundStyle,\r\n                      height: \"300px\",\r\n                      width: \"180px\",\r\n                    }}\r\n                    // topBar={<LayerHeader number={i + 1} />}\r\n                    bottomBar={\r\n                      story.storyLayers.length > 1 && (\r\n                        <LayerFooter onClick={openDeleteModal} />\r\n                      )\r\n                    }\r\n                  />\r\n                </>\r\n              )}\r\n            </SwiperSlide>\r\n          );\r\n        })}\r\n      </ReactSortable>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GalleryView;\r\n","import React, { useContext, useState, useRef } from \"react\";\r\nimport { Button, Layout, Row, Steps } from \"antd\";\r\nimport { FaLayerGroup, FaRuler } from \"./FontAwesome\";\r\n// import WidthDropDown from \"./Editor/WidthDropDown\";\r\nimport { SlidesContext } from \"../providers/Slides\";\r\nimport StoryLayers from \"./Editor/StoryLayers\";\r\nimport GalleryView from \"./Editor/StoryLayers/GalleryView\";\r\n\r\nimport { Select } from \"antd\";\r\nconst { Option } = Select;\r\n\r\n// const handleChange = (value) => {\r\n//   console.log(`selected is ${value}`);\r\n// };\r\n\r\nconst { Content } = Layout;\r\n\r\n// import { ReactSortable } from \"react-sortablejs\";\r\n\r\nexport default function MainContent() {\r\n  const [gallery, setGallery] = useState(true);\r\n  const [xoom, setXoom] = useState(\"100\");\r\n\r\n  const { slides } = useContext(SlidesContext);\r\n  const noOfSlides = slides.length;\r\n  const slidesCount = `${noOfSlides} Slide${noOfSlides > 1 ? \"(s)\" : \"\"}`;\r\n\r\n  console.log(noOfSlides);\r\n\r\n  const exampleRef = useRef(null);\r\n\r\n  const clickMe = (event) => {\r\n    exampleRef.current.style.zoom = event;\r\n    setXoom(exampleRef.current?.style.zoom.slice(0, 2));\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"5000vh\",\r\n        width: \"100%\",\r\n        padding: \"-100px\",\r\n        overflow: \"hidden\",\r\n      }}\r\n    >\r\n      <Content className={\"content xoom\" + xoom}>\r\n        <div ref={exampleRef}>\r\n          <Row className=\"slider\">\r\n            {gallery ? (\r\n              <StoryLayers />\r\n            ) : (\r\n              <div style={{ width: \"100%\", height: \"450px\" }}>\r\n                <GalleryView />\r\n              </div>\r\n            )}\r\n          </Row>\r\n        </div>\r\n\r\n        {gallery ? (\r\n          <div className=\"bottomButtons\">\r\n            <Button type=\"default\" className=\"btn\">\r\n              <FaRuler />\r\n            </Button>\r\n            {/* <WidthDropDown /> */}\r\n            <Select\r\n              defaultValue=\"101%\"\r\n              style={{ width: 100, marginLeft: 14 }}\r\n              onChange={(event) => clickMe(event)}\r\n            >\r\n              <Option value=\"101%\">Fit</Option>\r\n              <Option value=\"25%\">25% </Option>\r\n              <Option value=\"50%\">50%</Option>\r\n              <Option value=\"75%\">75%</Option>\r\n              <Option value=\"100%\">100%</Option>\r\n              <Option value=\"125%\">125%</Option>\r\n              <Option value=\"150%\">150%</Option>\r\n              <Option value=\"175%\">175%</Option>\r\n              <Option value=\"200%\">200%</Option>\r\n            </Select>\r\n\r\n            <Button\r\n              type=\"default\"\r\n              className=\"btn\"\r\n              onClick={() => setGallery(false)}\r\n            >\r\n              <FaLayerGroup /> &nbsp; {slidesCount}\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bottomButtons\">\r\n            <Button\r\n              type=\"default\"\r\n              className=\"btn close\"\r\n              onClick={() => setGallery(true)}\r\n            >\r\n              close\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </Content>\r\n    </div>\r\n  );\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport { ACTIONS_STACK_KEY, STORIES_KEY } from '../../helper/contants';\r\n\r\nconst actionStackReducers = createSlice({\r\n    name: ACTIONS_STACK_KEY,\r\n    initialState: [],\r\n    reducers: {\r\n        push: (state, action) => {\r\n            let hi = STORIES_KEY\r\n            state.push({ hi, ...action.payload })\r\n        },\r\n        pop: (state) => {\r\n            if (state.length > 0) state.pop()\r\n        }\r\n    },\r\n})\r\n\r\nexport const { push, pop } = actionStackReducers.actions\r\nexport default actionStackReducers.reducer\r\n\r\n\r\n// import { createSlice } from '@reduxjs/toolkit'\r\n// import { ACTIONS_STACK_KEY } from '../../helper/contants'\r\n\r\n// const actionStackReducers = createSlice({\r\n//     name: ACTIONS_STACK_KEY,\r\n//     initialState: [],\r\n//     reducers: {\r\n//         push: (state, action) => {\r\n//             state.push({ ...action.payload })\r\n//             console.log(\"111\", action.payload);\r\n//         },\r\n//         pop: (state) => {\r\n//             if (state.length > 0) state.pop()\r\n//             console.log(\"112\", state);\r\n//         },\r\n//         top: (state) => {\r\n//             if (state.length > 0) return state[0]\r\n//         },\r\n//         isEmpty: (state) => {\r\n//             return state.length === 0\r\n//         },\r\n//     },\r\n// })\r\n\r\n// export const { push, pop, top, isEmpty } = actionStackReducers.actions\r\n// export default actionStackReducers.reducer\r\n","import React, { useState } from \"react\";\r\nimport { Layout } from \"antd\";\r\nimport { FaUndo, FaRedo, FaPlay } from \"../../../FontAwesome\";\r\nimport BasicButton from \"../../../form_control/BasicButton\";\r\n// import {undo,redo } from \"../../../../redux/middlewares/undoRedo\"\r\nimport { push, pop } from \"../../../../redux/slices/actionStackSlice\";\r\nimport Stories from \"react-insta-stories\";\r\nimport { ActionCreators } from \"redux-undo\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as htmlToImage from \"html-to-image\";\r\n// import { STORIES_KEY } from '../../../../helper/contants';\r\nimport { selectCount } from \"../../../../redux/slices/storiesSlice\";\r\nimport { useOnDrop, useRedux, useStories } from \"../../../../hooks\";\r\nimport { Button, Modal, Carousel } from \"antd\";\r\nconst contentStyle = {\r\n  height: \"160px\",\r\n  color: \"#fff\",\r\n  lineHeight: \"160px\",\r\n  textAlign: \"center\",\r\n  background: \"#364d79\",\r\n};\r\nconst contentStyle2 = [\r\n  \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS7pWVyFRA4Kr7JSzGXOpOgSAys7yS1A7o5SttJwrP-t5czKLexFq-Z-cWfe-l5napC1Iw&usqp=CAU\",\r\n  \"https://image.shutterstock.com/image-photo/mountains-under-mist-morning-amazing-260nw-1725825019.jpg\",\r\n  \"https://images.unsplash.com/photo-1628504672396-167ffac88e95?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8aGF2ZW58ZW58MHx8MHx8&w=1000&q=80\",\r\n];\r\nconst { Header } = Layout;\r\n\r\nconst TopNav = () => {\r\n  const stated = useSelector(selectCount);\r\n  // console.log(\"999\", stated);\r\n  const story = useStories();\r\n  const dispatch = useDispatch();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [cusstore, setCusstore] = useState([]);\r\n  console.log(\"first\", story);\r\n  const showModal = async () => {\r\n    let arr = [];\r\n\r\n    const arrayOfPromises = await story?.storyLayers.map(async function (item) {\r\n      let imageUrls = await htmlToImage.toPng(document.getElementById(item.id));\r\n      return imageUrls;\r\n    });\r\n    const arrayOfData = await Promise.all(arrayOfPromises);\r\n\r\n    for (let i = 0; i < arrayOfData.length; i++) {\r\n      arr.push(arrayOfData[i]);\r\n    }\r\n    console.log(\"arr\", arrayOfData);\r\n    console.log(\"arrlenght\", arr.length);\r\n    setCusstore(arr);\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n  const settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    autoplay: true,\r\n    autoplaySpeed: 5000,\r\n  };\r\n  console.log(\"cusstore\", cusstore.length);\r\n  console.log(\"cusstoresssssss\", cusstore);\r\n  return (\r\n    <div>\r\n      <Header className=\"headerOne\">\r\n        <BasicButton\r\n          className=\"btn\"\r\n          type=\"default\"\r\n          withTooltip\r\n          tooltipProps={{\r\n            tooltipTitle: \"Go back to list of stories\",\r\n            tooltipPosition: \"right\",\r\n          }}\r\n        >\r\n          My Stories\r\n        </BasicButton>\r\n        {/*////////////////////////////////////////////// undo  backward*/}\r\n        <BasicButton\r\n          withTooltip\r\n          onClick={() => dispatch(ActionCreators.undo())}\r\n          tooltipProps={{ tooltipTitle: \"Undo\" }}\r\n          icon={<FaUndo />}\r\n          className=\"btn btn-undo\"\r\n          type=\"default\"\r\n          size=\"sm\"\r\n        />\r\n        {/*/////////////////////////////////////////////// redo forward */}\r\n        <BasicButton\r\n          withTooltip\r\n          onClick={() => dispatch(ActionCreators.redo())}\r\n          tooltipProps={{ tooltipTitle: \"Redo\" }}\r\n          icon={<FaRedo />}\r\n          className=\"btn btn-redo\"\r\n          type=\"default\"\r\n          size=\"sm\"\r\n        />\r\n        <Modal\r\n          title=\"Stories\"\r\n          visible={isModalVisible}\r\n          onOk={handleOk}\r\n          onCancel={handleCancel}\r\n          footer={null}\r\n        >\r\n          <Stories\r\n            stories={cusstore.slice(0, -1)}\r\n            defaultInterval={1500}\r\n            // width={432}\r\n            // height={768}\r\n          />\r\n          {/* <Carousel {...settings} arrows>\r\n            <div>\r\n              <h3 style={contentStyle}>1</h3>\r\n            </div>\r\n            <div>\r\n              <h3 style={contentStyle}>2</h3>\r\n            </div>\r\n            <div>\r\n              <h3 style={contentStyle}>3</h3>\r\n            </div>\r\n            <div>\r\n              <h3 style={contentStyle}>4</h3>\r\n            </div>\r\n          </Carousel> */}\r\n        </Modal>\r\n        <div className=\"leftSideOfNav\">\r\n          <BasicButton\r\n            // topBar={<LayerHeader number={i + 1} />}\r\n            withTooltip\r\n            tooltipProps={{ tooltipTitle: \"View Your Slides\" }}\r\n            icon={<FaPlay />}\r\n            className=\"btn\"\r\n            type=\"default\"\r\n            onClick={showModal}\r\n          >\r\n            &nbsp;Preview\r\n          </BasicButton>\r\n          <BasicButton\r\n            className=\"btn\"\r\n            type=\"default\"\r\n            withTooltip\r\n            tooltipProps={{\r\n              tooltipTitle: \"Publish story\",\r\n            }}\r\n          >\r\n            Publish\r\n          </BasicButton>\r\n          <BasicButton\r\n            className=\"btn btn-save\"\r\n            type=\"default\"\r\n            withTooltip\r\n            tooltipProps={{\r\n              tooltipTitle: \"Save story\",\r\n              tooltipPosition: \"left\",\r\n            }}\r\n          >\r\n            Save\r\n          </BasicButton>\r\n        </div>\r\n      </Header>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { TopNav };\r\n","import React from \"react\";\r\nimport \"../../../../assets/css/animation.css\";\r\nimport { ANIMATIONS } from \"../../../../helper/contants\";\r\nimport { capitalizeString } from \"../../../../helper/meta\";\r\nimport { useRedux } from \"../../../../hooks\";\r\n\r\nimport {\r\n  setAnimations\r\n} from \"../../../../redux/slices/storiesSlice\";\r\n\r\nconst Animation = () => {\r\n  let [dispatch] = useRedux();\r\n  const animate = (e, animate, type) => {\r\n    let anim = e.currentTarget.children[0];\r\n    if (type) anim.classList.add(animate);\r\n    else anim.classList.remove(animate);\r\n  };\r\n  // const userd = useSelector((state) => state.STORIES_KEY.animations);\r\n  // console.log(\"anim\", userd);\r\n  return (\r\n    <div>\r\n      {/* <h3>Animations</h3> */}\r\n      <div className=\"animations-container sideBarContent-active\">\r\n        {ANIMATIONS.map((animation, i) => {\r\n          return (\r\n            <div\r\n              key={i}\r\n              onMouseOver={(e) => {\r\n                animate(e, animation, i);\r\n                dispatch(\r\n                  setAnimations(animation)\r\n                );\r\n\r\n                // dispatch(changeRectAlignments({ newAligns, index: 0 }));\r\n              }}\r\n              onMouseLeave={(e) => animate(e, animation, 0)}\r\n              className=\"animation-container\"\r\n            >\r\n              {console.log(\"ani\", animation)}\r\n              <div className=\"animation\"></div>\r\n              <span>{capitalizeString(animation, \"-\")}</span>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Animation };\r\n","import { HEADERS_TAGS, MULTI_MEDIA_TAGS, TEXTS_TAGS, FONT_FAMILIES, FONT_WEIGHTS } from \"../../../../helper/contants\"\r\nimport {\r\n  PlusOutlined,\r\n  MinusOutlined,\r\n  FontColorsOutlined,\r\n  BgColorsOutlined,\r\n  BoldOutlined,\r\n  ItalicOutlined,\r\n  AlignLeftOutlined,\r\n  AlignCenterOutlined,\r\n  AlignRightOutlined,\r\n  VerticalAlignBottomOutlined\r\n} from '@ant-design/icons'\r\nimport { Select } from \"antd\"\r\nimport { changeLayerElementChildStyle, changeRectAlignments } from \"../../../../redux/slices/storiesSlice\"\r\nimport { useRedux } from \"../../../../hooks\"\r\nimport { useCallback, useState } from \"react\"\r\n\r\nconst { Option } = Select\r\n\r\nexport const icons = {\r\n  plusIcon: <PlusOutlined />,\r\n  minusIcon: <MinusOutlined />,\r\n  colorIcon: <FontColorsOutlined />,\r\n  backgroundColorIcon: <BgColorsOutlined />,\r\n  fontWeightIcon: <BoldOutlined />,\r\n  fontStyleIcon: <ItalicOutlined />,\r\n  textAlignLeftIcon: <AlignLeftOutlined />,\r\n  textAlignRightIcon: <AlignRightOutlined />,\r\n  textAlignCenterIcon: <AlignCenterOutlined />,\r\n  textAlignBottomIcon: <VerticalAlignBottomOutlined />,\r\n}\r\n\r\nconst DropDown = ({ options = [], withDiffVals = false, slected = null, onChange, cssStyle, children }) => {\r\n  return (\r\n    <span style={{ margin: '3px 10px 0 0' }}>\r\n      <Select\r\n        showSearch\r\n        style={{ width: 100 }}\r\n        placeholder={options[0]}\r\n        optionFilterProp='children'\r\n        onChange={(v) => onChange({ [cssStyle]: v })}\r\n        defaultValue={slected || withDiffVals ? options[0].value : options[0]}\r\n        filterOption={(input, option) =>\r\n          option.value.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n      >\r\n        {options.map((o, i) => <Option key={i} value={withDiffVals ? o.value : o}>{withDiffVals ? o.name : o}</Option>)}\r\n        {children}\r\n      </Select>\r\n    </span>)\r\n}\r\n\r\nconst IconButton = ({ icon = null, value = '', slected = false, onClick, cssStyle, style, children }) => {\r\n  return (\r\n    <span\r\n      onClick={() => onClick({ [cssStyle]: value })}\r\n      className='alignment-icon'\r\n      style={style}\r\n    >\r\n      {icon}\r\n      {children}\r\n    </span>)\r\n}\r\n\r\nconst FontSize = ({ defaultValue = 16, applyStyles }) => {\r\n  const [fontSize, updateFont] = useState(defaultValue)\r\n  return (\r\n    <>\r\n      <IconButton icon={icons.plusIcon} cssStyle={'fontSize'} value={fontSize} onClick={(s) => fontSize < 24 ? (updateFont(fontSize + 1), applyStyles({ fontSize: `${fontSize + 1}px` })) : alert(\"You can't apply more than 24 pixels.\")} />\r\n      <span className='inputCount'>{fontSize}</span>\r\n      <IconButton icon={icons.minusIcon} cssStyle={'fontSize'} value={fontSize} onClick={() => fontSize > 0 ? (updateFont(fontSize - 1), applyStyles({ fontSize: `${fontSize - 1}px` })) : alert(\"You can't apply less than 0 pixels\")} />\r\n    </>)\r\n}\r\n\r\nconst Styles = ({ tag, styles }) => {\r\n  let [dispatch] = useRedux()\r\n  let textTags = [...TEXTS_TAGS, ...HEADERS_TAGS]\r\n  let applyStyles = useCallback((style) => {\r\n    if (textTags) dispatch(changeLayerElementChildStyle(style))\r\n    else if (MULTI_MEDIA_TAGS.includes(tag)) dispatch(changeRectAlignments({ ...style, index: 0 }))\r\n  }, [styles])\r\n\r\n  if (textTags.includes(tag)) {\r\n    return (<>\r\n      <DropDown options={FONT_FAMILIES} onChange={applyStyles} cssStyle={'fontFamily'} />\r\n      <IconButton icon={icons.colorIcon} cssStyle={'color'} value='red' onClick={applyStyles} />\r\n      <IconButton icon={icons.backgroundColorIcon} cssStyle={'backgroundColor'} value='black' onClick={applyStyles} />\r\n      <IconButton icon={icons.fontWeightIcon} cssStyle={'fontWeight'} value='bold' onClick={applyStyles} />\r\n      <IconButton icon={icons.fontStyleIcon} cssStyle={'fontStyle'} value='italic' onClick={applyStyles} />\r\n      <FontSize applyStyles={applyStyles} />\r\n      <IconButton icon={icons.textAlignLeftIcon} cssStyle={'textAlign'} value='left' onClick={applyStyles} />\r\n      <IconButton icon={icons.textAlignRightIcon} cssStyle={'textAlign'} value='right' onClick={applyStyles} />\r\n      <IconButton icon={icons.textAlignCenterIcon} cssStyle={'textAlign'} value='center' onClick={applyStyles} />\r\n      <DropDown options={FONT_WEIGHTS} withDiffVals onChange={applyStyles} cssStyle={'fontWeight'} />\r\n    </>\r\n    )\r\n  }\r\n  else if (MULTI_MEDIA_TAGS.includes(tag)) {\r\n    return (\r\n      <>\r\n        <IconButton icon={icons.textAlignBottomIcon} style={{ transform: 'rotate(180deg)' }} cssStyle={'top'} value='0px' onClick={applyStyles} />\r\n        <IconButton icon={icons.textAlignRightIcon} cssStyle={'right'} value='0px' onClick={applyStyles} />\r\n        <IconButton icon={icons.textAlignLeftIcon} cssStyle={'left'} value='0px' onClick={applyStyles} />\r\n        <IconButton icon={icons.textAlignBottomIcon} cssStyle={'bottom'} value='0px' onClick={applyStyles} />\r\n      </>)\r\n  }\r\n  return\r\n}\r\n\r\nexport default Styles\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { Layout, Select } from 'antd'\r\nimport BasicButton from '../../../form_control/BasicButton'\r\nimport { isUrl, validValue } from '../../../../helper/meta'\r\nimport { changeLayerElementChildStyle, changeRectAlignments } from '../../../../redux/slices/storiesSlice'\r\nimport { DeleteFilled } from '@ant-design/icons'\r\nimport { Animation } from '../Animation'\r\nimport Styles from './styles'\r\nimport { useRedux } from '../../../../hooks'\r\nimport { STORIES_KEY } from '../../../../helper/contants'\r\nconst { Header } = Layout\r\n\r\nconst LayerDesignNav = ({ openAnimationPanel }) => {\r\n  let [dispatch, , getState] = useRedux()\r\n  let { active_storyId, data } = getState(STORIES_KEY)\r\n  let { storyLayers, activeLayer } = data[active_storyId]\r\n\r\n  let [optionVisiblity, setOptionVisiblity] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (storyLayers.length - 1 >= 0 && storyLayers[activeLayer]) {\r\n      let { elements, activeElementIndex } = storyLayers[activeLayer]\r\n      setOptionVisiblity(false)\r\n      elements.forEach(({ isActive }) => {\r\n        // console.log(isActive)\r\n        isActive && setOptionVisiblity(isActive)\r\n      })\r\n    } else setOptionVisiblity(false)\r\n  }, [storyLayers])\r\n\r\n  const [isTrue, setIstrue] = useState(false)\r\n  const [input, setInput] = useState('')\r\n  const [invalidurl, setInvalidurl] = useState()\r\n\r\n  let urlRef = useRef()\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', (event) => {\r\n      if (!urlRef.current?.contains(event.target)) {\r\n        setIstrue(false)\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const { Option } = Select\r\n\r\n  const applyStyle = (style) => {\r\n    // dispatch(changeLayerElementChildStyle(style))\r\n    let newAligns = {\r\n      height: 100,\r\n      left: 100,\r\n      position: \"absolute\",\r\n      rotateAngle: 0,\r\n      top: 0,\r\n      width: 100, ...style\r\n    }\r\n    dispatch(changeRectAlignments({ newAligns, index: 0 }))\r\n  }\r\n  const [count, setCount] = useState(0)\r\n\r\n  return (\r\n    <div>\r\n      <Header className='headerTwo'>\r\n        {optionVisiblity && (\r\n          <div className='icon-container'>\r\n            <Styles tag='h1' />\r\n            <BasicButton\r\n              className='animateBtn'\r\n              type='default'\r\n              withTooltip\r\n              tooltipProps={{\r\n                tooltipTitle: 'Animate',\r\n              }}\r\n              onClick={() => openAnimationPanel({ component: <Animation /> })}\r\n            >\r\n              Animate\r\n            </BasicButton>\r\n            <span className='deleteIcon'>\r\n              <DeleteFilled />\r\n            </span>\r\n            {/*<span onClick={() => { }} style={{ margin: '3px 10px 0 0' }}>\r\n              <Select\r\n                showSearch\r\n                style={{ width: 100 }}\r\n                placeholder='Arial'\r\n                optionFilterProp='children'\r\n                onChange={changeFontStyle}\r\n                defaultValue={'Arial'}\r\n                // onSearch={changeFontStyleSearch}\r\n                filterOption={(input, option) =>\r\n                  option.value.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                }\r\n              >\r\n                <Option value='Arial'>Arial</Option>\r\n                <Option value='Roboto'>Roboto</Option>\r\n                <Option value='Serif'>Serif</Option>\r\n                <Option value='Sans-serif'>Sans-serif</Option>\r\n                <Option value='Fantasy'>Fantasy </Option>\r\n              </Select>\r\n            </span>\r\n            <span\r\n              onClick={() => {\r\n                console.log(sizeDecreament)\r\n                if (count > 0) {\r\n                  setCount(count - 1)\r\n                } else {\r\n                  alert(\"You can't less more than 0\")\r\n                }\r\n              }}\r\n            >\r\n              <MinusOutlined className='minusIcon' />\r\n            </span>\r\n            <span className='inputCount'>{count}</span>\r\n            <span\r\n              onClick={() => {\r\n                console.log(sizeIncreament)\r\n                if (count <= 9) {\r\n                  setCount(count + 1)\r\n                } else {\r\n                  alert(\"You can't add more than 10\")\r\n                }\r\n              }}\r\n            >\r\n              <PlusOutlined className='plusIcon' />\r\n            </span>\r\n            <span\r\n              onClick={() => {\r\n                console.log(fontColor)\r\n              }}\r\n              className='alignment-icon'\r\n            >\r\n              <FontColorsOutlined />\r\n            </span>\r\n            <span\r\n              onClick={() => {\r\n                console.log(backgroundColor)\r\n              }}\r\n              className='alignment-icon'\r\n            >\r\n              <BgColorsOutlined />\r\n            </span>\r\n            <span\r\n              onClick={(e) => {\r\n                e.stopPropagation()\r\n                console.log(fontWeight)\r\n                dispatch(changeLayerElementChildStyle({ fontWeight }))\r\n              }}\r\n              className='alignment-icon'\r\n            >\r\n              <BoldOutlined />\r\n            </span>\r\n            <span\r\n              onClick={() => {\r\n                console.log(fontStyleItaic)\r\n              }}\r\n              className='alignment-icon'\r\n            >\r\n              <ItalicOutlined />\r\n            </span>\r\n            <span\r\n              onClick={() => {\r\n                console.log(fontSize)\r\n              }}\r\n              className='alignment-icon'\r\n            >\r\n              <img\r\n                height='15'\r\n                src='https://img.icons8.com/small/96/000000/sentence-case.png'\r\n              />\r\n            </span>\r\n            <span\r\n              onClick={() => {\r\n                console.log(fontWeightLighter)\r\n              }}\r\n              style={{ marginTop: '3px' }}\r\n            >\r\n              <Select\r\n                showSearch\r\n                style={{ width: 100 }}\r\n                placeholder='Regular'\r\n                optionFilterProp='children'\r\n                onChange={changeFontWeight}\r\n                defaultValue='Light'\r\n                filterOption={(input, option) =>\r\n                  option.value.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                }\r\n              >\r\n                <Option value='Light'>Light</Option>\r\n                <Option value='Bold'>Bold</Option>\r\n                <Option value='Bolder'>Bolder</Option>\r\n                <Option value='Regular'>Regular</Option>\r\n              </Select>\r\n            </span>\r\n            <span\r\n              onClick={() => {\r\n                console.log(textAlignLeft)\r\n              }}\r\n              className='alignment-icon'\r\n            >\r\n              <AlignLeftOutlined />\r\n            </span>\r\n            <span\r\n              onClick={() => {\r\n                console.log(textAlignCenter)\r\n              }}\r\n              className='alignment-icon'\r\n            >\r\n              <AlignCenterOutlined />\r\n            </span>\r\n            <span\r\n              onClick={() => {\r\n                console.log(textAlignRight)\r\n              }}\r\n              className='alignment-icon'\r\n            >\r\n              <AlignRightOutlined />\r\n            </span>\r\n            <span className='alignment-icon' onClick={() => setIstrue(true)}>\r\n              <LinkOutlined />\r\n              {isTrue ? (\r\n                <div ref={urlRef} className='urlModal'>\r\n                  <input\r\n                    type='url'\r\n                    placeholder='Enter url'\r\n                    value={input}\r\n                    onChange={(e) => {\r\n                      setInput(e.target.value)\r\n                    }}\r\n                  />\r\n                  <BasicButton\r\n                    onClick={() => {\r\n                      isUrl(input)\r\n                        ? setInvalidurl('Correct Url')\r\n                        : setInvalidurl('Invalid Url')\r\n                    }}\r\n                    size='sm'\r\n                    className='btn'\r\n                  >\r\n                    Apply URL\r\n                  </BasicButton>\r\n                  <h3 style={{ textAlign: 'center' }}>{invalidurl}</h3>\r\n                </div>\r\n              ) : null}\r\n            </span>\r\n            <BasicButton\r\n              className='animateBtn'\r\n              type='default'\r\n              withTooltip\r\n              tooltipProps={{\r\n                tooltipTitle: 'Animate',\r\n              }}\r\n              onClick={() => openAnimationPanel({ component: <Animation /> })}\r\n            >\r\n              Animate\r\n            </BasicButton>\r\n            <span className='deleteIcon'>\r\n              <DeleteFilled />\r\n            </span>\r\n            */}\r\n          </div>\r\n        )}\r\n      </Header>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { LayerDesignNav }\r\n","import React from 'react'\r\nimport '../assets/css/Navbar.css'\r\nimport { SlidesContext } from '../providers/Slides'\r\nimport { TopNav, LayerDesignNav } from './Editor/SideBar/Headers'\r\nimport '../assets/css/Navbar.css'\r\n\r\nconst Navbar = ({ openAnimationPanel }) => {\r\n  return (\r\n    <div>\r\n      <TopNav />\r\n      <LayerDesignNav openAnimationPanel={openAnimationPanel} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","export default __webpack_public_path__ + \"static/media/logo.140c1e3b.png\";","import React from 'react'\r\nimport ReactGPicker from 'react-gcolor-picker'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Tabs } from 'antd'\r\n// import { SlidesContext } from '../../providers/Slides'\r\nimport { changeBackground } from '../../../../redux/slices/storiesSlice'\r\nimport { Images } from '../'\r\nimport { isGradientColor, validString } from '../../../../helper/meta'\r\nimport {\r\n  DEFAULT_SOLID_COLORS,\r\n  DEFAULT_GRADIENT_COLORS,\r\n  DEFAULT_PICKER_COLOR,\r\n  STORIES_KEY\r\n} from '../../../../helper/contants'\r\n\r\nimport { useRedux } from '../../../../hooks'\r\n\r\nconst ColorPicker = () => {\r\n\r\n  let [dispatch, , getState] = useRedux()\r\n  let story = getState(STORIES_KEY)\r\n  // const story = useSelector((state) => state[STORIES_KEY])\r\n  const { active_storyId, data } = story\r\n  let { activeLayer, storyLayers } = data[active_storyId]\r\n  let { backgroundColor: bgColor, backgroundUrl } = storyLayers[activeLayer]\r\n  const isGradient = validString(bgColor) && isGradientColor(bgColor)\r\n\r\n  const { TabPane } = Tabs\r\n  // const { changeBackground } = useContext(SlidesContext)\r\n\r\n  const changeColor = (color) => {\r\n    if (\r\n      (bgColor !== '' && color === 'rgb(255, 255, 255)') ||\r\n      (color !== '' && backgroundUrl === '') ||\r\n      (color !== 'rgb(255, 255, 255)' && backgroundUrl !== '')\r\n    )\r\n      dispatch(changeBackground({ type: color }))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* <h3 className='headerBG'>Background</h3> */}\r\n      <Tabs defaultActiveKey='1' type='card' style={{ color: 'white' }}>\r\n        <TabPane tab='Color' key='1'>\r\n          <ReactGPicker\r\n            value={!isGradient ? bgColor : DEFAULT_PICKER_COLOR}\r\n            onChange={changeColor}\r\n            colorBoardHeight={220}\r\n            defaultColors={DEFAULT_SOLID_COLORS}\r\n          />\r\n        </TabPane>\r\n        <TabPane tab='Gradient' key='2'>\r\n          <ReactGPicker\r\n            value={isGradient ? bgColor : DEFAULT_PICKER_COLOR}\r\n            gradient={true}\r\n            solid={false}\r\n            onChange={changeColor}\r\n            defaultColors={DEFAULT_GRADIENT_COLORS}\r\n          />\r\n        </TabPane>\r\n        <TabPane tab='Images' key='3'>\r\n          <Images alt='background-image' />\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ColorPicker\r\n","import 'emoji-mart/css/emoji-mart.css'\r\nimport React, { Fragment } from 'react'\r\nimport emojis from '../../../../assets/s3-bucket/emojis.json'\r\nimport Masonry from 'react-responsive-masonry'\r\nimport { Drag } from '../../'\r\nimport { ItemTypes } from '../../../../helper/contants'\r\nimport { Loading } from '../../../Icons'\r\n\r\nconst Emojis = () => {\r\n  const [result, setResult] = React.useState([])\r\n  const [loading, setLoading] = React.useState(false)\r\n\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <div className='spinner'>\r\n          <Loading />\r\n        </div>\r\n      ) : (\r\n        <Masonry\r\n          columnsCount={5}\r\n          gutter='10px'\r\n          style={{\r\n            width: '80%',\r\n            overflowY: 'scroll',\r\n            height: '83vh',\r\n            overflowX: 'hidden',\r\n            scrollbarWidth: 'none',\r\n            padding: '0 16px',\r\n            cursor: 'pointer',\r\n          }}\r\n        >\r\n          {emojis.map((url, index) => {\r\n            return (\r\n              <Drag type={ItemTypes.IMAGE} key={index}>\r\n                <img width='30' alt={`emoji-${index}`} src={url} />\r\n              </Drag>\r\n            )\r\n          })}\r\n        </Masonry>\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Emojis\r\n","const GIPHY_API_KEY = '3VMX9Pi9HUolNlwGq4K8VwzwX750M1bo'\r\nconst UNSPLASH_CLIENT_ID = 'jF2rvKYUMtPjksg_EuYNajbukgHZEwe_vDTSLGW0c3g'\r\nconst GIFS_API_KEY = 'dc6zaTOxFJmzC'\r\nconst VIDEO_ACCESS_TOKEN =\r\n  '563492ad6f917000010000015a2e11c34eb24de2b39be47097343fd1'\r\nexport { GIPHY_API_KEY, UNSPLASH_CLIENT_ID, GIFS_API_KEY, VIDEO_ACCESS_TOKEN }","export async function client(endpoint, { body, ...customConfig } = {}) {\r\n  const headers = { 'Content-Type': 'application/json' }\r\n\r\n  const config = {\r\n    method: body ? 'POST' : 'GET',\r\n    ...customConfig,\r\n    headers: {\r\n      ...headers,\r\n      ...customConfig.headers,\r\n    },\r\n  }\r\n\r\n  if (body) {\r\n    config.body = JSON.stringify(body)\r\n  }\r\n\r\n  let data\r\n  try {\r\n    const response = await fetch(endpoint, config)\r\n    data = await response.json()\r\n    if (response.ok) {\r\n      // Return a result object similar to Axios\r\n      return {\r\n        status: response.status,\r\n        data,\r\n        headers: response.headers,\r\n        url: response.url,\r\n      }\r\n    }\r\n    throw new Error(response.statusText)\r\n  } catch (err) {\r\n    return Promise.reject(err.message ? err.message : data)\r\n  }\r\n}\r\n\r\nclient.get = function (endpoint, customConfig = {}) {\r\n  return client(endpoint, { ...customConfig, method: 'GET' })\r\n}\r\n\r\nclient.post = function (endpoint, body, customConfig = {}) {\r\n  return client(endpoint, { ...customConfig, body })\r\n}\r\n","import { createAsyncThunk } from '@reduxjs/toolkit'\r\nimport { client } from '../../api'\r\nimport { VIDEO_ACCESS_TOKEN } from '../../config'\r\nimport { EDITOR_META_KEY } from '../../helper/contants'\r\n\r\nexport const fetchImages = createAsyncThunk(\r\n  `${EDITOR_META_KEY}/getImages`,\r\n  async (url, thunkApi) => {\r\n    const res = await client.get(url, {\r\n      signal: thunkApi.abort,\r\n    })\r\n    return res.data\r\n  }\r\n)\r\n\r\nexport const searchImages = createAsyncThunk(\r\n  `${EDITOR_META_KEY}/searchImages`,\r\n  async ({ url }, thunkApi) => {\r\n    const res = await client.get(url, {\r\n      signal: thunkApi.abort,\r\n    })\r\n    return res.data\r\n  }\r\n)\r\n\r\nexport const fetchStickers = createAsyncThunk(\r\n  `${EDITOR_META_KEY}/getStickers`,\r\n  async (url, thunkApi) => {\r\n    const res = await client.get(url, {\r\n      signal: thunkApi.abort,\r\n    })\r\n    return res.data\r\n  }\r\n)\r\n\r\nexport const searchStickers = createAsyncThunk(\r\n  `${EDITOR_META_KEY}/searchStickers`,\r\n  async ({ url }, thunkApi) => {\r\n    const res = await client.get(url, {\r\n      signal: thunkApi.abort,\r\n    })\r\n    return res.data\r\n  }\r\n)\r\n\r\nexport const fetchGiphys = createAsyncThunk(\r\n  `${EDITOR_META_KEY}/getGiphys`,\r\n  async (url, thunkApi) => {\r\n    const res = await client.get(url, {\r\n      signal: thunkApi.abort,\r\n    })\r\n    return res.data\r\n  }\r\n)\r\n\r\nexport const searchGiphys = createAsyncThunk(\r\n  `${EDITOR_META_KEY}/searchGiphys`,\r\n  async ({ url }, thunkApi) => {\r\n    const res = await client.get(url, {\r\n      signal: thunkApi.abort,\r\n    })\r\n    return res.data\r\n  }\r\n)\r\n\r\nexport const fetchVideos = createAsyncThunk(\r\n  `${EDITOR_META_KEY}/getVideos`,\r\n  async (url, thunkApi) => {\r\n    const res = await client.get(url, {\r\n      headers: {\r\n        Authorization: `${VIDEO_ACCESS_TOKEN}`,\r\n      },\r\n      signal: thunkApi.abort,\r\n    })\r\n    return res.data\r\n  }\r\n)\r\n\r\nexport const searchVideos = createAsyncThunk(\r\n  `${EDITOR_META_KEY}/searchVideos`,\r\n  async ({ url }, thunkApi) => {\r\n    const res = await client.get(url, {\r\n      headers: {\r\n        Authorization: `${VIDEO_ACCESS_TOKEN}`,\r\n      },\r\n      signal: thunkApi.abort,\r\n    })\r\n    return res.data\r\n  }\r\n)\r\n","export const styles = {\r\n  root: {\r\n    padding: '3px 18px',\r\n    width: 'inherit',\r\n  },\r\n  row: {\r\n    // padding: '3px 22px',\r\n    overflow: 'hidden scroll',\r\n  },\r\n  infiniteScrollStyles: {\r\n    width: '100%',\r\n    height: '76vh',\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    background: '#0D0B22',\r\n    marginBottom: '10px',\r\n  },\r\n  inputLogo: {\r\n    background: '#0D0B22',\r\n    color: 'white',\r\n  },\r\n  mansory: {\r\n    display: 'flex',\r\n    marginBottom: '18px',\r\n  },\r\n}\r\n","import Masonry from 'react-responsive-masonry'\r\n\r\nconst MasonryItems = ({ children, columnsCount, gutter, style, ...rest }) => {\r\n  console.log(rest)\r\n  return (\r\n    <Masonry\r\n      columnsCount={columnsCount}\r\n      gutter={gutter}\r\n      style={style}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Masonry>\r\n  )\r\n}\r\n\r\nMasonryItems.defaultProps = {\r\n  columnsCount: 2,\r\n  gutter: '10px',\r\n  style: {},\r\n}\r\n\r\nexport { MasonryItems }\r\n","import React from 'react'\r\nimport { Card } from 'antd'\r\nimport { Drag } from '../..'\r\nimport { ItemTypes } from '../../../../helper/contants'\r\nimport { styles } from './styles'\r\nimport { MasonryItems } from '../../../MasonryItems'\r\n\r\nconst MansoryStickers = ({ giphys = [], notFoundMsg, loadingIcon }) => {\r\n  if (giphys.length > 0) {\r\n    return (\r\n      <>\r\n        <MasonryItems style={styles.mansory}>\r\n          {giphys.map((gif, i) => {\r\n            return (\r\n              <Card\r\n                key={i}\r\n                cover={\r\n                  <Drag type={ItemTypes.IMAGE}>\r\n                    <img src={gif.images.fixed_width.url} />\r\n                  </Drag>\r\n                }\r\n              ></Card>\r\n            )\r\n          })}\r\n        </MasonryItems>\r\n        {loadingIcon}\r\n      </>\r\n    )\r\n  } else if (notFoundMsg === '') return <>{loadingIcon}</>\r\n  return <div>{notFoundMsg}</div>\r\n}\r\n\r\nexport default MansoryStickers\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport {\r\n  EDITOR_META_KEY,\r\n  GIPHYS_NOT_FOUND,\r\n  IMAGES_NOT_FOUND,\r\n  STICKERS_NOT_FOUND,\r\n  VIDEOS_NOT_FOUND,\r\n} from '../../helper/contants'\r\nimport { getKeysFromObject, validString } from '../../helper/meta'\r\nimport {\r\n  fetchGiphys,\r\n  fetchImages,\r\n  fetchStickers,\r\n  fetchVideos,\r\n  searchGiphys,\r\n  searchImages,\r\n  searchStickers,\r\n  searchVideos,\r\n} from '../thunks/fetchEditorMeta'\r\n\r\n//This Slice contains gifs, images, giphy, videos, shapes, emoijis, stickers\r\n\r\nconst imagesInitialState = {\r\n  loadingImages: false,\r\n  searchingImagesFor: '',\r\n  searchingBackgroundImagesFor: '',\r\n  images: [],\r\n  searchedImages: [],\r\n  searchedBackgroundImages: [],\r\n  imagesPage: 1,\r\n  noImagesFoundMsg: '',\r\n}\r\n\r\nconst stickersInitialState = {\r\n  loadingStickers: false,\r\n  stickers: [],\r\n  searchedStickers: [],\r\n  noStickersFoundMsg: '',\r\n  searchForStickers: '',\r\n}\r\n\r\nconst giphysInitialState = {\r\n  loadingGiphys: false,\r\n  giphys: [],\r\n  searchGiphysFor: '',\r\n  searchedGiphys: [],\r\n  noGiphysFoundMsg: '',\r\n}\r\n\r\nconst videosInitialState = {\r\n  loadingVideos: false,\r\n  videos: [],\r\n  searchVideosFor: '',\r\n  searchedVideos: [],\r\n  noVideosFoundMsg: '',\r\n  videosPage: 1,\r\n}\r\n\r\nconst initialState = {\r\n  ...imagesInitialState,\r\n  ...stickersInitialState,\r\n  ...giphysInitialState,\r\n  ...videosInitialState,\r\n}\r\n\r\nconst editorMetaSlice = createSlice({\r\n  name: EDITOR_META_KEY,\r\n  initialState,\r\n  reducers: {\r\n    clearSearch: (state, action) => {\r\n      let { payload } = action\r\n      let keys = getKeysFromObject(payload)\r\n      keys.forEach((key) => {\r\n        state[key] = payload[key]\r\n      })\r\n    },\r\n  },\r\n  extraReducers: {\r\n    /* Images API Reducers */\r\n    [fetchImages.pending]: (state, action) => {\r\n      state.loadingImages = true\r\n    },\r\n    [fetchImages.fulfilled]: (state, action) => {\r\n      state.loadingImages = false\r\n      state.imagesPage++\r\n      state.images.push(...action.payload)\r\n    },\r\n    [fetchImages.rejected]: (state) => {\r\n      state.loadingImages = false\r\n      if (state.images.length === 0) {\r\n        state.noImagesFoundMsg = IMAGES_NOT_FOUND\r\n      }\r\n    },\r\n    [searchImages.pending]: (state, action) => {\r\n      let args = action.meta.arg\r\n      state.loadingImages = true\r\n      if (validString(args.for)) {\r\n        state.searchingBackgroundImagesFor = args.query\r\n      } else {\r\n        state.searchingImagesFor = args.query\r\n      }\r\n    },\r\n    [searchImages.fulfilled]: (state, action) => {\r\n      let args = action.meta.arg\r\n      state.loadingImages = false\r\n      console.log(action.payload)\r\n      if (validString(args.for)) {\r\n        state.searchedBackgroundImages.unshift(...action.payload.results)\r\n      } else {\r\n        state.searchedImages.unshift(...action.payload.results)\r\n      }\r\n    },\r\n    [searchImages.rejected]: (state, action) => {\r\n      state.loadingImages = false\r\n      if (state.images.length === 0 || state.searchedImages.length === 0) {\r\n        state.noImagesFoundMsg = IMAGES_NOT_FOUND\r\n      }\r\n    },\r\n\r\n    /* Stickers API Reducers  */\r\n    [fetchStickers.pending]: (state) => {\r\n      state.loadingStickers = true\r\n    },\r\n    [fetchStickers.fulfilled]: (state, action) => {\r\n      state.loadingStickers = false\r\n      state.stickers.push(...action.payload.data)\r\n    },\r\n    [fetchStickers.rejected]: (state) => {\r\n      state.loadingStickers = false\r\n      if (state.stickers.length === 0) {\r\n        state.noStickersFoundMsg = STICKERS_NOT_FOUND\r\n      }\r\n    },\r\n    [searchStickers.pending]: (state, action) => {\r\n      state.searchForStickers = action.meta.arg?.query\r\n      state.loadingStickers = true\r\n    },\r\n    [searchStickers.fulfilled]: (state, action) => {\r\n      const { data } = action.payload\r\n      state.loadingStickers = false\r\n      state.noStickersFoundMsg = data.length > 0 ? '' : STICKERS_NOT_FOUND\r\n      state.searchedStickers.unshift(...data)\r\n    },\r\n    [searchStickers.rejected]: (state) => {\r\n      state.loadingStickers = false\r\n      if (state.stickers.length === 0 || state.searchedStickers.length === 0) {\r\n        state.noStickersFoundMsg = STICKERS_NOT_FOUND\r\n      }\r\n    },\r\n\r\n    /* Giphys API Reducers  */\r\n    [fetchGiphys.pending]: (state) => {\r\n      state.loadingGiphys = true\r\n    },\r\n    [fetchGiphys.fulfilled]: (state, action) => {\r\n      state.loadingGiphys = false\r\n      state.giphys.push(...action.payload.data)\r\n    },\r\n    [fetchGiphys.rejected]: (state) => {\r\n      state.loadingGiphys = false\r\n      if (state.giphys.length === 0) {\r\n        state.noGiphysFoundMsg = GIPHYS_NOT_FOUND\r\n      }\r\n    },\r\n    [searchGiphys.pending]: (state, action) => {\r\n      state.searchGiphysFor = action.meta.arg?.query\r\n      state.loadingGiphys = true\r\n    },\r\n    [searchGiphys.fulfilled]: (state, action) => {\r\n      const { data } = action.payload\r\n      state.loadingGiphys = false\r\n      state.noGiphysFoundMsg = data.length > 0 ? '' : GIPHYS_NOT_FOUND\r\n      state.searchedGiphys.unshift(...data)\r\n    },\r\n    [searchGiphys.rejected]: (state) => {\r\n      state.loadingGiphys = false\r\n      if (state.searchedGiphys.length === 0 || state.giphys.length === 0) {\r\n        state.noGiphysFoundMsg = GIPHYS_NOT_FOUND\r\n      }\r\n    },\r\n\r\n    /* Videos API Reducers  */\r\n    [fetchVideos.pending]: (state) => {\r\n      state.loadingVideos = true\r\n    },\r\n    [fetchVideos.fulfilled]: (state, action) => {\r\n      state.loadingVideos = false\r\n      state.videosPage++\r\n      state.videos.push(...action.payload.videos)\r\n    },\r\n    [fetchVideos.rejected]: (state) => {\r\n      state.loadingVideos = false\r\n      if (state.videos.length === 0) {\r\n        state.noVideosFoundMsg = VIDEOS_NOT_FOUND\r\n      }\r\n    },\r\n    [searchVideos.pending]: (state, action) => {\r\n      state.searchVideosFor = action.meta.arg?.query\r\n      state.loadingVideos = true\r\n    },\r\n    [searchVideos.fulfilled]: (state, action) => {\r\n      const { videos } = action.payload\r\n      state.loadingVideos = false\r\n      state.noVideosFoundMsg = videos.length > 0 ? '' : VIDEOS_NOT_FOUND\r\n      state.searchedVideos.unshift(...videos)\r\n    },\r\n    [searchVideos.rejected]: (state) => {\r\n      state.loadingVideos = false\r\n      if (state.searchedVideos.length === 0 || state.videos.length === 0) {\r\n        state.noVideosFoundMsg = VIDEOS_NOT_FOUND\r\n      }\r\n    },\r\n  },\r\n})\r\n\r\nexport const { clearSearch } = editorMetaSlice.actions\r\nexport default editorMetaSlice.reducer\r\n","import React, { useEffect } from 'react'\r\nimport { Row, Input } from 'antd'\r\nimport { SearchOutlined } from '@ant-design/icons'\r\nimport { EDITOR_META_KEY } from '../../../../helper/contants'\r\nimport { GIFS_API_KEY } from '../../../../config'\r\nimport { useRedux } from '../../../../hooks'\r\nimport {\r\n  fetchGiphys,\r\n  searchGiphys,\r\n} from '../../../../redux/thunks/fetchEditorMeta'\r\nimport { validString } from '../../../../helper/meta'\r\nimport MansoryGiphys from './MansoryGiphys'\r\nimport { clearSearch } from '../../../../redux/slices/editorMetaSlice'\r\nimport { InfiniteScroller } from '../../'\r\nimport { Loading } from '../../../Icons'\r\nimport { styles } from './styles'\r\n\r\nconst Giphy = () => {\r\n  let [dispatch, getState] = useRedux()\r\n  let giphysState = getState(EDITOR_META_KEY)\r\n  const giphysPerPage = 20\r\n  const {\r\n    loadingGiphys,\r\n    giphys,\r\n    searchGiphysFor,\r\n    searchedGiphys,\r\n    noGiphysFoundMsg,\r\n  } = giphysState\r\n\r\n  //   const giphyTrendingUrl = `http://api.giphy.com/v1/gifs/trending?api_key=${GIFS_API_KEY}`\r\n  //   const giphySearchUrl = `http://api.giphy.com/v1/gifs/search?api_key=${GIFS_API_KEY}`\r\n\r\n  const url = (query = '', offset = 0) => {\r\n    let apiEndpoint = validString(query) ? 'search' : 'trending'\r\n    return `https://api.giphy.com/v1/gifs/${apiEndpoint}?api_key=${GIFS_API_KEY}&limit=${giphysPerPage}&rating=g&offset=${offset}&q=${query}`\r\n  }\r\n\r\n  useEffect(async () => {\r\n    giphys.length === 0 && dispatch(fetchGiphys(url()))\r\n  }, [])\r\n\r\n  const findSticers = (e) => {\r\n    let query = e.target.value\r\n    validString(query)\r\n      ? dispatch(searchGiphys({ url: url(query), query }))\r\n      : dispatch(clearSearch({ searchGiphysFor: '', searchedGiphys: [] }))\r\n  }\r\n\r\n  const loadMore = (page) => {\r\n    let offsets = page * giphysPerPage\r\n    console.log(offsets)\r\n    if (loadingGiphys) return\r\n    dispatch(fetchGiphys(url('', offsets)))\r\n  }\r\n\r\n  return (\r\n    <div className='hidescroll' style={styles.root}>\r\n      <Input\r\n        size='large'\r\n        placeholder='Search Images'\r\n        prefix={<SearchOutlined style={styles.inputLogo} />}\r\n        style={styles.input}\r\n        onChange={findSticers}\r\n        value={searchGiphysFor}\r\n      />\r\n      <Row style={styles.row}>\r\n        <InfiniteScroller\r\n          loadMore={loadMore}\r\n          hasMore={\r\n            !loadingGiphys &&\r\n            !validString(searchGiphysFor) &&\r\n            !validString(noGiphysFoundMsg)\r\n          }\r\n          loader={null}\r\n          style={styles.infiniteScrollStyles}\r\n        >\r\n          <MansoryGiphys\r\n            giphys={validString(searchGiphysFor) ? searchedGiphys : giphys}\r\n            loadingIcon={loadingGiphys ? <Loading /> : ''}\r\n            notFoundMsg={noGiphysFoundMsg}\r\n          />\r\n        </InfiniteScroller>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Giphy\r\n","import React from 'react'\r\nimport { Card } from 'antd'\r\nimport { CheckCircleTwoTone } from '@ant-design/icons'\r\nimport { isUrl, isValidObject } from '../../../../helper/meta'\r\nimport { MasonryItems } from '../../../MasonryItems'\r\nimport Drag from '../../Drag/Drag'\r\nimport { ItemTypes } from '../../../../helper/contants'\r\n\r\nconst MasonaryImages = ({\r\n  alt,\r\n  images = [],\r\n  stories = [],\r\n  noFoundMsg,\r\n  loadingIcon,\r\n}) => {\r\n  const { active_storyId, data } = stories\r\n  let { activeLayer, storyLayers } = data[active_storyId]\r\n  let bgImgSrc = storyLayers[activeLayer].backgroundUrl\r\n  let backgroundImg = !isValidObject(alt) && isUrl(bgImgSrc)\r\n\r\n  const hasBackgroundImg = (urls) => {\r\n    let imgsUrls = Object.keys(urls).map((key) => urls[key])\r\n    return imgsUrls.includes(bgImgSrc)\r\n  }\r\n\r\n  if (images.length > 0) {\r\n    return (\r\n      <>\r\n        <MasonryItems>\r\n          {images.map(({ urls }, i) => {\r\n            return (\r\n              <Card\r\n                className={\r\n                  backgroundImg && hasBackgroundImg(urls) ? 'selectedImg' : ''\r\n                }\r\n                key={i}\r\n                cover={\r\n                  <Drag type={ItemTypes.IMAGE}>\r\n                    <img alt={alt} src={urls.thumb} data-url={urls.regular} />\r\n                  </Drag>\r\n                }\r\n                bodyStyle={\r\n                  backgroundImg && hasBackgroundImg(urls)\r\n                    ? { position: 'absolute' }\r\n                    : {}\r\n                }\r\n              >\r\n                {backgroundImg && hasBackgroundImg(urls) && (\r\n                  <CheckCircleTwoTone\r\n                    twoToneColor='#52c41a'\r\n                    style={{ fontSize: '18px' }}\r\n                  />\r\n                )}\r\n              </Card>\r\n            )\r\n          })}\r\n        </MasonryItems>\r\n        {loadingIcon}\r\n      </>\r\n    )\r\n  } else if (!noFoundMsg) return loadingIcon\r\n  else return <div>{noFoundMsg}</div>\r\n}\r\n\r\nexport default MasonaryImages\r\n","export const styles = {\r\n  root: {\r\n    padding: '3px 18px',\r\n    width: 'inherit',\r\n  },\r\n  row: {\r\n    // padding: '3px 18px',\r\n    overflow: 'hidden scroll',\r\n  },\r\n  infiniteScrollStyles: {\r\n    width: '100%',\r\n    height: '76vh',\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    background: '#0D0B22',\r\n    marginBottom: '10px',\r\n  },\r\n  inputLogo: {\r\n    background: '#0D0B22',\r\n    color: 'white',\r\n  },\r\n  mansory: {\r\n    display: 'flex',\r\n    marginBottom: '18px',\r\n  },\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Row, Input } from 'antd'\r\nimport { SearchOutlined } from '@ant-design/icons'\r\nimport {\r\n  EDITOR_META_KEY,\r\n  IMAGES_PER_PAGE,\r\n  SEARCH_IMAGES_PER_PAGE,\r\n  STORIES_KEY,\r\n} from '../../../../helper/contants'\r\nimport MasonaryImages from './MasonaryImages'\r\nimport { InfiniteScroller } from '../../InfiniteScroller'\r\nimport { Loading } from '../../../Icons'\r\nimport { useRedux } from '../../../../hooks'\r\nimport {\r\n  fetchImages,\r\n  searchImages,\r\n} from '../../../../redux/thunks/fetchEditorMeta'\r\nimport { styles } from './styles'\r\nimport { UNSPLASH_CLIENT_ID } from '../../../../config'\r\nimport { validString } from '../../../../helper/meta'\r\nimport { clearSearch } from '../../../../redux/slices/editorMetaSlice'\r\n\r\nconst Images = ({ alt = {} }) => {\r\n  const [dispatch, state, getState] = useRedux()\r\n\r\n  const stories = getState(STORIES_KEY)\r\n\r\n\r\n  const {\r\n    loadingImages,\r\n    images,\r\n    searchedImages,\r\n    searchedBackgroundImages,\r\n    searchingImagesFor,\r\n    searchingBackgroundImagesFor,\r\n    imagesPage,\r\n    noImagesFoundMsg,\r\n  } = state[EDITOR_META_KEY]\r\n\r\n  const hasBackgroundImg = validString(alt)\r\n\r\n  // randomUrl =  'https://api.unsplash.com/photos/random?client_id=' + accessToken + '&count=20'\r\n  const searchUrl = `https://api.unsplash.com/search/photos?client_id=${UNSPLASH_CLIENT_ID}&per_page=${SEARCH_IMAGES_PER_PAGE}&query=`\r\n  const url = `https://api.unsplash.com/photos?client_id=${UNSPLASH_CLIENT_ID}&page=${imagesPage}&per_page=${IMAGES_PER_PAGE}`\r\n\r\n  const onSearch = (e) => {\r\n    let query = e.target.value\r\n    let url = searchUrl + query.replace(' ', '+')\r\n    if (!validString(query)) clearSearches()\r\n    if (hasBackgroundImg) {\r\n      // url,for,query\r\n      dispatch(searchImages({ url, for: alt, query }))\r\n    } else {\r\n      dispatch(searchImages({ url, for: alt, query }))\r\n    }\r\n  }\r\n\r\n  const clearSearches = () => {\r\n    hasBackgroundImg\r\n      ? dispatch(\r\n        clearSearch({ searchingImagesFor: '', searchedBackgroundImages: [] })\r\n      )\r\n      : dispatch(clearSearch({ searchingImagesFor: '', searchedImages: [] }))\r\n    return\r\n  }\r\n\r\n  const loadMore = () => {\r\n    if (loadingImages) return\r\n    dispatch(fetchImages(url))\r\n  }\r\n\r\n  useEffect(() => {\r\n    images.length === 0 && dispatch(fetchImages(url))\r\n  }, [])\r\n\r\n  return (\r\n    <div className='hidescroll' style={styles.root}>\r\n      <Input\r\n        size='large'\r\n        placeholder='Search Images'\r\n        prefix={<SearchOutlined style={styles.inputLogo} />}\r\n        style={styles.input}\r\n        onChange={onSearch}\r\n        value={\r\n          hasBackgroundImg ? searchingBackgroundImagesFor : searchingImagesFor\r\n        }\r\n      />\r\n      <Row style={styles.row}>\r\n        <InfiniteScroller\r\n          loadMore={loadMore}\r\n          hasMore={\r\n            hasBackgroundImg\r\n              ? !loadingImages &&\r\n              !validString(searchingBackgroundImagesFor) &&\r\n              !validString(noImagesFoundMsg)\r\n              : !loadingImages &&\r\n              !validString(searchingImagesFor) &&\r\n              !validString(noImagesFoundMsg)\r\n          }\r\n          loading={null}\r\n          style={styles.infiniteScrollStyles}\r\n        >\r\n          <MasonaryImages\r\n            alt={alt}\r\n            images={\r\n              hasBackgroundImg && validString(searchingBackgroundImagesFor)\r\n                ? searchedBackgroundImages\r\n                : validString(searchingImagesFor)\r\n                  ? searchedImages\r\n                  : images\r\n            }\r\n            stories={stories}\r\n            loadingIcon={loadingImages ? <Loading /> : ''}\r\n            noFoundMsg={noImagesFoundMsg}\r\n          />\r\n        </InfiniteScroller>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Images\r\n","export const styles = {\r\n  root: {\r\n    padding: '3px 22px',\r\n    width: 'inherit',\r\n  },\r\n  row: {\r\n    // padding: '3px 22px',\r\n    overflow: 'hidden scroll',\r\n  },\r\n  infiniteScrollStyles: {\r\n    width: '100%',\r\n    height: '76vh',\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    background: '#0D0B22',\r\n    marginBottom: '10px',\r\n  },\r\n  inputLogo: {\r\n    background: '#0D0B22',\r\n    color: 'white',\r\n  },\r\n  mansory: {\r\n    display: 'flex',\r\n    marginBottom: '18px',\r\n  },\r\n}\r\n","import React from 'react'\r\nimport { Card } from 'antd'\r\nimport { Drag } from '../..'\r\nimport { ItemTypes } from '../../../../helper/contants'\r\nimport { styles } from './styles'\r\nimport { MasonryItems } from '../../../MasonryItems'\r\n\r\nconst MansoryStickers = ({ stickers = [], notFoundMsg, loadingIcon }) => {\r\n  if (stickers.length > 0) {\r\n    return (\r\n      <>\r\n        <MasonryItems style={styles.mansory}>\r\n          {stickers.map((gif) => {\r\n            let { id, images } = gif\r\n            return (\r\n              <Card\r\n                key={id}\r\n                cover={\r\n                  <Drag type={ItemTypes.IMAGE}>\r\n                    <img\r\n                      src={images.downsized_medium.url}\r\n                      //downsized = kbs, Fixed Width >= 2Mb, Fixed Height >= 4.5Mb\r\n                      data-url={images.downsized.url}\r\n                      // data-url={images.downsized_medium.url}\r\n                    />\r\n                  </Drag>\r\n                }\r\n              ></Card>\r\n            )\r\n          })}\r\n        </MasonryItems>\r\n        {loadingIcon}\r\n      </>\r\n    )\r\n  } else if (notFoundMsg === '') return <>{loadingIcon}</>\r\n  return <div>{notFoundMsg}</div>\r\n}\r\n\r\nexport default MansoryStickers\r\n","import React, { useEffect } from 'react'\r\nimport { Row, Input } from 'antd'\r\nimport { SearchOutlined } from '@ant-design/icons'\r\nimport { EDITOR_META_KEY, STICKERS_PER_PAGE } from '../../../../helper/contants'\r\nimport { GIPHY_API_KEY } from '../../../../config'\r\nimport { useRedux } from '../../../../hooks'\r\nimport {\r\n  fetchStickers,\r\n  searchStickers,\r\n} from '../../../../redux/thunks/fetchEditorMeta'\r\nimport { validString } from '../../../../helper/meta'\r\nimport MansoryStickers from './MansoryStickers'\r\nimport { clearSearch } from '../../../../redux/slices/editorMetaSlice'\r\nimport { InfiniteScroller } from '../../'\r\nimport { Loading } from '../../../Icons'\r\nimport { styles } from './styles'\r\n\r\nconst Sticker = () => {\r\n  let [dispatch, , getState] = useRedux()\r\n  let stickersState = getState(EDITOR_META_KEY)\r\n  const {\r\n    loadingStickers,\r\n    stickers,\r\n    searchForStickers,\r\n    searchedStickers,\r\n    noStickersFoundMsg,\r\n  } = stickersState\r\n\r\n  const url = (query = '', offset = 0) => {\r\n    let apiEndpoint = validString(query) ? 'search' : 'trending'\r\n    return `https://api.giphy.com/v1/stickers/${apiEndpoint}?api_key=${GIPHY_API_KEY}&limit=${STICKERS_PER_PAGE}&rating=g&offset=${offset}&q=${query}`\r\n  }\r\n\r\n  useEffect(async () => {\r\n    stickers.length === 0 && dispatch(fetchStickers(url()))\r\n  }, [])\r\n\r\n  const findSticers = (e) => {\r\n    let query = e.target.value\r\n    query.replace(' ', '+')\r\n    validString(query)\r\n      ? dispatch(searchStickers({ url: url(query), query }))\r\n      : dispatch(clearSearch({ searchForStickers: '', searchedStickers: [] }))\r\n  }\r\n\r\n  const loadMore = (page) => {\r\n    let offsets = page * STICKERS_PER_PAGE\r\n    console.log(offsets)\r\n    if (loadingStickers) return\r\n    dispatch(fetchStickers(url('', offsets)))\r\n  }\r\n\r\n  return (\r\n    <div className='hidescroll' style={styles.root}>\r\n      <Input\r\n        size='large'\r\n        placeholder='Search Images'\r\n        prefix={<SearchOutlined style={styles.inputLogo} />}\r\n        style={styles.input}\r\n        onChange={findSticers}\r\n        value={searchForStickers}\r\n      />\r\n      <Row style={styles.row}>\r\n        <InfiniteScroller\r\n          loadMore={loadMore}\r\n          hasMore={!loadingStickers && !validString(searchForStickers)}\r\n          loader={null}\r\n          style={styles.infiniteScrollStyles}\r\n        >\r\n          <MansoryStickers\r\n            stickers={\r\n              validString(searchForStickers) ? searchedStickers : stickers\r\n            }\r\n            loadingIcon={loadingStickers ? <Loading /> : ''}\r\n            notFoundMsg={noStickersFoundMsg}\r\n          />\r\n        </InfiniteScroller>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Sticker\r\n","export const styles = {\r\n  row: {\r\n    padding: '0 16px',\r\n    height: '60px',\r\n    cursor: 'pointer',\r\n  },\r\n\r\n  col: {\r\n    marginTop: '12px',\r\n    background: '#1D1B36',\r\n    height: '64px',\r\n    borderRadius: '10px',\r\n    padding: '0 20px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n\r\n  title: {\r\n    fontSize: '24px',\r\n    color: 'white',\r\n    margin: '0',\r\n  },\r\n\r\n  headerOne: {\r\n    fontSize: '22px',\r\n    color: 'white',\r\n    margin: '0',\r\n  },\r\n\r\n  headerTwo: {\r\n    fontSize: '20px',\r\n    color: 'white',\r\n    margin: '0',\r\n  },\r\n\r\n  // headerTwo:{\r\n  //   color:'rgb(51, 51, 51)',\r\n  //   fontFamily: 'Roboto',\r\n  //   fontSize: '20px',\r\n  //   fontWeight: '500',\r\n  //   letterSpacing: '1px',\r\n  //   lineHeight: '1em',\r\n  //   textAlign: 'left',\r\n  //   textTransform: 'none',\r\n  //   transform: 'matrix(1, 0, 0, 1, 0, 0)',\r\n  // },\r\n\r\n  paragraph: {\r\n    fontSize: '17px',\r\n    color: 'white',\r\n    margin: '0',\r\n  },\r\n\r\n  sText: {\r\n    fontSize: '14px',\r\n    color: 'white',\r\n    margin: '0',\r\n  },\r\n}\r\n","import React, { useRef } from \"react\";\r\nimport { Col, Row } from \"antd\";\r\nimport { Drag } from \"../../\";\r\nimport { ItemTypes } from \"../../../../helper/contants\";\r\nimport { styles } from \"./styles\";\r\n\r\nconst Text = () => {\r\n  const exampleRef = useRef(null);\r\n  const clickMe = () => {\r\n    exampleRef.current.style.color = \"red\";\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row style={styles.row}>\r\n        <Drag type={ItemTypes.HEADER1}>\r\n          <Col span={24} style={styles.col}>\r\n            <h1\r\n              style={styles.title}\r\n              ref={exampleRef}\r\n              onClick={(e) => clickMe(e)}\r\n            >\r\n              Add Heading 1\r\n            </h1>\r\n          </Col>\r\n        </Drag>\r\n        <Drag type={ItemTypes.HEADER2}>\r\n          <Col span={24} style={styles.col}>\r\n            <h2 style={styles.headerOne}>Add Heading 2</h2>\r\n          </Col>\r\n        </Drag>\r\n        <Drag type={ItemTypes.HEADER3}>\r\n          <Col span={24} style={styles.col}>\r\n            <h3 style={styles.headerTwo}>Add Heading 3</h3>\r\n          </Col>\r\n        </Drag>\r\n        <Drag type={ItemTypes.PARAGRAPH}>\r\n          <Col span={24} style={styles.col}>\r\n            <p style={styles.paragraph}>Add Paragraph</p>\r\n          </Col>\r\n        </Drag>\r\n        <Drag type={ItemTypes.SPAN}>\r\n          <Col span={24} style={styles.col}>\r\n            <p style={styles.sText}>Add Supporting Text</p>\r\n          </Col>\r\n        </Drag>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Text;\r\n","import React, { useState } from 'react'\r\nimport { Card } from 'antd'\r\nimport { Drag } from '../../Drag'\r\nimport { ItemTypes } from '../../../../helper/contants'\r\n\r\nconst Preview = ({ videoData }) => {\r\n  let [play, setPlay] = useState(false)\r\n  let video = videoData.video_files[3]\r\n  let [loaded,isVideoImgLoaded] = useState(false)\r\n  return (\r\n    <div\r\n      className='video'\r\n      onMouseEnter={() => setPlay(true)}\r\n      onMouseOut={() => setPlay(false)}\r\n    >\r\n      {!play ? (\r\n        <>\r\n          <Card\r\n            cover={\r\n              <Drag type={ItemTypes.IMAGE}>\r\n                <img alt='' src={videoData.image} onLoad={()=> isVideoImgLoaded(true)}/>\r\n              </Drag>\r\n            }\r\n          />\r\n          {loaded && <span></span>}\r\n        </>\r\n      ) : (\r\n        <Card\r\n          cover={\r\n            <Drag type={ItemTypes.VIDEO}>\r\n              <video\r\n                loop\r\n                autoPlay\r\n                alt=''\r\n                poster={videoData.image}\r\n                id={video.id}\r\n              >\r\n                <source type='video/mp4' src={video.link}></source>\r\n              </video>\r\n            </Drag>\r\n          }\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preview\r\n","export const styles = {\r\n  root: {\r\n    padding: '3px 18px',\r\n    width: 'inherit',\r\n  },\r\n  row: {\r\n    // padding: '3px 18px',\r\n    overflow: 'hidden scroll',\r\n  },\r\n  infiniteScrollStyles: {\r\n    width: '100%',\r\n    height: '76vh',\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    background: '#0D0B22',\r\n    marginBottom: '10px',\r\n  },\r\n  inputLogo: {\r\n    background: '#0D0B22',\r\n    color: 'white',\r\n  },\r\n  mansory: {\r\n    display: 'flex',\r\n    marginBottom: '18px',\r\n  },\r\n}\r\n","import React, { useCallback, useEffect, useState } from 'react'\r\nimport { Row } from 'antd'\r\nimport { Input } from 'antd'\r\nimport { SearchOutlined } from '@ant-design/icons'\r\nimport Preview from './Preview'\r\nimport { styles } from './styles'\r\nimport { MasonryItems } from '../../../MasonryItems'\r\nimport { InfiniteScroller } from '../../InfiniteScroller'\r\nimport {\r\n  fetchVideos,\r\n  searchVideos,\r\n} from '../../../../redux/thunks/fetchEditorMeta'\r\nimport { clearSearch } from '../../../../redux/slices/editorMetaSlice'\r\nimport { EDITOR_META_KEY, VIDEOS_PER_PAGE } from '../../../../helper/contants'\r\nimport { useRedux } from '../../../../hooks'\r\nimport { debounce, validString } from '../../../../helper/meta'\r\nimport { Loading } from '../../../Icons'\r\n\r\nconst Videos = () => {\r\n  const [dispatch, , getState] = useRedux()\r\n  let videosState = getState(EDITOR_META_KEY)\r\n  let {\r\n    loadingVideos,\r\n    videos,\r\n    searchVideosFor,\r\n    searchedVideos,\r\n    noVideosFoundMsg,\r\n    videosPage,\r\n  } = videosState\r\n\r\n  let [searchFor, setSearchFor] = useState(searchVideosFor)\r\n\r\n  const url = (query = 'nature') => {\r\n    return `https://api.pexels.com/videos/search?query=${query}&page=${videosPage}&per_page=${VIDEOS_PER_PAGE}`\r\n  }\r\n\r\n  useEffect(async () => {\r\n    videos.length === 0 && dispatch(fetchVideos(url()))\r\n  }, [])\r\n\r\n  const onSearch = (e) => {\r\n    let query = e.target.value\r\n    setSearchFor(query)\r\n    handleSearch(query)\r\n  }\r\n\r\n  const search = (query) => {\r\n    validString(query)\r\n      ? dispatch(searchVideos({ url: url(query), query }))\r\n      : dispatch(clearSearch({ searchVideosFor: '', searchedVideos: [] }))\r\n  }\r\n\r\n  const handleSearch = useCallback(debounce(search), [])\r\n\r\n  const loadMore = (page) => {\r\n    let offsets = page * VIDEOS_PER_PAGE\r\n    console.log(offsets)\r\n    if (loadingVideos) return\r\n    dispatch(fetchVideos(url()))\r\n  }\r\n\r\n  let renderVideos = validString(searchVideosFor) ? searchedVideos : videos\r\n\r\n  return (\r\n    <div className='hidescroll' style={styles.root}>\r\n      <Input\r\n        size='large'\r\n        placeholder='Search Video'\r\n        prefix={<SearchOutlined style={styles.inputLogo} />}\r\n        style={styles.input}\r\n        onChange={onSearch}\r\n        value={searchFor}\r\n      />\r\n      <Row style={styles.row}>\r\n        <InfiniteScroller\r\n          loadMore={loadMore}\r\n          hasMore={\r\n            !loadingVideos &&\r\n            !validString(searchVideosFor) &&\r\n            !validString(noVideosFoundMsg)\r\n          }\r\n          loader={null}\r\n          style={styles.infiniteScrollStyles}\r\n        >\r\n          {renderVideos.length > 0 ? (\r\n            <>\r\n              <MasonryItems>\r\n                {renderVideos.map((video, i) => (\r\n                  <Preview key={i} videoData={video} />\r\n                ))}\r\n              </MasonryItems>\r\n              {!validString(searchVideosFor) && <Loading />}\r\n            </>\r\n          ) : validString(noVideosFoundMsg) ? (\r\n            <div>{noVideosFoundMsg}</div>\r\n          ) : (\r\n                <Loading />\r\n              )}\r\n        </InfiniteScroller>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Videos\r\n","import React, { Fragment } from 'react'\r\nimport shapes from '../../../../assets/s3-bucket/shapes.json'\r\nimport Masonry from 'react-responsive-masonry'\r\nimport { Drag } from '../../'\r\nimport { ItemTypes } from '../../../../helper/contants'\r\nimport { Loading } from '../../../Icons'\r\n\r\nconst Shapes = () => {\r\n  const [loading, setLoading] = React.useState(false)\r\n\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <div className='spinner'>\r\n          <Loading />\r\n        </div>\r\n      ) : (\r\n        <Masonry\r\n          columnsCount={3}\r\n          gutter='20px'\r\n          style={{\r\n            width: '81%',\r\n            overflowY: 'scroll',\r\n            height: '83vh',\r\n            overflowX: 'hidden',\r\n            scrollbarWidth: 'none',\r\n          }}\r\n        >\r\n          {shapes.map((url, index) => {\r\n            return (\r\n              <Drag type={ItemTypes.IMAGE} key={index}>\r\n                <img\r\n                  width='60'\r\n                  alt={`shape-${index}`}\r\n                  src={url}\r\n                  style={{ color: '#fff' }}\r\n                />\r\n              </Drag>\r\n            )\r\n          })}\r\n        </Masonry>\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Shapes\r\n","import React, { useEffect, useRef } from 'react'\r\nimport { Layout } from 'antd'\r\nimport { Tabs } from 'antd'\r\nimport {\r\n  ColorPicker,\r\n  Emojis,\r\n  Images,\r\n  Stickers,\r\n  Text,\r\n  Videos,\r\n  Shapes,\r\n  Giphy,\r\n} from './SideBar'\r\n\r\nconst { TabPane } = Tabs\r\n\r\nconst { Sider } = Layout\r\n\r\nconst SideMenuContent = ({\r\n  sideType,\r\n  onClose,\r\n  open,\r\n  customComponent,\r\n  uploadFiles,\r\n}) => {\r\n  const siderBarRef = useRef()\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClose, true)\r\n    return () => {\r\n      document.removeEventListener('click', handleClose, true)\r\n    }\r\n  }, [open])\r\n\r\n  const handleClose = (e) => {\r\n    if (siderBarRef.current && siderBarRef.current.contains(e.target)) {\r\n      // inside click\r\n      return\r\n    }\r\n    // outside click\r\n    open && onClose(!open)\r\n  }\r\n\r\n  return (\r\n    <Sider\r\n      className={open ? 'siderTwo slideIn' : 'slideOut'}\r\n      ref={siderBarRef}\r\n      style={{ flex: '0 0 270px !important' }}\r\n    >\r\n      {sideType === 'background' && <ColorPicker />}\r\n      {sideType === 'text' && (\r\n        <div>\r\n          <h3 className='header-text'>Click on text to add to story</h3>\r\n          <Text />\r\n        </div>\r\n      )}\r\n      {sideType === 'media' && (\r\n        <div>\r\n          {/* <h3 className='headerBG'>Media</h3> */}\r\n          <Tabs defaultActiveKey='1' type='card' style={{ color: 'white' }}>\r\n            <TabPane\r\n              tab={<span style={{ padding: '4px' }}>Photo</span>}\r\n              key='1'\r\n              style={{ width: '100%' }}\r\n            >\r\n              <Images />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={<span style={{ padding: '4px' }}>Videos</span>}\r\n              key='2'\r\n            >\r\n              <Videos />\r\n            </TabPane>\r\n            <TabPane tab={<span style={{ padding: '4px' }}>GIFs</span>} key='3'>\r\n              <Giphy />\r\n            </TabPane>\r\n          </Tabs>\r\n        </div>\r\n      )}\r\n      {sideType === 'objects' && (\r\n        <div>\r\n          <h3 className='headerBG'>Objects</h3>\r\n          <Tabs defaultActiveKey='1' type='card' style={{ color: 'white' }}>\r\n            <TabPane tab='Shape' key='1' className='hidescroll'>\r\n              <Shapes />\r\n            </TabPane>\r\n            <TabPane tab='Emoji' key='2' className='hidescroll'>\r\n              <Emojis />\r\n            </TabPane>\r\n            <TabPane tab='Stickers' key='3'>\r\n              <Stickers />\r\n            </TabPane>\r\n          </Tabs>\r\n        </div>\r\n      )}\r\n      {sideType === 'custom' && (\r\n        <div>\r\n          <h3 className='headerBG'>{customComponent?.name}</h3>\r\n          {customComponent?.component}\r\n        </div>\r\n      )}\r\n      {sideType === 'upload' && <div>{uploadFiles?.component}</div>}\r\n    </Sider>\r\n  )\r\n}\r\n\r\nexport default SideMenuContent\r\n","import React from 'react'\r\nimport { Upload, Button } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\n\r\nconst UploadFiles = () => {\r\n    const props = {\r\n        action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n        onChange({ file, fileList }) {\r\n          if (file.status !== 'uploading') {\r\n            console.log(file, fileList);\r\n          }\r\n        },\r\n        defaultFileList: [\r\n          {\r\n            uid: '1',\r\n            name: 'xxx.png',\r\n            status: 'done',\r\n            response: 'Server Error 500', // custom error message to show\r\n            url: 'http://www.baidu.com/xxx.png',\r\n          },\r\n          {\r\n            uid: '2',\r\n            name: 'yyy.png',\r\n            status: 'done',\r\n            url: 'http://www.baidu.com/yyy.png',\r\n          },\r\n          {\r\n            uid: '3',\r\n            name: 'zzz.png',\r\n            status: 'error',\r\n            response: 'Server Error 500', // custom error message to show\r\n            url: 'http://www.baidu.com/zzz.png',\r\n          },\r\n        ],\r\n      };\r\n    return (\r\n        <div>\r\n            <Upload  {...props}>\r\n                <Button className=\"uploadBtn\" icon={<UploadOutlined />}>Upload</Button>\r\n            </Upload>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport {UploadFiles}\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Layout, Avatar, Upload } from \"antd\";\r\nimport { FaPalette, FaFont, FaCamera, FaSmiley, FaUpload } from \"./FontAwesome\";\r\nimport MainContent from \"./MainContent\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCloudUploadAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Navbar from \"./Navbar\";\r\nimport logo from \"../assets/imgs/logo.png\";\r\nimport SideMenuContent from \"./Editor/SideMenuContent\";\r\nimport { SlidesProvider } from \"../providers/Slides\";\r\nimport { UploadFiles } from \"./Editor/SideBar/Upload/Upload\";\r\n\r\nconst { Sider } = Layout;\r\n\r\nexport default function MainLayout() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [sideType, setSideType] = useState(\"\");\r\n  const [customComponent, setCustomComponent] = useState([]);\r\n  const [uploadFiles, setUploadFiles] = useState(null);\r\n  const [preview, setPreview] = useState(true);\r\n\r\n  const history = useHistory();\r\n\r\n  const openSecondarySider = (type) => {\r\n    if (sideType === type && isOpen) {\r\n      setIsOpen(false);\r\n      setSideType(\"\");\r\n      return;\r\n    } else {\r\n      setIsOpen(true);\r\n      switch (type) {\r\n        case \"background\":\r\n          setSideType(type);\r\n          break;\r\n        case \"text\":\r\n          setSideType(type);\r\n          break;\r\n        case \"media\":\r\n          setSideType(type);\r\n          break;\r\n        case \"objects\":\r\n          setSideType(type);\r\n          break;\r\n        case \"help\":\r\n          setSideType(type);\r\n          break;\r\n        case \"custom\":\r\n          setSideType(type);\r\n          break;\r\n        case \"upload\":\r\n          setSideType(type);\r\n          break;\r\n        default:\r\n          setIsOpen(!isOpen);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  return (\r\n    <SlidesProvider>\r\n      <Layout className=\"sect main-sidebar\">\r\n        <Sider className=\"sider\">\r\n          <div className=\"logo\">\r\n            <Avatar\r\n              shape=\"square\"\r\n              size=\"medium\"\r\n              src={logo}\r\n              onClick={() => history.push(\"/stories/templates\")}\r\n            />{\" \"}\r\n          </div>\r\n          <div\r\n            className={\r\n              sideType === \"background\" && isOpen\r\n                ? \"sideBarContent sideBarContent-active\"\r\n                : \"sideBarContent\"\r\n            }\r\n            onClick={() => openSecondarySider(\"background\")}\r\n          >\r\n            <div className=\"sideBarIcons\">\r\n              <FaPalette />\r\n            </div>\r\n            <div className=\"sideBarTexts\">Background</div>\r\n          </div>\r\n\r\n          <div\r\n            className={\r\n              sideType === \"text\" && isOpen\r\n                ? \"sideBarContent sideBarContent-active\"\r\n                : \"sideBarContent\"\r\n            }\r\n            onClick={() => openSecondarySider(\"text\")}\r\n          >\r\n            <div className=\"sideBarIcons\">\r\n              <FaFont />\r\n            </div>\r\n            <div className=\"sideBarTexts\">Text</div>\r\n          </div>\r\n\r\n          <div\r\n            className={\r\n              sideType === \"media\" && isOpen\r\n                ? \"sideBarContent sideBarContent-active\"\r\n                : \"sideBarContent\"\r\n            }\r\n            onClick={() => openSecondarySider(\"media\")}\r\n          >\r\n            <div className=\"sideBarIcons\">\r\n              <FaCamera />\r\n            </div>\r\n            <div className=\"sideBarTexts\">Media</div>\r\n          </div>\r\n\r\n          <div\r\n            className={\r\n              sideType === \"objects\" && isOpen\r\n                ? \"sideBarContent sideBarContent-active\"\r\n                : \"sideBarContent\"\r\n            }\r\n            onClick={() => openSecondarySider(\"objects\")}\r\n          >\r\n            <div className=\"sideBarIcons\">\r\n              <FaSmiley />\r\n            </div>\r\n            <div className=\"sideBarTexts\">Objects</div>\r\n          </div>\r\n\r\n          <div\r\n            className={\r\n              sideType === \"objects\" && isOpen\r\n                ? \"sideBarContent sideBarContent-active\"\r\n                : \"sideBarContent\"\r\n            }\r\n            onClick={() => {\r\n              openSecondarySider(\"upload\");\r\n              setUploadFiles({ component: <UploadFiles /> });\r\n              // setVisible(true)\r\n            }}\r\n          >\r\n            <div className=\"sideBarIcons\">\r\n              {/* <FaUpload /> */}\r\n              <FontAwesomeIcon icon={faCloudUploadAlt} />\r\n            </div>\r\n            <div className=\"sideBarTexts\">Upload</div>\r\n          </div>\r\n\r\n          <div className=\"sideLastItem\">?</div>\r\n        </Sider>\r\n\r\n        {/* {isOpen && sideType && ( */}\r\n        <SideMenuContent\r\n          sideType={sideType}\r\n          open={isOpen}\r\n          onClose={() => {\r\n            setIsOpen(!isOpen);\r\n            setSideType(\"\");\r\n          }}\r\n          customComponent={customComponent}\r\n          uploadFiles={uploadFiles}\r\n        />\r\n        {/* )} */}\r\n        <Layout className=\"sect\">\r\n          <Navbar\r\n            openAnimationPanel={({ component }) => {\r\n              setIsOpen(true);\r\n              setCustomComponent({ component, name: \"Animations\" });\r\n              openSecondarySider(\"custom\");\r\n            }}\r\n          />\r\n          <MainContent />\r\n        </Layout>\r\n      </Layout>\r\n    </SlidesProvider>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { Form, Input } from 'antd'\r\n\r\nconst errorStyle = {\r\n  position: 'absolute',\r\n  color: '#ff0000',\r\n}\r\n\r\nconst ModalForm = ({ setStoryName, setTags, error, onSubmit }) => {\r\n  return (\r\n    <Form layout='vertical' style={{ textAlign: 'initial' }}>\r\n      <Form.Item label='Name:'>\r\n        <Input\r\n          placeholder='Type in your story name'\r\n          autoFocus\r\n          spellCheck\r\n          onChange={(e) => setStoryName(e.target.value)}\r\n          onKeyUp={(e) => (e.key === 'Enter' ? onSubmit() : '')}\r\n          style={error?.trim() ? { border: '1px solid #ff0000' } : {}}\r\n        />\r\n        {error?.trim() && <div style={errorStyle}>{error}</div>}\r\n      </Form.Item>\r\n      <Form.Item\r\n        label='Add tags:'\r\n        extra='Press enter, tab or comma to separate items.'\r\n      >\r\n        <Input\r\n          spellCheck\r\n          placeholder='Search for tag(s)'\r\n          onChange={(e) => setTags(e.target.value)}\r\n        />\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default ModalForm\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Card, Col } from 'antd'\r\nimport { deleteStory, activeStory } from '../../redux/slices/storiesSlice'\r\nimport { useRedux } from '../../hooks'\r\nimport {\r\n    getKeysFromObject,\r\n    isValidObjectWithKeys,\r\n} from '../../helper/meta'\r\n\r\nimport { STORIES_KEY, VIEW_STORY, VIEW } from '../../helper/contants'\r\nimport BasicButton from '../form_control/BasicButton'\r\nimport MenuBar from '../form_control/MenuBar'\r\n\r\nconst AllStories = () => {\r\n    let history = useHistory()\r\n    let [dispatch, , getState] = useRedux()\r\n    let stories = getState(STORIES_KEY)\r\n    const goto = (url) => history.push(url)\r\n    return <>\r\n        {isValidObjectWithKeys(stories.data)\r\n            ? getKeysFromObject(stories.data).map((storyId, i) => (\r\n                <Col span={4} key={i}>\r\n                    <MenuBar\r\n                        menuItems={[\r\n                            { action: () => goto(`/story/${storyId}`), text: 'View' },\r\n                            {\r\n                                action: () => dispatch(deleteStory({ id: storyId })),\r\n                                text: 'Delete',\r\n                            },\r\n                        ]}\r\n                        actionTrigger='contextMenu'\r\n                    >\r\n                        <Card\r\n                            // hoverable\r\n                            style={{\r\n                                width: 200,\r\n                                height: 360,\r\n                                borderRadius: 15,\r\n                                textAlign: 'center',\r\n                                padding: '120px 0',\r\n                                background: '#F0F2F5',\r\n                            }}\r\n                        >\r\n                            <BasicButton\r\n                                onClick={() => {\r\n                                    dispatch(activeStory({ id: storyId }))\r\n                                    goto(`/story/${storyId}`)\r\n                                }}\r\n                                withTooltip\r\n                                tooltipProps={{\r\n                                    tooltipTitle:\r\n                                        `${VIEW} ${stories.data[storyId].name}` ?? VIEW_STORY,\r\n                                }}\r\n                            >\r\n                                {VIEW_STORY}\r\n                            </BasicButton>\r\n                        </Card>\r\n                    </MenuBar>\r\n                </Col>\r\n            ))\r\n            : ''}</>\r\n}\r\n\r\nexport default AllStories","import React, { useCallback, useState } from \"react\";\r\nimport { Modal, Card, Button, Col } from \"antd\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport ModalForm from \"./ModalForm\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { createStory } from \"../../redux/slices/storiesSlice\";\r\nimport { useRedux } from \"../../hooks\";\r\nimport { generateId } from \"../../helper/meta\";\r\nimport {\r\n  MIN_STORY_NAME_LENGTH,\r\n  MAX_STORY_NAME_LENGTH,\r\n  REQUIRED_STORY_MIN_MSG,\r\n  REQUIRED_STORY_MAX_MSG,\r\n} from \"../../helper/contants\";\r\nimport AllStories from \"./AllStories\";\r\n\r\nconst { Meta } = Card;\r\n\r\nconst TemplateModal = () => {\r\n  const [dispatch] = useRedux();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [storyName, setStoryName] = useState(\"\");\r\n  const [storyTags, setTags] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n\r\n  const history = useHistory();\r\n  const goto = (url) => history.push(url);\r\n\r\n  let setNameOfStory = useCallback((name) => {\r\n    if (error && name === \"\") setError(\"Please enter story name!\");\r\n    else if (error && name.length < MIN_STORY_NAME_LENGTH)\r\n      setError(REQUIRED_STORY_MIN_MSG);\r\n    else if (error && name.length > MAX_STORY_NAME_LENGTH)\r\n      setError(REQUIRED_STORY_MAX_MSG);\r\n    else if (\r\n      error &&\r\n      name.length >= MIN_STORY_NAME_LENGTH &&\r\n      name.length <= MAX_STORY_NAME_LENGTH\r\n    )\r\n      setError(\" \");\r\n    setStoryName(name);\r\n  });\r\n\r\n  const createNewStory = () => {\r\n    if (storyName === \"\") setError(\"Please enter story name!\");\r\n    else if (storyName.length < MIN_STORY_NAME_LENGTH)\r\n      setError(REQUIRED_STORY_MIN_MSG);\r\n    else if (storyName.length > MAX_STORY_NAME_LENGTH)\r\n      setError(REQUIRED_STORY_MAX_MSG);\r\n    else {\r\n      let id = generateId();\r\n      dispatch(createStory({ name: storyName, tags: storyTags, id }));\r\n      setIsModalVisible(!isModalVisible);\r\n      goto(`/story/${id}`);\r\n    }\r\n  };\r\n\r\n  const handleVisibility = () => {\r\n    setIsModalVisible(!isModalVisible);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <Col span={4} key={generateId()}>\r\n        <Card\r\n          hoverable\r\n          style={{\r\n            width: 200,\r\n            height: 360,\r\n            borderRadius: 15,\r\n            textAlign: \"center\",\r\n            padding: \"120px 0\",\r\n            background: \"#F0F2F5\",\r\n          }}\r\n          onClick={handleVisibility}\r\n        >\r\n          <PlusOutlined className=\"dashboard-scratch\" />\r\n          <Meta title=\" Start from scratch\" />\r\n        </Card>\r\n      </Col>\r\n\r\n      <AllStories />\r\n\r\n      <div id=\"codeblock\"></div>\r\n\r\n      <Modal\r\n        title=\"New Story\"\r\n        visible={isModalVisible}\r\n        className=\"templateModal\"\r\n        onCancel={handleVisibility}\r\n        footer={[\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={handleVisibility}\r\n            className=\"modal-cancel-button\"\r\n            key={1}\r\n          >\r\n            Cancel\r\n          </Button>,\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={createNewStory}\r\n            className=\"modal-create-button\"\r\n            key={2}\r\n          >\r\n            Create Stories\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <ModalForm\r\n          setStoryName={setNameOfStory}\r\n          setTags={setTags}\r\n          error={error}\r\n          onSubmit={createNewStory}\r\n        />\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TemplateModal;\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Layout,\r\n  Avatar,\r\n  Row,\r\n  Col,\r\n  Input,\r\n  Tooltip,\r\n  // Menu,\r\n  // Popover\r\n} from \"antd\";\r\nimport { CaretLeftOutlined, SearchOutlined } from \"@ant-design/icons\";\r\nimport { FaHome } from \"../FontAwesome\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faUserAlt,\r\n  faTachometerAlt,\r\n  faUsers,\r\n  faCog,\r\n  faDatabase,\r\n  // faUserCircle,\r\n  // faSignOutAlt,\r\n  faChartArea,\r\n  faLayerGroup,\r\n  faClone,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport logo from \"../../assets/imgs/logo.png\";\r\nimport { Content } from \"antd/lib/layout/layout\";\r\nimport TemplateModal from \"../Stories/TemplateModal\";\r\n\r\nconst { Sider } = Layout;\r\n\r\nexport default function Templates() {\r\n  const [openUserProfileTab, setOpenUserProfileTab] = React.useState(false);\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", clickOutsideProfileMenu);\r\n    return () => document.removeEventListener(\"click\", clickOutsideProfileMenu);\r\n  }, [openUserProfileTab]);\r\n\r\n  const clickOutsideProfileMenu = (e) => {\r\n    // console.log(!e.target.closest('#subMenu'), openUserProfileTab)\r\n    if (!e.target.closest(\"#subMenu\") && openUserProfileTab) {\r\n      userProfileTabHandler();\r\n    } else return;\r\n  };\r\n\r\n  const fontSizings = {\r\n    fontSize: \"16px\",\r\n  };\r\n\r\n  const userProfileTabHandler = () => {\r\n    setOpenUserProfileTab(!openUserProfileTab);\r\n  };\r\n\r\n  return (\r\n    <Layout className=\"sect \">\r\n      <Sider className=\"template-sider\">\r\n        <div className=\"template-logo\">\r\n          <Avatar shape=\"square\" size=\"medium\" src={logo} />{\" \"}\r\n        </div>\r\n\r\n        <div className=\"template-sidebar-content\">\r\n          <div className=\"template-sidebar-icons\">\r\n            <Tooltip placement=\"right\" title={\"Homepage\"}>\r\n              <FaHome style={fontSizings} />\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"template-sidebar-content\">\r\n          <div className=\"template-sidebar-icons\">\r\n            <Tooltip placement=\"right\" title={\"Stories\"}>\r\n              <FontAwesomeIcon icon={faLayerGroup} style={fontSizings} />\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"template-sidebar-content\">\r\n          <Tooltip placement=\"right\" title={\"Templates\"}>\r\n            <div className=\"template-sidebar-icons-active\">\r\n              <FontAwesomeIcon icon={faClone} style={fontSizings} />\r\n            </div>\r\n          </Tooltip>\r\n        </div>\r\n\r\n        <div className=\"template-sidebar-content\">\r\n          <div className=\"template-sidebar-icons\">\r\n            <Tooltip placement=\"right\" title={\"Analytics\"}>\r\n              <FontAwesomeIcon icon={faChartArea} style={fontSizings} />\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"template-sidebar-content\">\r\n          <div className=\"template-sidebar-icons\">\r\n            <Tooltip placement=\"right\" title={\"Widgets\"}>\r\n              <FontAwesomeIcon icon={faTachometerAlt} style={fontSizings} />\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"template-sidebar-content\">\r\n          <div className=\"template-sidebar-icons\">\r\n            <Tooltip placement=\"right\" title={\"Audience\"}>\r\n              <FontAwesomeIcon icon={faUsers} style={fontSizings} />\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"template-sidebar-content\">\r\n          <div className=\"template-sidebar-icons\">\r\n            <Tooltip placement=\"right\" title={\"Settings\"}>\r\n              <FontAwesomeIcon icon={faCog} style={fontSizings} />\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"template-sidebar-content\">\r\n          <div className=\"template-sidebar-icons\">\r\n            <Tooltip placement=\"right\" title={\"Integrations\"}>\r\n              <FontAwesomeIcon icon={faDatabase} style={fontSizings} />\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n        <div className=\"userProfile\" onClick={userProfileTabHandler}>\r\n          <FontAwesomeIcon icon={faUserAlt} style={{ fontSize: \"21px\" }} />\r\n        </div>\r\n        {openUserProfileTab && (\r\n          <div\r\n            onClick={clickOutsideProfileMenu}\r\n            id=\"subMenu\"\r\n            className=\"ant-dropdown ant-dropdown-placement-bottomRight\"\r\n            style={{ minWidth: \"200px\", left: \"65px\", top: \"54.4%\" }}\r\n          >\r\n            <div className=\"nav-profile nav-dropdown\">\r\n              <div className=\"nav-profile-header\">\r\n                <div className=\"d-flex\">\r\n                  <span\r\n                    style={{\r\n                      width: \"45px\",\r\n                      height: \"45px\",\r\n                      lineHeight: \"45px\",\r\n                      fontSize: \"18px\",\r\n                    }}\r\n                    className=\"ant-avatar ant-avatar-circle ant-avatar-image\"\r\n                  >\r\n                    <img alt=\"\" src=\"/thumb-1.jpg\" />\r\n                  </span>\r\n                  <div className=\"pl-3\">\r\n                    <h4 className=\"mb-0\">Charlie Howard</h4>\r\n                    <span className=\"text-muted\">Frontend Developer</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"nav-profile-body\">\r\n                <ul\r\n                  className=\"ant-menu ant-menu-light ant-menu-root ant-menu-vertical\"\r\n                  direction=\"ltr\"\r\n                  role=\"menu\"\r\n                >\r\n                  <li\r\n                    className=\"ant-menu-item ant-menu-item-only-child\"\r\n                    role=\"menuitem\"\r\n                  >\r\n                    <a href=\"/\">\r\n                      <span\r\n                        role=\"img\"\r\n                        aria-label=\"edit\"\r\n                        className=\"anticon anticon-edit mr-3\"\r\n                      >\r\n                        <svg\r\n                          viewBox=\"64 64 896 896\"\r\n                          focusable=\"false\"\r\n                          data-icon=\"edit\"\r\n                          width=\"1em\"\r\n                          height=\"1em\"\r\n                          fill=\"currentColor\"\r\n                          aria-hidden=\"true\"\r\n                        >\r\n                          <path d=\"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\"></path>\r\n                        </svg>\r\n                      </span>\r\n                      <span className=\"font-weight-normal\">Edit Profile</span>\r\n                    </a>\r\n                  </li>\r\n                  <li\r\n                    className=\"ant-menu-item ant-menu-item-only-child\"\r\n                    role=\"menuitem\"\r\n                  >\r\n                    <a href=\"/\">\r\n                      <span\r\n                        role=\"img\"\r\n                        aria-label=\"setting\"\r\n                        className=\"anticon anticon-setting mr-3\"\r\n                      >\r\n                        <svg\r\n                          viewBox=\"64 64 896 896\"\r\n                          focusable=\"false\"\r\n                          data-icon=\"setting\"\r\n                          width=\"1em\"\r\n                          height=\"1em\"\r\n                          fill=\"currentColor\"\r\n                          aria-hidden=\"true\"\r\n                        >\r\n                          <path d=\"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z\"></path>\r\n                        </svg>\r\n                      </span>\r\n                      <span className=\"font-weight-normal\">\r\n                        Account Setting\r\n                      </span>\r\n                    </a>\r\n                  </li>\r\n                  <li\r\n                    className=\"ant-menu-item ant-menu-item-only-child\"\r\n                    role=\"menuitem\"\r\n                  >\r\n                    <a href=\"/\">\r\n                      <span\r\n                        role=\"img\"\r\n                        aria-label=\"shop\"\r\n                        className=\"anticon anticon-shop mr-3\"\r\n                      >\r\n                        <svg\r\n                          viewBox=\"64 64 896 896\"\r\n                          focusable=\"false\"\r\n                          data-icon=\"shop\"\r\n                          width=\"1em\"\r\n                          height=\"1em\"\r\n                          fill=\"currentColor\"\r\n                          aria-hidden=\"true\"\r\n                        >\r\n                          <path d=\"M882 272.1V144c0-17.7-14.3-32-32-32H174c-17.7 0-32 14.3-32 32v128.1c-16.7 1-30 14.9-30 31.9v131.7a177 177 0 0014.4 70.4c4.3 10.2 9.6 19.8 15.6 28.9v345c0 17.6 14.3 32 32 32h676c17.7 0 32-14.3 32-32V535a175 175 0 0015.6-28.9c9.5-22.3 14.4-46 14.4-70.4V304c0-17-13.3-30.9-30-31.9zM214 184h596v88H214v-88zm362 656.1H448V736h128v104.1zm234 0H640V704c0-17.7-14.3-32-32-32H416c-17.7 0-32 14.3-32 32v136.1H214V597.9c2.9 1.4 5.9 2.8 9 4 22.3 9.4 46 14.1 70.4 14.1s48-4.7 70.4-14.1c13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0038.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0038.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 3-1.3 6-2.6 9-4v242.2zm30-404.4c0 59.8-49 108.3-109.3 108.3-40.8 0-76.4-22.1-95.2-54.9-2.9-5-8.1-8.1-13.9-8.1h-.6c-5.7 0-11 3.1-13.9 8.1A109.24 109.24 0 01512 544c-40.7 0-76.2-22-95-54.7-3-5.1-8.4-8.3-14.3-8.3s-11.4 3.2-14.3 8.3a109.63 109.63 0 01-95.1 54.7C233 544 184 495.5 184 435.7v-91.2c0-.3.2-.5.5-.5h655c.3 0 .5.2.5.5v91.2z\"></path>\r\n                        </svg>\r\n                      </span>\r\n                      <span className=\"font-weight-normal\">Billing</span>\r\n                    </a>\r\n                  </li>\r\n                  <li\r\n                    className=\"ant-menu-item ant-menu-item-only-child\"\r\n                    role=\"menuitem\"\r\n                  >\r\n                    <a href=\"/\">\r\n                      <span\r\n                        role=\"img\"\r\n                        aria-label=\"question-circle\"\r\n                        className=\"anticon anticon-question-circle mr-3\"\r\n                      >\r\n                        <svg\r\n                          viewBox=\"64 64 896 896\"\r\n                          focusable=\"false\"\r\n                          data-icon=\"question-circle\"\r\n                          width=\"1em\"\r\n                          height=\"1em\"\r\n                          fill=\"currentColor\"\r\n                          aria-hidden=\"true\"\r\n                        >\r\n                          <path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"></path>\r\n                          <path d=\"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z\"></path>\r\n                        </svg>\r\n                      </span>\r\n                      <span className=\"font-weight-normal\">Help Center</span>\r\n                    </a>\r\n                  </li>\r\n                  <li\r\n                    className=\"ant-menu-item ant-menu-item-only-child\"\r\n                    role=\"menuitem\"\r\n                  >\r\n                    <span>\r\n                      <span\r\n                        role=\"img\"\r\n                        aria-label=\"logout\"\r\n                        className=\"anticon anticon-logout mr-3\"\r\n                      >\r\n                        <svg\r\n                          viewBox=\"64 64 896 896\"\r\n                          focusable=\"false\"\r\n                          data-icon=\"logout\"\r\n                          width=\"1em\"\r\n                          height=\"1em\"\r\n                          fill=\"currentColor\"\r\n                          aria-hidden=\"true\"\r\n                        >\r\n                          <path d=\"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z\"></path>\r\n                        </svg>\r\n                      </span>\r\n                      <span className=\"font-weight-normal\">Sign Out</span>\r\n                    </span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Sider>\r\n      <Layout>\r\n        <Content className=\"template-content\">\r\n          <Row>\r\n            <Col span={8}>\r\n              <h2 style={{ marginBottom: \"0.5em\" }}>\r\n                <Avatar\r\n                  style={{\r\n                    background: \"#F6F6F9\",\r\n                    color: \"#000\",\r\n                    marginRight: \"15px\",\r\n                  }}\r\n                  size={32}\r\n                  icon={<CaretLeftOutlined />}\r\n                />\r\n                <b>Templates</b>\r\n              </h2>\r\n            </Col>\r\n            <Col offset={10} span={6}>\r\n              <Input\r\n                placeholder=\"Search Templates\"\r\n                prefix={<SearchOutlined />}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <TemplateModal />\r\n          </Row>\r\n        </Content>\r\n      </Layout>\r\n    </Layout>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport './assets/css/App.css'\r\nimport './assets/css/Main.css'\r\nimport MainLayout from './components/MainLayout'\r\nimport Templates from './components/Stories/Templates'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom'\r\nimport ModalView from './components/modal'\r\n\r\nfunction App() {\r\n  return (\r\n    <div className='App'>\r\n      <Router>\r\n        <Switch>\r\n          {/* <Redirect exact from='/' to='/stories/templates' /> */}\r\n          {/* <Route component={MainLayout} path='/stories/editor' /> */}\r\n          <Route component={MainLayout} path='/story/:storyId' />\r\n          <Route component={Templates} path='/' />\r\n        </Switch>\r\n      </Router>\r\n      <ModalView />\r\n    </div>\r\n  )\r\n}\r\nexport default App\r\n","import { calculteTimeDiff } from '../../helper/meta'\r\n\r\nconst logColor = {\r\n  actiontitle: 'color:#9E9E9E; font-weight: lighter',\r\n  action: 'color:#03A9F4; font-weight: bold',\r\n  error: 'color:#F20404; font-weight: bold',\r\n  nextState: 'color:#4CAF50; font-weight: bold',\r\n  prevState: 'color:#9E9E9E; font-weight: bold',\r\n  black: 'color:black; font-weight: bold',\r\n  black: 'color:white; font-weight: bold',\r\n}\r\n\r\nconst logger = (store) => (next) => (action) => {\r\n  let startingTime = Date.now()\r\n  let prevState = store.getState()\r\n  const label = action.type\r\n  try {\r\n    let result = next(action)\r\n    let endingTime = Date.now()\r\n    let time = '%c @ ' + calculteTimeDiff(startingTime, endingTime)\r\n    let nextState = store.getState()\r\n    console.group(\r\n      `%c action %c${label} ${time}`,\r\n      logColor.actiontitle,\r\n      logColor.white,\r\n      logColor.actiontitle\r\n    )\r\n    console.info('%c prev state ', logColor.prevState, prevState)\r\n    console.info('%c action', logColor.action, action)                    // redux\r\n    console.info('%c next state', logColor.nextState, nextState)\r\n    console.groupEnd(label)\r\n    return result\r\n  } catch (e) {\r\n    let endingTime = Date.now()\r\n    let time = '%c @' + calculteTimeDiff(startingTime, endingTime)\r\n    console.group(\r\n      `%c action %c${label} ${time}`,\r\n      logColor.actiontitle,\r\n      logColor.black,\r\n      logColor.actiontitle\r\n    )\r\n    console.info('%c prev state ', logColor.prevState, prevState)\r\n    console.info('%c action', logColor.action, action)\r\n    console.info('%c error', logColor.error, e)\r\n    console.groupEnd(label)\r\n  }\r\n}\r\n\r\nexport { logger }\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport { MODAL_SLICE_NAME } from '../../helper/contants'\r\n\r\nconst modalState = {\r\n    open: false,\r\n    body: null\r\n}\r\nconst modalSlice = createSlice({\r\n    name: MODAL_SLICE_NAME,\r\n    initialState: modalState,\r\n    reducers: {\r\n        setModalContent: (state, { payload }) => {\r\n            state.open = true\r\n            state.body = payload // In payload we get coponent/children for our Modal\r\n        },\r\n        closeModal: (state) => {\r\n            state.open = false\r\n            state.body = null\r\n        }\r\n    }\r\n})\r\n\r\nexport const { setModalContent, closeModal } = modalSlice.actions\r\nexport default modalSlice.reducer","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport storiesReducers from \"../slices/storiesSlice\";\r\n// import { logger } from 'redux-logger'\r\nimport undoable from \"redux-undo\";\r\nimport { logger } from \"../middlewares\";\r\nimport {\r\n  ACTIONS_STACK_KEY,\r\n  EDITOR_META_KEY,\r\n  MODAL_SLICE_NAME,\r\n  STORIES_KEY,\r\n} from \"../../helper/contants\";\r\nimport editorMetaReducers from \"../slices/editorMetaSlice\";\r\nimport actionStackReducers from \"../slices/actionStackSlice\";\r\nimport modalReducers from \"../slices/modalSlice\";\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    [STORIES_KEY]: undoable(storiesReducers, {\r\n      limit: false, // set a limit for the size of the history\r\n    }),\r\n    // [STORIES_KEY]: storiesReducers,\r\n    // [ACTIONS_STACK_KEY]: actionStackReducers,\r\n    [EDITOR_META_KEY]: editorMetaReducers,\r\n    [MODAL_SLICE_NAME]: modalReducers,\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({ serializableCheck: false }).concat(logger),\r\n});\r\n\r\nexport default store;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { DndProvider } from 'react-dnd'\r\nimport { ModalProvider } from './providers/Modal'\r\nimport { NotificationProvider } from './providers/Notification'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport { Provider } from 'react-redux'\r\nimport App from './App'\r\nimport store from './redux/store/store'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <NotificationProvider>\r\n      <ModalProvider>\r\n        <DndProvider backend={HTML5Backend}>\r\n          <App />\r\n        </DndProvider>\r\n      </ModalProvider>\r\n    </NotificationProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}